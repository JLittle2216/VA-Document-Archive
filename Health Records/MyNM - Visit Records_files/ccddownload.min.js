/*! Copyright (c) Epic Systems Corporation 2010 - 2017 */
function setupDownloadForm(){var f="protectionpretext",e="noprotectionpretext",d,b,k,i,j,h,c,g,a;d=document.getElementById("li_open");b=document.getElementById("li_protect");if(d&&b){d.onclick=function(){handleLiClick(d,b,[e],[f,"usePwd"],false)};b.onclick=function(){handleLiClick(b,d,[f,"usePwd"],[e],true)}}h=document.getElementById("weak");c=document.getElementById("weaklabel");g=document.getElementById("strong");a=document.getElementById("stronglabel");if(h&&c&&g&&a){h.onchange=h.onlick=c.onclick=function(){handleButtonClick(c,a)};g.onchange=g.onclick=a.onclick=function(){handleButtonClick(a,c)}}k=document.getElementById("ccdform");if(k)k.onsubmit=checkDownloadForm;i=document.getElementById("documentpassword");if(i)i.onfocus=function(){this.select()};j=document.getElementById("passwordverify");if(j)j.onfocus=function(){this.select()}}function handleLiClick(i,h,l,k,j){var g="aria-selected",c,a,d,f,e,b;i.className="selected";i.setAttribute(g,"true");h.className="";h.setAttribute(g,"false");for(c in l){a=document.getElementById(l[c]);if(a)a.className=a.className.replace(/\s*hidden\b/,"")}for(c in k){a=document.getElementById(k[c]);if(a)a.className=a.className.replace(/\s*hidden\b/,"")+" hidden"}d=document.getElementById("doencrypt");if(d)d.value=j?"true":"false";f=document.getElementById("documentpassword");if(f)f.value="";e=document.getElementById("passwordverify");if(e)e.value="";b=document.getElementById("downloadccd");if(b)b.className=b.className.replace(/\s*aligned\b/,"")+(j?" aligned":"")}function handleButtonClick(b,a){b.className=b.className.replace(/\bunselected\b/,"selected");a.className=a.className.replace(/\bselected\b/,"unselected")}function checkDownloadForm(e,c){var k="Documents.CCDDownload",h="passworderror",f=true,d=false,i,a,b,j,g;if(e===null||e===undefined)e=d;if(c===null||c===undefined)c=f;i=document.getElementById("doencrypt");a=document.getElementById("documentpassword");b=document.getElementById("passwordverify");g=getErrorForScreenReader();if(i&&i.value.toLowerCase()==="true"||e){if(a.value.length===0&&c===d)return d;if(a.value.length<8){turnOnHighlight(a);turnOffHighlight(b);changeErrorField(h,g+$$WP.Strings.get("CCDPasswordLenErr",k));c===f&&resetElements(a,b);return d}if(b&&b.value!==a.value){if(b.value.length>0){turnOnHighlight(a);turnOnHighlight(b);changeErrorField(h,g+$$WP.Strings.get("CCDPasswordDiffErr",k))}c===f&&resetElements(a,b);return d}}turnOffHighlight(a);turnOffHighlight(b);changeErrorField(h,"");j=document.getElementById("downloadccd");j&&disableButton(j);return f}function resetElements(a,b){a.value="";b.value="";a.focus()}function submitForm(b){if(b&&b.disabled===true)return false;var a;if(checkDownloadForm()){a=document.getElementById("ccdform");a&&a.submit()}}function disableButton(a){var b,c,g,e,f,d;g=a.value;d=a.disabled;f=a.className;e=a.style.cursor;a.value=$$WP.Strings.get("CCDDownloadWaitMessage","Documents.CCDDownload");a.disabled=true;a.className+=" disabled";a.style.cursor="default";b=document.getElementById("showondownload");if(b)b.className=b.className.replace(/\s*hidden/,"");c=window.setInterval(function(){var h,j,i,k;h=document.getElementById("downloadcookie").value;j=parseInt(getCookie(h),1);if(j===1){deleteCookie(h);window.clearInterval(c);i=document.getElementById("documentpassword");k=document.getElementById("passwordverify");if(i){i.value="";k.value=""}a.value=g;a.disabled=d;a.className=f;a.style.cursor=e;if(b)b.className+=" hidden"}},3e3);return true}