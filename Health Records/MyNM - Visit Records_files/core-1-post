var Epic=Epic||{},$$WPUtil,$$WP,console,EpicPx;Epic.PatientAccess=Epic.PatientAccess||{};$$WP=$$WP||Epic.PatientAccess;$$WP.Utilities=$$WP.Utilities||{};$$WP.Utilities.UI=$$WP.Utilities.UI||{};$$WP.Utilities.UI.Map=$$WP.Utilities.UI.Map||{};$$WP.Utilities.UI.Map.Support=$$WP.Utilities.UI.Map.Support||{};$$WP.Utilities.UI.SetContext=function(){var i="isPrelogin",n=$afe.select("body"),t;$$WP.Utilities.UI.IsLoggedIn=n.hasClass("isInside");$$WP.Utilities.UI.IsLoggedIn||n.hasClass(i)||$$WP.Debug.logError("Page body has neither isPrelogin nor isLoggedIn class. One or the other is required; assuming prelogin.");$$WP.Utilities.UI.IsWorkflowRestricted=n.hasClass("workflowRestricted");$$WP.Utilities.UI.IsMobile=$afe.select("html").hasClass("mobile");$$WP.Utilities.UI.IsStandaloneOpenScheduling=n.hasClass("md_openscheduling_index")||n.hasClass("md_anonymousscheduling_openscheduling")||n.hasClass("md_openscheduling_standalone");$$WP.Utilities.UI.IsSelfTriageForAll=(n.hasClass("md_landingpage_loadlandingpagedecisiontrees")||n.hasClass("md_selftriage_load"))&&n.hasClass(i);$$WP.Utilities.UI.IsCrossDeploymentLoadingPage=n.hasClass("md_crossdeploymentscheduling_schedulefromtoken");$$WP.Utilities.UI.IsEmbeddedOpenSchedulingWidget=n.hasClass("embedded");$$WP.Utilities.UI.IsFileUploader=n.hasClass("uploaderfileinput");$$WP.Utilities.UI.IsFullHeightPreloginWorkflow=n.hasClass("fullHeightPrelogin");$$WP.Utilities.UI.IsUsingGraphicHeader=n.hasClass("graphicHeader");$$WP.Utilities.UI.IsMobileRTLInNonResponsive=n.hasClass("mobileRTLInNonResponsive");$$WP.Utilities.UI.IsOnMyWay=n.hasClass("md_onmyway_index");$$WP.Utilities.UI.ContextSet=!0;t=n.safeAttr("class").match(/\bcolor\d+\b/);t!==null&&($$WP.Utilities.UI.ProxyColorClass=t[0])};$$WP.Utilities.UI.OnPageLoad=function(n){var a="scrollDisabled",u="highcontrast",c="#header",f="body",t=!0,o,s,r,l,h;if($$WP.Utilities.UI.PageLoaded===t)throw"Full UI Load called again after completion. This is forbidden.";if($$WP.Utilities.UI.StopPageLoad!==t){n.type!=="load"&&$$WP.Debug.logError("Full UI Load called by an event other than Page Load.");var i=$afe.select(f),y=$afe.select("#wrap"),v=$afe.select("form"),e;if($$WP.Utilities.UI.SetContext(),$$WP.Utilities.UI.IsFileUploader!==t){if(($$WP.Utilities.UI.IsLoggedIn||$$WP.Utilities.UI.IsFullHeightPreloginWorkflow)&&$$WP.Utilities.UI.RenderHeader(),WP.Utils.minifyElement($afe.select(c)),WP.Utils.minifyElement($afe.select("#content")),WP.Utils.minifyElement($afe.select("#footer")),$afe.select("#localeswitch").length>0&&$afe.select(c).addClass("haslocaleswitch"),e=".ghostInput input:not([type='image']), .ghostInput select, .ghostInput textarea",i.on("focus",e,$$WP.Utilities.UI.FocusGhostableInput).on("blur change",e,$$WP.Utilities.UI.BlurGhostableInput).find(e).each($$WP.Utilities.UI.BlurGhostableInput),v.submit(function(){$afe.jq(window).trigger("formSubmit")}),window.setTimeout(function(){WP.DOM.Browser.isWebKit&&v.find("input:-webkit-autofill").each($$WP.Utilities.UI.FocusGhostableInput)},50),$$WP.Utilities.UI.ResizePage(n),$afe.select(".cssSwitcher").click(function(n){var t;(n&&n.currentTarget.nodeName==="A"&&(t=n.currentTarget.getAttribute("data-csstitle")),t.length!==0)&&($$WP.Utilities.UI.ActivateStylesheet(t),$$WP.Utilities.UI.FocusCssSwitcher(t))}),o=$$WP.Utilities.UI.GetAlternateStylesheetIfActive(),o&&o.length>0?$$WP.Utilities.UI.ActivateStylesheet(o):$$WP.Utilities.UI.ActivateStylesheet("Default"),$$WP.Utilities.queryString(u)==="1"||$$WP.Utilities.queryString(u)==="true"?$$WP.Utilities.UI.ActivateStylesheet("High Contrast"):($$WP.Utilities.queryString(u)==="0"||$$WP.Utilities.queryString(u)==="false")&&$$WP.Utilities.UI.ActivateStylesheet("Default"),window.matchMedia&&(s=window.matchMedia("(-ms-high-contrast: active)"),s.matches&&$$WP.Utilities.UI.ActivateHighContrastThemeBasedOnMQL(s),s.addListener($$WP.Utilities.UI.ActivateHighContrastThemeBasedOnMQL)),$$WP.Utilities.UI.IsMobile&&$$WP.Utilities.UI.Map.mobile(n),i.hasClass("passthru")){$$WP.CommunityUtilities.checkIfCommunityJumpIsValid();$afe.jq(window).on("message",$$WP.CommunityUtilities.externalJumpMessageListener);$afe.select("a[href*='mode=other']").remove()}i.on("popupStateChanged",$$WP.Utilities.UI.ReactPopupStateChangedListener);i.on("touchstart",".button",function(){});if(i.addClass("ready"),$$WP.Utilities.UI.IsLoggedIn&&$afe.select(".component").trigger("resize"),navigator.userAgent.match(/Trident\/7./))i.on("mousewheel",function(n){if(!isDataTile()&&!$afe.select(f).hasClass(a)){var t=window.pageYOffset,i=n.originalEvent.wheelDelta;if(n.ctrlKey)return;n.preventDefault();window.scrollTo(window.pageXOffset,t-i)}});if(typeof specialEffects!="undefined"&&specialEffects(),$afe.select("#locale_container #localeswitch").length>0&&new $$WP.UI.LocaleSwitcherController($afe.select("#locale_container")),r=$afe.select(c),l=!r.hasClass("static"),l)r.on("transitionend",function(n){r.removeAttr("data-istransitioning");n.propertyName=="height"&&$$WP.Utilities.UI.SetHeaderSize(t)});$afe.jq(window).scroll(function(){var u=$afe.select("body, #wrap").hasClass(a),n,i,t;u||(window.setTimeout(function(){$$WP.Utilities.UI.SetHeaderSize(l)},100),n=$$WPUtil.getScrollLeft(),$afe.select("html").safeAttr("dir")=="rtl"?(t=$afe.select(f).width(),n=Math.min(n,t-$afe.jq(window).width()),i=Math.abs(n),r.css("right",-1*i)):(t=$afe.select(f).width(),n=Math.min(n,t-$afe.jq(window).width()),r.css("left",-1*n)))});$$WP.Utilities.UI.EnforceEpicLogoVisibility(t);$afe.jq(window).on("compactHeader",function(){$$WP.Utilities.UI.EnforceEpicLogoVisibility(!1)});$afe.jq(window).on("deCompactHeader",function(){$$WP.Utilities.UI.EnforceEpicLogoVisibility(t)});for($$WP.Utilities.UI.PageLoaded=t,h=0;h<$$WP.Utilities.UI._onUIFrameworkLoadedCallbacks.length;h++)$$WP.Utilities.UI._onUIFrameworkLoadedCallbacks[h]();$$WP.Performance&&$$WP.Performance.Tracker&&$$WP.Performance.Tracker._recordFrameworkMeasurements()}}};$$WP.Utilities.UI.SetHeaderSize=function(n){var i="compact",r="data-istransitioning",t=$afe.select("#header"),u=$$WPUtil.getScrollTop(),f=$$WP.Utilities.UI.IsUsingGraphicHeader?20:75,e=n&&t.safeAttr(r)===undefined;e&&(u>f?t.hasClass(i)||(t.addClass(i),$afe.jq(window).trigger("compactHeader"),n&&t.safeAttr(r,!0),$$WP.Utilities.UI.UpdateHeaderHeightCssVariable(n)):t.hasClass(i)&&(t.removeClass(i),$afe.jq(window).trigger("deCompactHeader"),n&&t.safeAttr(r,!0),$$WP.Utilities.UI.UpdateHeaderHeightCssVariable(n)))};$$WP.Utilities.UI.UpdateHeaderHeightCssVariable=function(n){var i="noTransitions",t=$afe.select("#header"),f=$afe.select("#main");n&&t.addClass(i);var r=t.outerHeight(),u=t.css("top"),e=r!=null&&u!=null?r+parseInt(u,10)+"px":"0px",o=f.css("padding-top");document.documentElement.style.setProperty("--wp-header-height",e);document.documentElement.style.setProperty("--wp-main-padding-top",o);t.safeAttr("data-istransitioning")&&(t.toggleClass("compact"),t.outerHeight(),t.toggleClass("compact"));n&&t.removeClass(i)};$$WP.Utilities.UI._onUIFrameworkLoadedCallbacks=[];$$WP.Utilities.UI.OnUIFrameworkLoaded=function(n){$$WP.Utilities.UI.PageLoaded?n():$$WP.Utilities.UI._onUIFrameworkLoadedCallbacks.push(n)};$$WP.Utilities.UI.ResizePage=function(n){var i=!0,t,r;if(!$$WP.Utilities.UI.ContextSet===i){$$WP.Debug.logError("ResizePage called before context was set. You should not call any part of the UI Framework before OnPageLoad has finished.");return}if($$WP.Utilities.UI.CurrentlyResizing===i){$$WP.Debug.log("WARNING: ResizePage called again before resize could finish.");return}if($$WP.Utilities.UI.IsFileUploader!==i){if($$WP.Utilities.UI.CurrentlyResizing=i,$$WP.Debug.UpdateTopMarginForBanners(),$$WP.Utilities.UI.IsLoggedIn?$$WP.Utilities.UI.Map.inside(n):$$WP.Utilities.UI.Map.prelogin(n),$$WP.Utilities.UI.PageMode(n),$$WP.Utilities.UI.SupportFiles(n),!$$WP.Utilities.UI.IsMobile){if(t=$afe.select("#header"),r=$afe.select("#main"),!t.safeAttr("data-istransitioning")){var u=t.outerHeight(),f=t.css("top"),o=u!=null&&f!=null?u+parseInt(f,10)+"px":"0px",s=r.css("padding-top");document.documentElement.style.setProperty("--wp-header-height",o);document.documentElement.style.setProperty("--wp-main-padding-top",s)}t.hasClass("static")||$$WP.Utilities.UI.EnforceEpicLogoVisibility(!t.hasClass("compact"));var h=$afe.select("#footer"),e=h.outerHeight(),c=e!=null?e+"px":"0px";document.documentElement.style.setProperty("--wp-footer-height",c)}$$WP.Utilities.UI.CurrentlyResizing=!1}};$$WP.Utilities.UI.PageMode=function(n){var t,i=$afe.select("body");WP.DOM.Browser.IEVersion!==8&&(t=i.prop("class").split(" ").filter(function(n){return/md_.*/.exec(n)}),t=t&&t.length>0?t[0].substr(3):null,t&&typeof $$WP.Utilities.UI.Map[t]=="function"&&$$WP.Utilities.UI.Map[t](n))};$$WP.Utilities.UI.SupportFiles=function(n){var t;for(t in $$WP.Utilities.UI.Map.Support)$$WP.Utilities.UI.Map.Support.hasOwnProperty(t)&&typeof $$WP.Utilities.UI.Map.Support[t]=="function"&&$$WP.Utilities.UI.Map.Support[t](n)};$$WP.Utilities.UI.FocusGhostableInput=function(){$afe.jq(this).parent().addClass("ghosted")};$$WP.Utilities.UI.BlurGhostableInput=function(){var t="ghosted",r="option[disabled]:selected",n=$afe.jq(this),i=n.parent();n.hasClass("hidden")||n.safeAttr("type")==="hidden"||(n.is("select")&&n.find('option[value="'+n.val()+'"]').text().trim().length===0?n.find(r)&&n.find(r).text().trim().length>0?i.addClass(t):i.removeClass(t):n.val().length>0?i.addClass(t):i.removeClass(t))};$$WP.Utilities.UI.ToggleButtonClick=function(n,t,i,r){var f=!1,e="checked",o="wasChecked",u=$afe.jq(n),s,c,h;if(typeof u.prop(o)=="undefined"&&u.is("[checked='checked']")&&u.prop(o,u.safeAttr(e)===e),h=u.prop("type"),u.prop(o)){if(h==="radio"&&i)return f;u.prop(e,f)}else u.prop(e,!0);return u.prop(o,u.prop(e)),u.parents("form").first().change(),h==="radio"&&(c=u.prop("name"),s=$afe.select("input[name='"+c+"']").not(u),s.prop({checked:f,wasChecked:f}),r||s.trigger("input")),u.trigger("input"),f};$$WP.Utilities.UI.ActivateStylesheet=function(n){var i="undefined",r="data-altstylesheet",u="disabled",e=makeLink("").replace(new RegExp("/","g"),"").toLowerCase(),f="userstylesheet4"+e,t;if(n&&n.length!==0){switch(n){case"Default":$afe.select("link[title]").safeAttr("rel","alternate stylesheet").prop(u,!0);$afe.select("html").removeAttr(r);$$WPUtil.isLocalStorageAvailable()&&typeof window.localStorage!==i&&localStorage.removeItem(f);break;default:$afe.select("link[title='"+n+"']").safeAttr("rel","stylesheet").prop(u,!1);$afe.select("html").safeAttr(r,n);$$WPUtil.isLocalStorageAvailable()&&typeof window.localStorage!==i&&localStorage.setItem(f,n)}for(typeof $$WP.Utilities.UI.StyleSheetAdjustment[n]=="function"&&$$WP.Utilities.UI.StyleSheetAdjustment[n](),t=0;t<$$WP.Utilities.UI._onStylesheetActivatedListeners.length;t++)$$WP.Utilities.UI._onStylesheetActivatedListeners[t].callback(n,$$WP.Utilities.UI._onStylesheetActivatedListeners[t].contextData)}};$$WP.Utilities.UI.FocusCssSwitcher=function(n){if(n&&n.length!==0){switch(n){case"Default":$afe.select(".cssSwitcher[data-csstitle='High Contrast']").focus();break;case"High Contrast":$afe.select(".cssSwitcher[data-csstitle='Default']").focus()}return}};$$WP.Utilities.UI._onStylesheetActivatedListeners=[];$$WP.Utilities.UI.s_nextStylesheetActivatedListenerId=1;$$WP.Utilities.UI.OnStylesheetActivated=function(n,t){n&&typeof n=="function"||$$WP.Debug.logError("OnStylesheetActivated callback is not a function");var i={callback:n,contextData:t,listenerId:$$WP.Utilities.UI.s_nextStylesheetActivatedListenerId++};return $$WP.Utilities.UI._onStylesheetActivatedListeners.push(i),$$WP.Utilities.UI.s_nextStylesheetActivatedListenerId};$$WP.Utilities.UI.GetAlternateStylesheetIfActive=function(){var n,t,i;return $$WPUtil.isLocalStorageAvailable()&&typeof window.localStorage!="undefined"&&!$$WP.Utilities.UI.IsMobile&&(n=makeLink("").replace(new RegExp("/","g"),"").toLowerCase(),t="userstylesheet4"+n,i=localStorage.getItem(t)),i};$$WP.Utilities.UI.ReloadGraphs=function(){typeof loadGraphs=="function"&&loadGraphs()};$$WP.Utilities.UI.StyleSheetAdjustment={Default:$$WP.Utilities.UI.ReloadGraphs,"High Contrast":$$WP.Utilities.UI.ReloadGraphs};$$WP.Utilities.UI.IsHighContrast=function(){return document.documentElement.getAttribute("data-altstylesheet")==="High Contrast"};$$WP.Utilities.UI.ActivateHighContrastThemeBasedOnMQL=function(n){var t;n.matches?t="High Contrast":($$WPUtil.isLocalStorageAvailable()&&typeof window.localStorage!="undefined"&&(t=$$WP.Utilities.UI.GetAlternateStylesheetIfActive()),(!t||t.length<=0)&&(t="Default"));$afe.select("link[title='"+t+"']").safeAttr("rel","stylesheet").prop("disabled",!1);$afe.select("html").safeAttr("data-altstylesheet",t)};$$WP.Utilities.UI.IsSmallScreen=function(){return window.matchMedia("screen and (max-width:768px)").matches};$$WP.Utilities.UI.IsMediumSmallScreen=function(){return window.matchMedia("screen and (max-width:1300px)").matches};$$WP.Utilities.UI.ReactPopupStateChangedListener=function(n){n&&n.detail&&typeof n.detail.isOpen=="boolean"&&$$WP.Utilities.UI.ToggleBodyScrolling(n.detail.isOpen,$afe.select("#wrap"))};$$WP.Utilities.UI.ToggleBodyScrolling=function(n,t){function u(){var u=Math.abs(parseInt(i.css(r))),f=document.body.scrollHeight<u+document.body.clientHeight,n,t;f&&(n=document.body.clientHeight-document.body.scrollHeight,i.css(r,n+"px"),t=$$WP.Utilities.UI.IsUsingGraphicHeader?20:75,Math.abs(n)<t&&$afe.select("#header").removeClass("compact"))}var e="visibilitychange",o="resize orientationchange",f="scrollDisabled",r="margin-top",i=t||$afe.jq(document.body),s=$afe.jq(window),h=$afe.jq(document),c,l,a;if(n!==!0||i.hasClass(f))n===!1&&(a=-parseInt(i.css(r)),i.removeClass(f),i.css(r,""),i.css("margin-left",""),isDataTile()&&window.frameElement!=null||$$WPUtil.setScrollTop(a),s.off(o,u),h.off(e,u));else{isDataTile()&&window.frameElement!=null||(c=$$WPUtil.getScrollTop());l=i.offset();i.addClass(f);i.css({"margin-top":-c,"margin-left":l.left});s.on(o,u);h.on(e,u)}};$$WP.Utilities.UI.RenderHeader=function(){var i="#header_menu",n=null,r="#logout_button",t,u,f,e,o;if($$WP.Utilities.UI.IsUsingGraphicHeader&&(t=$afe.select("#graphicHeader"),t.length!=0)){u={};t.safeAppend($afe.renderTemplate($$WP.Templates.Core.Header,u));$afe.select(r).on("click",function(){DoRedirect(n,!1)});$afe.select(r).on("keypress",function(t){(t.keyCode==32||t.keyCode==13)&&DoRedirect(n,!1)});$$WP.Utilities.UI.IsLoggedIn&&!$$WP.Utilities.UI.IsWorkflowRestricted&&(f=new $$WP.Navigation.MenuController($afe.select(i),function(t){var r="#header_covid_shortcut",u="#header_shortcuts";$afe.select("#header_menu_name").empty().text(t.ButtonDisplayName);$afe.select(i).safeAttr("title",t.ButtonDisplayName);t.Shortcuts!=n?$afe.select(u).safeAppend($afe.renderTemplate($$WP.Templates.Core.HeaderShortcuts,t.Shortcuts)):$afe.select(u).remove();t.CovidShortcutDetails!=n?$afe.select(r).safeAppend($afe.renderTemplate($$WP.Templates.Core.CovidShortcut,t.CovidShortcutDetails)):$afe.select(r).remove();sessionStorage.ShowCovidQuickAccess==="false"&&$afe.select(r).addClass("jqHidden");$$WP.Utilities.UI.OnUIFrameworkLoaded(function(){$afe.select("#header_navigation").css("max-width","calc(100% - "+$afe.select("#header_extras_proxy").width()+"px)")})},"Menu","menu"));$$WP.Utilities.UI.IsLoggedIn&&!$$WP.Utilities.UI.IsWorkflowRestricted&&(e=new $$WP.ProxySwitch.Controllers.ProxySelectorController($afe.select("#patient_name_switch")));o=location.href;$.ajax({type:"Get",url:makeLink("Localization/Links"),data:{alwaysShowDropdown:!0},datatype:"html",success:function(n){var t="#locale_container";n&&(dangerou$.setHtml($afe.select(t),n),$afe.select("#locale_container #localeswitch").length>0?new $$WP.UI.LocaleSwitcherController($afe.select(t)):$afe.select(t).remove())}});$$WPUtil.IsNullOrEmpty($$WP.Settings.BannerLogoFileNameAndPath)||$afe.select("#graphicHeader:not(:empty) #header_logo .header_logo_link").css("background-image","url('"+$$WP.Settings.BannerLogoFileNameAndPath+"')");$afe.select("#header").focus()}};$$WP.Utilities.UI.EnforceEpicLogoVisibility=function(n){var t="style",r="div#header_logo_by_epic img",e="margin-top",u="div#header_logo_by_epic",i="display: block !important; visibility: visible !important; opacity: 1 !important; min-height: 2rem !important; height: 2rem !important; padding: 0 !important; margin-bottom: 0 !important; min-width: 3rem !important; position: static !important; z-index: auto !important;",f,o;n?(window.innerWidth<=300&&(i="display: none;"),f=parseInt($afe.select(u).css(e)),o=parseInt($afe.select(r).css(e)),(f>30||f<0||o!=0)&&(i+=" margin-top: 0 !important"),$afe.select(u).safeAttr(t,i+" margin-left: 0.3rem !important; margin-right: 0.3rem !important;"),$afe.select(r).safeAttr(t,i+" margin-left: 0 !important; margin-right: 0 !important;")):($afe.select(u).removeAttr(t),$afe.select(r).removeAttr(t))};$$WP.Utilities.UI.EnforceCopyrightEpicLogoVisibility=function(){var n="#mychart_by_epic_logo",t;$afe.select(n).length===0||$afe.select("#header_logo_by_epic").length>0||window.location.pathname.indexOf("/Authentication/TermsConditions")>-1||(t="display: block !important; visibility: visible !important; opacity: 1 !important; min-height: 1rem !important; padding: 0 !important; margin: .5rem auto 0 auto !important; min-width: 6.5rem !important; width: 6.5rem !important; position: static !important; z-index: auto !important;",$afe.select(n).safeAttr("alt",$$WP.Strings.get("MyChartByEpicAlt","Global")),$afe.select("#mychart_by_epic_logo_wrapper").safeAttr("style",t),$afe.select(n).safeAttr("style",t))};$$WP.Utilities.UI.Inside=function(n){var t=".proxyLink",i="#proxies .selected",r;if(n.type==="load"){r=$afe.select("#header");$afe.select("#menu .moremenu").each(function(){var n=$afe.jq(this),t=n.find(".submenugroup");n.find(".submenu").addClass("columns_"+t.length)});$afe.select("#proxies a").on("mouseenter focus",function(){$afe.jq(this).addClass("grow").parentsUntil("#proxies","li").addClass("preview");$afe.select(i).addClass("shrink")}).on("mouseleave blur",function(){$afe.select("#proxies .preview").removeClass("preview");$afe.select("#proxies .grow").removeClass("grow");$afe.select(i).removeClass("shrink")});r.on("touchstart click keydown","#touchmenu-toggle, #proxies",$$WP.Utilities.UI.ToggleTouchMenu);WP.DOM.Browser.isIE&&$afe.select("#header #menu").safeAttr("role","menubar");$afe.select("#header").on("click",t,function(){$afe.select(t).removeAttr("href");$afe.select(t).removeAttr("onclick")})}};$$WP.Utilities.UI.HomePage=function(){$$WP.Utilities.UI.LoadHomePageSidebarTemplate()};$$WP.Utilities.UI.LoadHomePageSidebarTemplate=function(){var t=$afe.select("#sidebar"),n=$afe.select("#main #homepagesidebar"),i;t.length>0&&n.length>0&&(t.safeAppend(n.clone()),i=widgetSettings||{},n.remove(),$$WPUtil.ComponentFactory.HomePage.Sidebar(i))};$$WP.Utilities.UI.NavTabs=function(n){var r=".membertab a",i="role",u=".navparent",t=".membertab",f=$afe.select(t),e=$afe.select(u);n.type==="load"&&f.each(function(){$thisTab=$afe.jq(this);$thisTab.on("keydown","","",$$WP.Utilities.UI.NavTabsSpacebarHelper)});f.each(function(){var o="hover",c="hoverable",s="aria-selected",h="selected",f="a",n=$afe.jq(this),e;if(n.find(f).safeAttr(i,"tab"),e=n.find(f).safeAttr("id"),e&&e.length>10&&e.indexOf("tab_topic_")===0&&($tabContent=$afe.select("#"+e.slice(4)),$tabContent.safeAttr("aria-labelledby",e),$tabContent.safeAttr(i,"tabpanel"),n.find(f).safeAttr("aria-controls",$tabContent.safeAttr("id"))),n.hasClass(h)?n.find(f).safeAttr(s,"true"):n.find(f).safeAttr(s,"false"),!n.prop(c)){n.hover(function(n){n.type==="mouseenter"?$afe.jq(this).addClass(o):$afe.jq(this).removeClass(o)});n.find(f).on("focus blur",function(n){n.type==="focus"?$afe.jq(this).parentsUntil(t).addBack().parent(t).addClass(o):$afe.jq(this).parentsUntil(t).addBack().parent(t).removeClass(o)});n.parents(".tabcontainer").length===0&&n.click(function(){var o=".tabcontainer[data-tabset='",n=$afe.jq(this),i=n.parents(u),e=i.safeAttr("data-tabset");typeof e!="undefined"&&(i.find(t).removeClass(h),i.find(r).safeAttr(s,"false"),n.addClass(h),n.find(f).safeAttr(s,"true"),$afe.select(o+e+"']").addClass("hidden"),$afe.select(o+e+"'][data-tabname='"+n.safeAttr("data-tabname")+"']").removeClass("hidden"))});n.prop(c,!0)}});e.each(function(){var e="aria-owns",f="condensed",t=$afe.jq(this),n=t.find(".navchild"),o,s,h=!0,u;$$WPUtil.IsNullOrEmpty(n)||(t.removeClass(f),o=t.width(),s=n.prop("scrollWidth"),o<s&&(t.addClass(f),h=!1),n.safeAttr(i)!=="tablist"&&n.safeAttr(i,"tablist"),n.safeAttr(e)||(u=[],n.find(r).each(function(){var n=$afe.jq(this).safeAttr("id");n&&u.push(n)}),u.length>0&&n.safeAttr(e,u.join(" "))));h&&t.removeClass(f)})};$$WP.Utilities.UI.NavTabsSpacebarHelper=function(n){n.which===32&&(n.preventDefault(),$tab=$afe.jq(this),$tab.is("a")?$tab.trigger("click"):$tab.find("a").trigger("click"))};$$WP.Utilities.UI.ToggleTouchMenu=function(n){function a(){var i=$afe.select(t),r=$afe.select("body"),n=l(),f=$afe.select(h);i.addClass(u);r.addClass(s);f.safeAttr(o,"true");n.show();n.scrollTop(0)}function e(){var n=$afe.select(t),i=$afe.select("body"),r=l(),f=$afe.select(h);n.removeClass(u);i.removeClass(s);f.safeAttr(o,"false");r.hide()}function l(){var i="class",n=$afe.select(c),u=$afe.select(t),r;if(n.length===0){n=u.clone().empty().removeAttr(i).removeAttr("style").safeAttr("id","touchmenu").safeAttr("tabindex","-1");n.safeAppend($afe.select("#locale_container").clone().safeAttr("id","touchmenu-locale_container").removeAttr(i).find("#morelocales").removeAttr("aria-hidden").end().find("a").removeAttr("aria-haspopup").end());n.safeAppend($afe.select("#account").clone().safeAttr("id","touchmenu-account").removeAttr(i));r=$afe.select("#header .proxy:not(#moreTabsTab)");r.length!==1&&(r.each(function(){n.safeAppend($afe.jq(this).clone())}),$afe.select("#moretabs a").each(function(){var t=document.createElement("LI");n.safeAppend($afe.jq(t).addClass("proxy").safeAttr("role","none").safeAppend($afe.jq(this).clone()))}));$afe.jq(window).on("resize",$$WP.Utilities.UI.ToggleTouchMenu);$afe.select("#header").safeAppend(n);$afe.select("#touchmenu-account .acctname").safeInsertBefore("#touchmenu-account .menuicon");n.on(f,function(n){$afe.jq(n.target).parents(".proxy, #touchmenu-account, #touchmenu-locale_container").length===0&&(e(),n.preventDefault())})}return n}var o="aria-expanded",s="scrollDisabled",h="#touchmenu-toggle",f="click",u="droppeddown",t="#proxies",i=!1,c="#touchmenu",r=!0;switch(n.type){case"resize":$afe.jq(window).width()>1300&&$afe.select(c).length!==0&&e();r=i;break;case"keydown":(n.which!==13&&n.which!==32||$afe.jq(n.target).parents(".proxy").length>0)&&(r=i);break;case"touchstart":(n.pageY||n.originalEvent.touches[0].pageY)>$afe.select(t).height()&&$afe.select(t).hasClass(u)&&(r=i);case f:if(n.target.id==="touchmenu-toggle")break;($afe.jq(document.activeElement.parentNode).hasClass("proxy")||n.type===f)&&(r=i)}return(($afe.jq(window).width()>1300||$afe.select('head meta[name="viewport"]').length<1)&&(r=i),r)?($afe.select(t).hasClass(u)?e():a(),i):!0};$$WP.Utilities.UI.EnforceEpicLogoVisibility=function(n){var t="style",s=" margin-top: 0 !important;",h="margin-top",c="display: none;",l="#header_logo_by_epic_compact",a="#header_logo_by_epic",f,e,v,y,i,r,u="display: block !important; visibility: visible !important; opacity: 1 !important; min-height: 1.5rem !important; padding: 0 !important; margin-bottom: 0 !important; min-width: 2.6rem !important; position: relative !important; z-index: auto !important;",p=" margin-left: 0 !important; margin-right: 0 !important;",w=" margin-left: 0.3rem !important; margin-right: 0.3rem !important;",o,b;n?(i=a,r=l,window.innerWidth<=300&&(u=c)):(i=l,r=a,(window.innerWidth<=768||WP.DOM.Browser.isMobile)&&(u=c));f=$afe.select(i);e=$afe.select(i+" img");v=$afe.select(r);y=$afe.select(r+" img");o=parseInt(f.css(h));b=parseInt(e.css(h));(o>30||o<0)&&(w+=s);b!=0&&(p+=s);f.safeAttr(t,u+w);e.safeAttr(t,u+p);v.removeAttr(t);y.removeAttr(t)};$$WP.Utilities.UI.Map.inside=$$WP.Utilities.UI.Inside;$$WP.Utilities.UI.Map.main=$$WP.Utilities.UI.HomePage;$$WP.Utilities.UI.Map["default"]=$$WP.Utilities.UI.HomePage;$$WP.Utilities.UI.Map.Support.navtabs=$$WP.Utilities.UI.NavTabs;$$WP.Utilities=$$WP.Utilities||{};$$WPUtil=$$WP.Utilities;$$WPUtil._lightboxFadeDelay=200;$$WPUtil.SetupRadioLabels=function(){var t="id",i='label[for="',n='"]';$afe.select('input[type="radio"]').change(function(){var r="selected";$.each($afe.select('input[type="radio"][name="'+$afe.jq(this).safeAttr("name")+n),function(u,f){$afe.select(i+$afe.jq(f).safeAttr(t)+n).removeClass(r)});$afe.select(i+$afe.jq(this).safeAttr(t)+n).addClass(r)}).focus(function(){$afe.select(i+$afe.jq(this).safeAttr(t)+n).addClass("focused")}).blur(function(){$afe.select(i+$afe.jq(this).safeAttr(t)+n).removeClass("focused")});$afe.select(".radiolabel").click(function(){})};$$WPUtil.SetupRadioLabelsInContainer=function(n,t){var r="id",u='label[for="',i='"]';n!==null&&(n.find('input[type="radio"]').change(function(){var f="selected";$.each(n.find('input[type="radio"][name="'+$afe.jq(this).safeAttr("name")+i),function(t,e){n.find(u+$afe.jq(e).safeAttr(r)+i).removeClass(f)});n.find(u+$afe.jq(this).safeAttr(r)+i).addClass(f);t!==null&&t(this)}).focus(function(){n.find(u+$afe.jq(this).safeAttr(r)+i).addClass("focused")}).blur(function(){n.find(u+$afe.jq(this).safeAttr(r)+i).removeClass("focused")}),n.find(".radiolabel").click(function(){}))};$$WPUtil.SetDropdownContents=function(n,t,i,r){var f="disabled",u;$$WPUtil.IsNullOrEmpty(n)||$$WPUtil.IsNullOrEmpty(t)||(r&&(t=JSON.parse(t)),u=[],$.each(t,function(n,t){u.push('<option value="'+n+'">'+t+"<\/option>")}),n.empty(),dangerou$.setHtml(n,u.join()),i&&u.length<2?n.prop(f,!0):n.prop(f,!1))};$$WPUtil.SmoothScrollToElement=function(n,t,i,r){$$WPUtil.SmoothScrollToElementWithOffset(n,t,0,i,r)};$$WPUtil.SmoothScrollToElementWithOffset=function(n,t,i,r,u){var e,o,f;if($$WPUtil.IsNullOrEmpty(t)||t.length===0)throw"Cannot scroll to an empty target.";if($$WPUtil.IsNullOrEmpty(n))throw"Cannot scroll nothingness.";$$WPUtil.IsNullOrEmpty(r)&&(r=400);$$WPUtil.IsNullOrEmpty(i)&&(i=0);e=$afe.jq(t);o=e.offset().top;f=$afe.jq(n);f.animate({scrollTop:o-i},r,function(){var n="force_redraw";u&&u();f.addClass(n);window.setTimeout(function(){f.removeClass(n)},1)})};$$WPUtil.IsNullOrEmpty=function(n){return typeof n=="undefined"||n===null||n===""};$$WPUtil.AddThrottledListener=function(n,t,i,r,u){var f;if($$WPUtil.IsNullOrEmpty(n))throw"Element to bind cannot be empty";if($$WPUtil.IsNullOrEmpty(t))throw"You must specificy at least one event to throttle";$.isNumeric(r)||(r=100);$$WPUtil.IsNullOrEmpty(u)&&$$WPUtil.IsNullOrEmpty(i)&&(i="change");typeof u!="function"&&(u=null);f=!1;$afe.jq(n).on(t,function(t){f||(f=!0,window.setTimeout(function(){$$WPUtil.IsNullOrEmpty(i)||$afe.jq(n).trigger(i);$$WPUtil.IsNullOrEmpty(u)||u(t);f=!1},r))})};$$WPUtil.AddImmediateThrottledListener=function(n,t,i,r,u){var f;if($$WPUtil.IsNullOrEmpty(n))throw"Element to bind cannot be empty";if($$WPUtil.IsNullOrEmpty(t))throw"You must specificy at least one event to throttle";$.isNumeric(r)||(r=100);$$WPUtil.IsNullOrEmpty(u)&&$$WPUtil.IsNullOrEmpty(i)&&(i="change");typeof u!="function"&&(u=null);f=!1;$afe.jq(n).on(t,function(t){f||(f=!0,$$WPUtil.IsNullOrEmpty(i)||$afe.jq(n).trigger(i),$$WPUtil.IsNullOrEmpty(u)||u(t),window.setTimeout(function(){f=!1},r))})};$$WPUtil.AddToggleListener=function(n,t,i,r,u,f,e,o,s,h){var c;if($$WPUtil.IsNullOrEmpty(t))throw"Toggle control ID is required.";$$WPUtil.IsNullOrEmpty(i)&&(i="click");s!==!0&&s!==!1&&(s=!0);$$WPUtil.GetUniqueJQueryById(n,t).on(i,function(i){var y="data-toggled",l,a,v;return l=$$WPUtil.GetUniqueJQueryById(n,t).safeAttr("data-toggle-for"),$$WPUtil.IsNullOrEmpty(l)||(a=$afe.select("#"+l),v=a.safeAttr(y),c=$afe.jq(o),$.each(c,function(n,t){var i;$afe.select('[data-toggle-for="'+$afe.jq(this).safeAttr("id")+'"]').removeClass(r).addClass(u);i=$afe.jq(t);i.safeAttr(y,"false");i.removeClass(f).addClass(e)}),$$WPUtil.SetElementToggled(a,$afe.jq(this),v!=="true",f,e,r,u),typeof h=="function"&&h(v==="true",i)),!s})};$$WPUtil.SetElementToggled=function(n,t,i,r,u,f,e){var h="data-toggled",s,o;o=$afe.jq(n);s=$$WPUtil.IsNullOrEmpty(t)?$afe.select('[data-toggle-for="'+o.safeAttr("id")+'"]'):$afe.jq(t);i==="true"||i===!0?(o.safeAttr(h,"true"),o.removeClass(u).addClass(r),s.length>0&&s.removeClass(e).addClass(f)):(o.safeAttr(h,"false"),o.removeClass(r).addClass(u),s.length>0&&s.removeClass(f).addClass(e))};$$WPUtil.ElementHasXOverflow=function(n){return n.offsetWidth<n.scrollWidth};$$WPUtil.ElementHasYOverflow=function(n){var t=$afe.select("html").get(0).offsetHeight,i=n.offsetHeight,r=n.scrollHeight;return t>i?i<r:t===i&&t===r?$afe.jq(window).height()<t:void 0};$$WPUtil.IsElementInView=function(n){var t,r,i;return isDataTile()&&window.frameElement!=null?(t=parent,i=window.frameElement.offsetTop):(t=window,i=0),r=$afe.jq(t),n.offset().top>=t.pageYOffset&&n.offset().top+n.height()+i<=t.pageYOffset+r.height()};$$WPUtil.ElementHasScrolledToBottom=function(n,t){var f=$afe.jq(n),r=$afe.select("html").get(0).offsetHeight,e=n.offsetHeight,u=n.scrollHeight,i;return $.isNumeric(t)||(t=.8),i=f,r===e&&r===u&&(i=$afe.jq(window)),i.scrollTop()+i.innerHeight()>=u*t};$$WPUtil.GUIDPrefix=function(n){return n?n+"_":""};$$WPUtil.GetUniqueJQueryById=function(n,t){return $afe.select("#"+$$WPUtil.GUIDPrefix(n)+t)};$$WPUtil.GetStringResource=function(n,t,i){var u=null,r="";return t&&(u=$$WPUtil.GetUniqueJQueryById(n,"resources").find('div[data-rsrc-id="'+t+'"]'),r=u.safeAttr("data-rsrc-val"),$$WPUtil.IsNullOrEmpty(r)&&(r=u.html()),$$WPUtil.IsNullOrEmpty(i)||(r=$$WPUtil.ReplaceStringMnemonics(r,i))),r||""};$$WPUtil.ReplaceStringMnemonics=function(n,t){var i;return $$WPUtil.IsNullOrEmpty(n)?null:($$WPUtil.IsNullOrEmpty(t)||$.each(t,function(t,r){i=new RegExp("@MYCHART@"+t+"@","gi");n=n.replace(i,r)}),n)};$$WPUtil.PopulateComplexTemplate=function(n,t,i,r,u,f){var e,s,h,o;if($$WPUtil.IsNullOrEmpty(t))throw"You must supply a template ID";return $$WPUtil.IsNullOrEmpty(f)&&(f=0),$$WPUtil.IsNullOrEmpty(r)&&(r={}),o=(n?n+"_":"")+t+"_"+f,e=$$WPUtil.GetUniqueJQueryById(n,t).clone(),e.safeAttr("data-template-children-only")==="true"?e=e.children():e.safeAttr("data-template-no-id")==="true"?e.safeAttr("id",""):e.safeAttr("id",o),o=o+"_",s=$$WPUtil.RecurseComplexTemplate(e,r,u,o),$$WPUtil.IsNullOrEmpty(i)||(h=$afe.jq(i),h.empty(),s.safeAppendTo(h)),s};$$WPUtil.RecurseComplexTemplate=function(n,t,i,r,u,f){var s,e,o;return $.each(n,function(e,o){var d="data-template-type",g="data-template-source",nt="data-template-group-source",p="data-template-group",l,w,a,tt,v,s,b,it,h,rt,ut,k,c,y,ft;if(o=$afe.jq(o),n=n,l=o.safeAttr(p),w=o.safeAttr(nt),h=o.safeAttr(g),k=o.safeAttr("data-template-id"),v=s=b=!1,ft=(o.safeAttr(d)||"").split(" "),$.each(ft,function(n,t){var i=!0;switch(t){case"collection":v=i;break;case"object":s=i;break;case"value":b=i;break;case"nullable":it=i;break;case"fill":ut=i}}),a=!$$WPUtil.IsNullOrEmpty(l)&&!$$WPUtil.IsNullOrEmpty(w),tt=!$$WPUtil.IsNullOrEmpty(l)&&v,(s||b)&&it&&$$WPUtil.IsNullOrEmpty(t[h])||ut)n=n.not(o.empty().remove());else if((v||s||a)&&!tt)a&&(o=o.parent().children('[data-template-group="'+l+'"]'),h=w),y=$$WPUtil.IsNullOrEmpty(h)?t:t[h],s&&(y=[y]),s||$$WPUtil.IsNullOrEmpty(k)||(c=0),$.each(y,function(t,u){var f,e;typeof i=="function"&&(u=i(h,t,u));$$WPUtil.IsNullOrEmpty(u)||(f=o.clone(),a?(f.removeAttr(p),f.removeAttr(nt)):(f.removeAttr(d),f.removeAttr(g)),f.safeInsertBefore(o.get(0)),e=$$WPUtil.RecurseComplexTemplate(f,u,i,r,k,c),$.isNumeric(c)&&(c=c+1),f.safeReplaceWith(e),n=n.add(e))}),n=n.not(o.empty().remove());else if($$WPUtil.IsNullOrEmpty(o.safeAttr(p)))o.children().length>0&&(rt=$$WPUtil.RecurseComplexTemplate(o.children(),t,i,r,u,f),o.children().remove(),rt.safeAppendTo(o),n=n.not(o).add(o));else return}),s=$$WPUtil.SerializeNodes(n),typeof t=="string"&&(t={"#Value":t}),o=$.isNumeric(f),t["#ID"]=r+(u||"")+(u&&o?"_"+f:""),t["#NUM"]=o?f:"",e=dangerou$.parseHtml($$WPUtil.ReplaceTemplateMnemonics(s,t)),$.each(e,function(n,t){var f="data-href-url",e="data-headers",o="data-src-url",r,u,i=$afe.jq(t);r=i.safeAttr(o);$$WPUtil.IsNullOrEmpty(r)||(i.safeAttr("src",r),i.removeAttr(o));u=i.safeAttr(e);$$WPUtil.IsNullOrEmpty(u)||(i.safeAttr("headers",u),i.removeAttr(e));r=i.safeAttr(f);$$WPUtil.IsNullOrEmpty(r)||(i.safeAttr("href",r),i.removeAttr(f))}),e};$$WPUtil.SerializeNodes=function(n){var i,t="";return typeof XMLSerializer=="function"?(i=new XMLSerializer,$.each(n,function(n,r){t=t+(r.outerHTML||i.serializeToString(r))})):$.each(n,function(n,i){t=t+(i.outerHTML||i.xml)}),t};$$WPUtil.ReplaceTemplateMnemonics=function(n,t){var i;return $$WPUtil.IsNullOrEmpty(n)?null:($$WPUtil.IsNullOrEmpty(t)||$.each(t,function(t,r){i=new RegExp("__"+t+"__","gi");typeof r=="string"&&(r=HTMLEncode(r));n=n.replace(i,r)}),n)};$$WPUtil.CenterContainerOnPage=function(n,t){var r,u,i=0;u=$afe.jq(window).height();r=$afe.jq(n);t&&$$WPUtil.setScrollTop(0);i=$$WPUtil.getScrollTop()+($afe.jq(window).height()-r.height())/2;i<0&&(i=0);r.css({top:i+"px"})};$$WP.Utilities.isAbsoluteURL=function(n){var t=new RegExp("^(?:[a-z]+:)?//","i");return t.test(n)};$$WPUtil.ShowUrlInLightbox=function(n,t,i,r,u){var f;(f=n.url||n,f)&&$.ajax($.extend({url:f,type:"GET",dataType:"html",success:function(n){var f=".ajaxspinner",e,t;$$WPUtil.ShowLightboxOverlay(null,r,u);t=$afe.select("#lightbox");dangerou$.setHtml(t,"");e=$afe.select(f).length>0;dangerou$.setHtml(t,n);e&&t.find(f).remove();$afe.select("body").addClass("showLightBox");t.removeClass("hidden").show(function(){$$WPUtil.CenterContainerOnPage(t)}).promise().done(function(){i&&typeof i=="function"&&i()})}},t||n.settings))};$$WPUtil.ShowContainerAsLightbox=function(n,t,i){var r,u={container:n,hideLightboxCallback:i};$$WPUtil.ShowLightboxOverlay(n,t,i);r=$afe.jq(n);r.show($$WPUtil._lightboxFadeDelay,function(){r.find(".slider").trigger("matchCardHeights");$$WPUtil.CenterContainerOnPage(n)});r.on("keydown",function(n){$$WPUtil.LightboxKeyDownHandler(n,r,$$WPUtil.LightboxEscKeyHandler,null,null,u)})};$$WPUtil.LightboxEscKeyHandler=function(n,t){var i=t.container,r=t.hideLightboxCallback;$$WPUtil.HideLightbox(i,r);n.preventDefault()};$$WPUtil.ShowLightboxOverlay=function(n,t,i){var r=$afe.select("#lightbox_overlay");r.off("click");r.on({click:function(){$$WPUtil.HideLightbox(n,i)}});r.show($$WPUtil._lightboxFadeDelay).promise().done(function(){t&&typeof t=="function"&&t()})};$$WPUtil.LightboxKeyDownHandler=function(n,t,i,r,u,f){var o="function",e,s,h;e=t.find("a[href]:not([tabindex='-1']), area[href]:not([tabindex='-1']), input:not([tabindex='-1']), select:not([tabindex='-1']), textarea:not([tabindex='-1']), button:not([tabindex='-1']), [tabindex]:not([tabindex='-1'])");s=e[0];h=e[e.length-1];switch(n.which){case 9:n.shiftKey?document.activeElement===s&&($afe.jq(h).focus(),n.preventDefault()):document.activeElement===h&&($afe.jq(s).focus(),n.preventDefault());break;case 27:i!==null&&typeof i===o&&i(n,f);break;case 38:r!==null&&typeof r===o&&r(n,f);break;case 40:u!==null&&typeof u===o&&u(n,f)}};$$WPUtil.HideLightbox=function(n,t){$$WPUtil.PreventHideLightbox!==!0&&($$WPUtil.IsNullOrEmpty(n)||$afe.jq(n).hide($$WPUtil._lightboxFadeDelay),$afe.select(".lb_content").hide($$WPUtil._lightboxFadeDelay),$afe.select("#lightbox_overlay").hide($$WPUtil._lightboxFadeDelay),$afe.select("body").removeClass("showLightBox"),hideLightbox(),t&&typeof t=="function"&&t())};$$WPUtil.AjaxifyForm=function(n,t,i,r,u){var f={};if(t){f.url=$afe.jq(t).safeAttr("action");f.type=$afe.jq(t).safeAttr("method");f.sendFormData=!0;t.off("submit").on("submit",$$WPUtil.SubmitAjaxifiedForm(f,n,t,i,r,u))}};$$WPUtil.SubmitAjaxifiedForm=function(n,t,i,r,u,f){return function(){var e,o,s,h;return(e=$$WPUtil.AjaxifyFormSubmitHandler(t,i,r,u,f),o=n.url,s=n.type,h=n.sendFormData?$afe.jq(i).serialize():{},!$$WPUtil.ValidateForm(t,i))?!1:($.ajax({url:o,type:s,data:h,context:$afe.jq(i),datatype:"json",error:$$WPUtil.DisplayAjaxError,statusCode:{404:function(){}},success:e}),!1)}};$$WPUtil.AjaxifyFormSubmitHandler=function(n,t,i,r,u){return function(f){if(f.action==="syncchart"){$$WPUtil._invokeErrorCallback(i,f.info);return}if(f.action==="endworkflow"){$$WPUtil._invokeErrorCallback(i,f.errors);return}if(f.action==="showerrors"){$$WPUtil.WriteErrorsToForm(n,$afe.jq(t),f.errors,f.Mnemonics);$$WPUtil._invokeErrorCallback(i,f.errors);return}if($$WPUtil.RunCallbackForType(u),r&&typeof r=="function"){var e=!0;try{e=r(f)}catch(o){}if(!e)return}if(f.action==="lightbox"&&f.url.length>0){$$WPUtil.ShowUrlInLightbox(f);return}if(f.action==="redirect"){window.location.assign(f.url||"/");return}}};$$WPUtil._invokeErrorCallback=function(n,t){if(n&&typeof n=="function")try{n(t)}catch(i){$$WPUtil.ShowUrlInLightbox("Error")}};$$WPUtil.CallbackTypeEnum={Authenticate:"Authenticate"};$$WPUtil.RegisterCallbackForType=function(n,t){var i=$$WPUtil.CallbackTypeEnum[n];$$WP.CallbacksForType||($$WP.CallbacksForType={});!$$WPUtil.IsNullOrEmpty(i)&&t&&typeof t=="function"&&($$WP.CallbacksForType[i]=t)};$$WPUtil.RunCallbackForType=function(n){var t,i=$$WPUtil.CallbackTypeEnum[n];$$WPUtil.IsNullOrEmpty(i)||(t=$$WP.CallbacksForType[i],t&&typeof t=="function"&&t())};$$WPUtil.DisplayAjaxError=function(n,t){alert("An error occurred while processing the request: "+t)};$$WPUtil.ValidateForm=function(n,t){var i="field-validation-valid",r="field-validation-error",u={},f=!1;return(t.find("[data-form-valmsg-for="+t.safeAttr("id")+"]").removeClass(r).addClass(i).empty(),t.find("span[data-valmsg-for]").removeClass(r).addClass(i).empty(),t.find("input").each(function(){var n=this,t;$afe.jq(n).safeAttr("data-val")==="true"&&(t=$afe.jq(n).safeAttr("data-val-required"),t&&n.value===""?(u[$afe.jq(n).safeAttr("name")]=t,f=!0):$afe.jq(n).removeClass("input-validation-error"))}),f)?($$WPUtil.WriteErrorsToForm(n,t,u),!1):!0};$$WPUtil.WriteErrorsToForm=function(n,t,i,r){var s="validation-summary-errors",h="validation-summary-valid",c='div[data-valmsg-summary="true"]',e="field-validation-error",o="field-validation-valid",f,u,l={};i=$$WPUtil.MapValidationCodesFromServer(n,i,r);t.find("input").each(function(){var u='span[data-valmsg-for="',f="input-validation-error",n=this,r=$afe.jq(n).safeAttr("name"),s=$afe.jq(n).safeAttr("id"),h=i[r];l[r]!==1&&(h?($afe.jq(n).addClass(f),dangerou$.setHtml(t.find(u+s+'"]').removeClass(o).addClass(e),h),delete i[r],l[r]=1):($afe.jq(n).removeClass(f),t.find(u+s+'"]').removeClass(e).addClass(o).empty()))});u=i.formlevelmsg;u?(dangerou$.setHtml(t.find(c).removeClass(h).addClass(s).find("ul").safeAppend("li"),u),delete i.formlevelmsg):t.find(c).removeClass(s).addClass(h).find("ul").empty();for(f in i)i.hasOwnProperty(f)&&(u=i[f],u&&dangerou$.setHtml(t.find('span[data-valmsg-for*="'+f+'"]').removeClass(o).addClass(e),u))};$$WPUtil.MapValidationCodesFromServer=function(n,t,i){var r,f,u;return f=$$WPUtil.GetUniqueJQueryById(n,"resources"),r={},$.each(t,function(t,f){var e;$$WPUtil.IsNullOrEmpty(i)||(e=i[t]);u=$$WPUtil.GetStringResource(n,f,e);r[t]=u?u:f}),r};$$WPUtil.LogAction=function(n,t,i){var r=$afe.select("#logActionUrl").html();$.ajax(r,{type:"POST",action:t,mnemonicsString:JSON.stringify(i),suppressEpicDefaultAjaxErrorHandler:!0})};$$WPUtil.getScrollNode=function(){var n;return n=isDataTile()?parent.document:document,n.scrollingElement||n.documentElement};$$WPUtil.ScrollableBody=function(){var n;return n=$$WPUtil.getScrollNode(),$afe.jq(n)};$$WPUtil.getScrollTop=function(){var n;return n=$$WPUtil.getScrollNode(),n.scrollTop};$$WPUtil.setScrollTop=function(n){var t;$$WPUtil.IsNullOrEmpty(n)&&(n=0);t=$$WPUtil.getScrollNode();t.scrollTop=n};$$WPUtil.getScrollLeft=function(){var n;return n=$$WPUtil.getScrollNode(),n.scrollLeft};$$WPUtil.setScrollLeft=function(n){var t;$$WPUtil.IsNullOrEmpty(n)&&(n=0);t=$$WPUtil.getScrollNode();t.scrollLeft=n};$$WPUtil.ActivateHelp=function(n){$afe.select('a[data-lightbox-guid="'+n+'"]').each(function(){$afe.jq(this).off("click").on("click",function(){$$WPUtil.ShowContainerAsLightbox($$WPUtil.GetUniqueJQueryById(n,$afe.jq(this).safeAttr("data-lightbox-id")))})})};$$WPUtil.getDataTileScrollTop=function(n){return Math.max(0,-n.getBoundingClientRect().top)};$$WPUtil.SetupCustomTabbingForFields=function(n){for(var i=null,r,u,f=n[n.length],t=0;t<n.length;t++){r=t>0?n[t-1]:i;u=t<n.length-1?n[t+1]:i;n[t].on("keydown",{$tabFrom:r,$tabTo:u},$$WPUtil._CustomTabbingForField);r!==i&&u!==i&&n[t].safeAttr("tabindex",-1)}};$$WPUtil._CustomTabbingForField=function(n){var t;n.keyCode===9&&(t=n.shiftKey?n.data.$tabFrom:n.data.$tabTo,t!==null&&(t.focus(),n.stopPropagation(),n.preventDefault()))};$$WPUtil.quickPopup=function(n,t){Array.isArray(n)?t.Components=n:t=$$WPUtil.mergeObjects({Components:n},t,!0);var i=new $$WPContain.Popup(t);return i.show(!0),i};$$WPUtil.SafeToRedirectOverrideSettings={};$$WPUtil.SafeToRedirect=function(n,t){var r,i;if(WP.Events.showBeforeUnloadMessage()){if(WP.Events.SafeToUnloadWarningDisplayed!==!0)return i={callback:n},$.extend(i,$$WPUtil.SafeToRedirectOverrideSettings),r=new $$WPComp.SafeToRedirectComponent(i),$$WPUtil.quickPopup(r,{positioningFunction:t})}else n(!0)};$$WPUtil.TryRedirect=function(n,t,i,r){var u=!0,o=function(t){var h="Messaging.Review",o,s;if(t){var f,c,e=$$WPUtil.parseQueryString(n).mode,y=$$WPUtil.queryString("mode"),a=$$WPUtil.TryRedirect._mustPickOrganizationModes,v=$$WPUtil.TryRedirect._mustPickOrganizationRoutes,l=function(n,t,i){var f="netredirect",r,u;if($$WPUtil.IsH2GActivity(n)){n.toLowerCase().indexOf(makeLink("").toLowerCase())===-1&&(n=makeLink(n));window.location=n;return}i&&i!=="1"&&!i.IsLocal?(u=n.toLowerCase().indexOf(makeLink("").toLowerCase()),r=u>-1?n.substr(u+makeLink("").length):n,typeof i=="string"?$$WP.CommunityUtilities.getOrganization(i,function(n,t,i){$$WP.CommunityUtilities.openDeepLink(f,i,{targetUrl:n},t?$$WP.CommunityUtilities.openDeepLinkType.InNewTab:$$WP.CommunityUtilities.openDeepLinkType.InPopup)},[r,t]):$$WP.CommunityUtilities.openDeepLink(f,i,{targetUrl:r},t?$$WP.CommunityUtilities.openDeepLinkType.InNewTab:$$WP.CommunityUtilities.openDeepLinkType.InPopup)):t?openWindow(n):window.location=n};if(!i){if(o=$$WPUtil.parseQueryString(n).local,s=null,o!==undefined?o==="1"?f=!1:o==="0"&&(f=u):a.indexOf(e)>-1?f=u:$.each(v,function(t,i){if(n.indexOf(t)>-1){f=u;e=i;s=makeLink("inside.asp?mode="+e);return}}),f){["msgoptions","medrefill","custsvc","refrequest"].indexOf(e)!==-1&&(c=$$WP.Strings.get("PickOrganization",h));$$WP.CommunityUtilities.pickOrganization(function(n,t){t!=="close"&&(s&&(n=s),l(n,r,t))},c,[n],e,$$WP.Strings.get("PickOrganizationTitle",h));return}i="1"}l(n,r,i)}},f,e,s;f=window.location.protocol+"//"+window.location.hostname;f=f.toLowerCase();e=n.toLowerCase();s=e.substring(0,4);r=r||e.indexOf(f)<0&&s==="http";r?o(u):$$WPUtil.SafeToRedirect(o,t)};$$WPUtil.TryRedirect._mustPickOrganizationModes=["msgoptions","refrequest"];$$WPUtil.TryRedirect._mustPickOrganizationRoutes={"/AskQuestion":"msgoptions","/RequestReferral":"refrequest"};$$WPUtil.DidNotRedirect=function(){$$WPComp.SafeToRedirectComponent.canceledRedirect()};$$WPUtil.setActivity=function(){if(checkActivity&&checkActivity.sessionTimeout&&$$WPUtil.setActivity.msSinceLastActivity()>=checkActivity.sessionTimeout){document.write("");window.location=makeLink("default.asp");return}$$WPUtil.setActivity.__lastActivity=new Date;$$WPUtil.IsNullOrEmpty($$WP.CommunityUtilities.getParentJumpGUID())||parent.postMessage(JSON.stringify({message:"setActivity",externalGUID:$$WP.CommunityUtilities.getParentJumpGUID()}),$$WP.CommunityUtilities.getParentDomain())};$$WPUtil.NotifyMobileOfActivity=function(){window.Android&&window.Android.webViewIsActive?Android.webViewIsActive():window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.webViewIsActive&&window.webkit.messageHandlers.webViewIsActive.postMessage("")};$$WPUtil.checkActivity=function(){checkActivity()};$$WPUtil.setActivity.msSinceLastActivity=function(){return new Date-$$WPUtil.setActivity.__lastActivity};$$WPUtil.copyObject=function(n){if(!n)return null;if(!Array.isArray(n))return $$WPUtil.mergeObjects(n,{},!1,!0);var i,t,r;for(i=[],r=n.length,t=0;t<r;t++)i.push(n[t]);return i};$$WPUtil.mergeObjects=function(n,t,i,r){if((Array.isArray(n)||Array.isArray(t))&&console.error("mergeObjects cannot be used on arrays"),t=t||{},i&&(t=$$WPUtil.copyObject(t)),!n)return t;var u,f,e=function(n){return n&&typeof n=="object"&&!(n instanceof jQuery)&&!$$WPComp.isComponent(n)&&!Array.isArray(n)&&!(n instanceof Handlebars.SafeString)};for(f in n)u=n[f],typeof u!="undefined"&&(e(u)?t[f]=$$WPUtil.mergeObjects(n[f],t[f],!1,r):(r||!t[f])&&(Array.isArray(u)&&(u=$$WPUtil.copyObject(u)),t[f]=u));return t};$$WP.Utilities.guaranteeExistence=function(n,t,i){n=n||$$WP;for(var u=t.split("."),f=u.length-1,r=0;r<f;r++)n.hasOwnProperty(u[r])||(n[u[r]]={}),n=n[u[r]];return n.hasOwnProperty(u[r])||(n[u[r]]=arguments.length>2?i:{}),n};$$WPUtil.preventEvent=function(n){return n.stopPropagation(),n.preventDefault(),!1};$$WPUtil.parseQueryString=function(n){n.charAt(n.length-1)==="&"&&(n=n.substring(0,n.length-1));for(var i=n.substr(n.indexOf("?")+1).split("&"),u={},r,f,t=0;t<i.length;t++)r=i[t].indexOf("="),r===-1&&t>0?u[f]+="&"+i[t]:(f=i[t].substr(0,r).toLowerCase(),u[f]=i[t].substr(r+1));return u};$$WPUtil.queryString=function(n){return $$WPUtil.queryString.parsed||($$WPUtil.queryString.parsed=$$WPUtil.parseQueryString(window.location.search)),$$WPUtil.queryString.parsed[n.toLowerCase()]||""};$$WPUtil.removeParamsFromQueryString=function(n){return $$WPUtil.queryString.parsed||($$WPUtil.queryString.parsed=$$WPUtil.parseQueryString(window.location.search)),typeof n=="string"?delete $$WPUtil.queryString.parsed[n.toLowerCase()]:n.forEach(function(n){delete $$WPUtil.queryString.parsed[n.toLowerCase()]}),Object.keys($$WPUtil.queryString.parsed).map(function(n){return n+"="+$$WPUtil.queryString.parsed[n]}).join("&")};$$WPUtil.verticalScrollBarWidth=function(){if(!$$WPUtil.verticalScrollBarWidth._cached){var n,i,r,t;n=$afe.renderTemplate($$WP.Templates.Core.scrollbarwidth);i=n.children(0).get(0);document.body.appendChild(n.get(0));r=i.offsetWidth;n.css("overflow","scroll");t=i.offsetWidth;t===r&&(t=n.get(0).clientWidth);n.remove();$$WPUtil.verticalScrollBarWidth._cached=r-t}return $$WPUtil.verticalScrollBarWidth._cached};$$WPUtil.preventAndroidLongPress=function(n,t,i){if(navigator.userAgent.indexOf("Android")>=0&&(n.length!==1||t||(t=n,i=""),t))t.on("contextmenu",i,function(n){n.preventDefault()})};$$WPUtil.isBrowserCapableOf=function(n,t){var i;switch(n){case"flexbox":return document.body.style.flex!==undefined;case"input":return i=document.createElement("input"),$afe.jq(i).safeAttr("type",t.type),i.type===t.type;case"touchEvents":return"ontouchstart"in window||window.navigator.msMaxTouchPoints&&window.navigator.msMaxTouchPoints>0;case"canvas":return!!window.HTMLCanvasElement;case"ActiveX":return!!window.ActiveXObject;case"Intl":return typeof Intl=="object"&&"DateTimeFormat"in Intl&&"NumberFormat"in Intl}};$$WPUtil.isValidBrowser=function(){return $$WPUtil.isBrowserCapableOf("canvas")&&!$$WPUtil.isBrowserCapableOf("ActiveX")&&$$WPUtil.isBrowserCapableOf("Intl")};$$WPUtil.addUrlParameter=function(n,t,i){return n.indexOf("?")===-1?n+="?":n[n.length-1]!=="&"&&(n+="&"),n+t+"="+i};$$WPUtil.isNaN=function(n){return isNaN(n)||!n&&n!==0};$$WPUtil.confirmFormSubmission=function(n,t,i,r,u,f,e){return i?$$WPUtil.quickMessageBoxByEnum(t,i,$$WPUtil.confirmFormSubmission.submitForm,[n,r]):$$WPUtil.quickMessageBox(t,f,u,$$WPUtil.confirmFormSubmission.submitForm,[n,r],"",e),!1};$$WPUtil.confirmFormSubmission.submitForm=function(n,t,i){var r;(typeof t!="function"||t(n,i)!==!1)&&i===$$WP.Components.TOOLBARIDENTIFIER+"continue"&&(r=n.onclick,n.onclick=null,$(n).off(),n.click(),n.onclick=r)};$$WPUtil.quickMessageBoxByEnum=function(n,t,i,r,u){var o="Core.Utilities",h="ContinueGobackTitle",s=$$WPUtil.quickMessageBoxByEnum.typeEnum,f,e;t=t||$$WPUtil.quickMessageBoxByEnum.typeEnum.ContinueGoback;switch(t){case s.ContinueGoback:f=$$WP.Strings.get(h,o);e=$$WPUtil.createContinueGoBackButtons();break;case s.DeleteGoback:f=$$WP.Strings.get("DeleteGobackTitle",o);e=$$WPUtil.createDeleteGoBackButtons();break;case s.YesNo:f=$$WP.Strings.get("YesNoTitle",o);e=$$WPUtil.createYesNoButtons();break;case s.Ok:f=$$WP.Strings.get("AlertTitle",o);e=$$WPUtil.createOkButton();break;case s.RemoveGoback:f=$$WP.Strings.get(h,o);e=$$WPUtil.createRemoveGoBackButtons();break;case s.RestoreGoback:f=$$WP.Strings.get(h,o);e=$$WPUtil.createRestoreGoBackButtons();break;default:return}return $$WPUtil.quickMessageBox(n,f,e,i,r,u)};$$WPUtil.quickMessageBoxByEnum.typeEnum={ContinueGoback:1,DeleteGoback:2,YesNo:3,Ok:4,RemoveGoback:5,RestoreGoback:6};$$WPUtil.createContinueGoBackButtons=function(){var n="Core.Utilities",t=new $$WPComp.ComplexObjects.Button($$WP.Strings.get("Continue",n),null,"completeworkflow","continue"),i=new $$WPComp.ComplexObjects.Button($$WP.Strings.get("Goback",n),null,"previousstep","cancel");return[t,i]};$$WPUtil.createDeleteGoBackButtons=function(){var n="Core.Utilities",t=new $$WPComp.ComplexObjects.Button($$WP.Strings.get("Delete",n),null,"inlinedelete","continue"),i=new $$WPComp.ComplexObjects.Button($$WP.Strings.get("Goback",n),null,"previousstep","cancel");return[t,i]};$$WPUtil.createYesNoButtons=function(){var n="Core.Utilities",t=new $$WPComp.ComplexObjects.Button($$WP.Strings.get("Yes",n),null,"completeworkflow","continue"),i=new $$WPComp.ComplexObjects.Button($$WP.Strings.get("No",n),null,"previousstep","cancel");return[t,i]};$$WPUtil.createOkButton=function(){var n=new $$WPComp.ComplexObjects.Button($$WP.Strings.get("MessageBoxOK","global"),null,"otherbutton","continue");return[n]};$$WPUtil.createRemoveGoBackButtons=function(){var n="Core.Utilities",t=new $$WPComp.ComplexObjects.Button($$WP.Strings.get("Remove",n),null,"inlinedelete","continue"),i=new $$WPComp.ComplexObjects.Button($$WP.Strings.get("Goback",n),null,"previousstep","cancel");return[t,i]};$$WPUtil.createRestoreGoBackButtons=function(){var n="Core.Utilities",t=new $$WPComp.ComplexObjects.Button($$WP.Strings.get("Restore",n),null,"inlinesave","continue"),i=new $$WPComp.ComplexObjects.Button($$WP.Strings.get("Goback",n),null,"previousstep","cancel");return[t,i]};$$WPUtil.quickMessageBox=function(n,t,i,r,u,f,e){$$WPUtil.IsNullOrEmpty(t)||t===HTMLUnencode(t)||$$WP.Debug.logError("$$WPUtil.quickMessageBox was probably called with an HTML formatted title. The title should be raw text, not HTML");var s=$$WP.Strings.getNamespace("Global.Confirm"),o;return o=new $$WPComp.MessageComponent({TitleText:t?t:s.getStringForTemplate("GenericConfirmTitle"),Message:n,callback:r,CallbackArgs:u,ToolbarButtons:i}),$$WPUtil.quickPopup(o,{Size:i.length<3?$$WPContain.Popup.SizeEnum.SMALL:$$WPContain.Popup.SizeEnum.MEDIUM,Class:f+" sm-autosizedpopup",HasBackButton:e})};$$WPUtil.generateGUID=function(){return $$WPUtil.generateGUID._last=$$WPUtil.generateGUID._last||0,$$WPUtil.generateGUID._last++,$$WPUtil.generateGUID._last};$$WPUtil.generateGUID._last;$$WPUtil.getDomain=function(n){try{return n.protocol+"//"+n.host}catch(t){return null}};$$WPUtil.canWriteCookies=function(){var n="testCookie",i,t;return setCookie(n,"testValue",!0),i=getCookie(n,!0),t=i!=="",t&&deleteCookie(n,!0),t};$$WPUtil.canWriteCookiesAsync=function(){return new Promise(function(n){typeof document.requestStorageAccess=="function"?($$WPUtil.canWriteCookies()&&n(!0),document.requestStorageAccess().then(function(){n($$WPUtil.canWriteCookies())}).catch(function(){n(!1)})):n($$WPUtil.canWriteCookies())})};$$WPUtil.cssValueToPixels=function(n){if(n.indexOf("rem")>-1)return $$WPUtil.cssValueToPixels.emSize||($$WPUtil.cssValueToPixels.emSize=parseFloat($afe.select("body").css("font-size"))),Math.round(parseFloat(n,10)*$$WPUtil.cssValueToPixels.emSize);if(n.indexOf("px")>-1)return parseFloat(n,10);isNaN(parseFloat(n,10))||console.log("CSS value cannot be converted to pixels: "+n)};$$WPUtil.instantiateComponent=function(n,t,i){var r={};return r.SupportedComponents=n,r.$parent=$afe.select("#"+t),i&&(r.ComponentProperties=i),new $$WPContain.HTMLTemplateContainer(r)};$$WPUtil.getPopupParent=function(n){return n.parents("#main, #sidebar, #lightbox, .Popup, .direct_message, .menudetailstable.leftmenu .leftcolumn, .popupOwner, #listHolder")};$$WPUtil.positionElementNear=function(n,t){var v="Popup cannot be fit to screen",b="onBottom",y="onRight",a=null,s=!1,k="onRight onLeft onBottom onTop",h,i,u,r,l,f,e,p,c,o,w,d=400;return n.removeClass(k),t.removeClass(k),h=$$WPUtil.getPopupParent(t),i=h.boxModel(s),c=h[0].offsetWidth-h[0].clientWidth,o=0,(h.safeAttr("id")==="main"||h.safeAttr("id")==="sidebar")&&(w=$afe.select("#footer").outerHeight(s),w>0&&(i.height-=w,i.bottom=i.top+i.height)),r=n.boxModel(s),e=a,f=a,d<i.width?t.outerWidth(d):(t.outerWidth(i.width-16),o=i.left+8),u=t.boxModel(s),l={toRight:i.right-r.right-c,toLeft:r.left-i.left,above:r.top-i.top,below:i.bottom-r.bottom},l.toRight>u.width?(n.addClass(y),t.addClass(y),e=r.right+o):l.above>u.height?(n.addClass("onTop"),t.addClass("onTop"),f=r.top-u.height,p=!0):l.toLeft>u.width?(n.addClass("onLeft"),t.addClass("onLeft"),e=r.left-u.width+o):l.below>u.height&&(n.addClass(b),t.addClass(b),f=r.bottom),e!==a?r.bottom-u.height>i.top?f=r.bottom-u.height+2:r.top+u.height<i.bottom?(f=r.top-2,t.addClass("infoPopupAlignTop")):(f=r.top+r.height/2-u.height/2,(f<i.top||f>i.bottom)&&(f=i.top,$$WP.Debug.log(v))):f!==a?r.left+u.width+c<i.right?e=r.left-2+o:r.right-u.width>i.left?e=r.right-u.width+2+o:(e=r.left+r.width/2-u.width/2+o,i.width<u.width+e+c&&(e=i.left+8,t.outerWidth(i.width-16-c),p&&(u=t.boxModel(s),f=r.top-u.height)),(e<i.left||e>i.right)&&(e=i.left+8,t.outerWidth(i.width-16-c),p&&(u=t.boxModel(s),f=r.top-u.height),$$WP.Debug.log(v))):($$WP.Debug.log(v),n.addClass(y),f=r.top,e=r.right),{top:f,left:e}};$$WPUtil.positionElementNearRTL=function(n,t){var l="Popup cannot be fit to screen",y="onBottom",a="onRight",h=null,o=!1,p="onRight onLeft onBottom onTop",c,r,u,i,s,e,f,w,v,b=400;return n.removeClass(p),t.removeClass(p),c=t.parents("#main, #sidebar, #lightbox, .Popup, .direct_message, .menudetailstable.leftmenu .leftcolumn, .popupOwner"),r=c.boxModel(o),(c.safeAttr("id")==="main"||c.safeAttr("id")==="sidebar")&&(v=$afe.select("#footer").outerHeight(o),v>0&&(r.height-=v,r.bottom=r.top+r.height)),i=n.boxModel(o),s={toRight:r.right-i.right,toLeft:i.left-r.left,above:i.top-r.top,below:r.bottom-i.bottom},f=h,e=h,b<r.width?t.outerWidth(b):t.outerWidth(r.width),u=t.boxModel(o),s.toLeft>u.width?(n.addClass(a),t.addClass(a),f=i.right):s.below>u.height?(n.addClass(y),t.addClass(y),e=i.bottom):s.toRight>u.width?(n.addClass("onLeft"),t.addClass("onLeft"),f=i.left-u.width):s.above>u.height&&(n.addClass("onTop"),t.addClass("onTop"),e=i.top-u.height,w=!0),f!==h?i.bottom-u.height>r.top?e=i.bottom-u.height+2:i.top+u.height<r.bottom?(e=i.top-2,t.addClass("infoPopupAlignTop")):(e=i.top+i.height/2-u.height/2,(e<r.top||e>r.bottom)&&(e=r.top,$$WP.Debug.log(l))):e!==h?i.left+u.width<r.right?f=i.right-u.width+2:i.right-u.width>r.left?f=i.left-2:u.width===r.width?(t.outerWidth(r.width-16),f=i.left+i.right-r.right+8):(f=i.left+i.width/2-u.width/2,u.left<r.left&&(f=i.left+i.right-r.right+8,t.width(r.width-32),w&&(u=t.boxModel(o),e=i.top-u.height)),(f<i.right-r.right+i.left||f>r.right+i.right+i.left)&&(f=i.left+i.right-r.width-r.left,$$WP.Debug.log(l))):($$WP.Debug.log(l),n.addClass(a),e=i.top,f=i.right),{top:e,left:f}};$$WPUtil.handlePopupInstructions=function(n,t){var i=undefined;n.type==="focus"||n.type==="mouseenter"||n.type==="click"?i=!0:(n.type==="blur"||n.type==="mouseleave"||n.type==="keydown"&&n.keyCode===27)&&(i=!1);i!==undefined&&($$WPUtil.togglePopupInstructions($afe.jq(n.target),i,t),n.stopPropagation())};$$WPUtil.handlePopupInstructionsKeydown=function(n,t){n.type==="keydown"&&n.keyCode===27&&$afe.select("#main").find(".popupiconcontainer .popupinstructionsicon.showPopup").each(function(){var n=$afe.jq(this);$$WPUtil.togglePopupInstructions(n,!1,t)})};$$WPUtil.togglePopupInstructions=function(n,t,i){var h="isblur",s="px",v="data-ispositioned",y="allowOverflow",p="showPopup",c="altnode",e="img",r,l,u,a,f,o;(i=i||"Global",n.hasClass("popupiconcontainer")||(n=n.parents(".popupiconcontainer").first()),n.length!==0)&&(r=n.find(".popupInstructions"),u=r.siblings(".popupinstructionsicon"),l=r.parents("#main, #sidebar, .Popup, .popupOwner"),t?(a="PopupHelpIconAltFull",u.find(e).data(c)&&(a=u.find(e).data(c)+"Full"),u.find(e).safeAttr("alt",$$WP.Strings.get(a,i)),r.removeClass("hidden isblur"),u.addClass(p),l.addClass(y),u.safeAttr(v)!=="1"&&(o=u.offset(),$afe.select("html").safeAttr("dir")=="rtl"?(f=$$WPUtil.positionElementNearRTL(u,r),f.top-=o.top,f.left-=o.left,r.css({right:f.left+s,top:f.top+s})):(f=$$WPUtil.positionElementNear(u,r),f.top-=o.top,f.left-=o.left,r.css({left:f.left+s,top:f.top+s})),r.safeAttr(v,"1"))):(r.addClass(h),window.setTimeout(function(n,t,r){var u=t.find(e).data(c)||"PopupHelpIconAlt";r.hasClass(h)&&(n.removeClass(y),r.removeClass(h),r.addClass("hidden"),t.removeClass(p),t.find(e).safeAttr("alt",$$WP.Strings.get(u,i)))},100,l,u,r)))};$$WPUtil.handlePopupEndAnchor=function(n,t){var u="isblur",r,i,f,e;(t=t||"Global",r=$afe.jq(n.target),$popupiconcontainer=r.hasClass("popupiconcontainer")?r:r.parents(".popupiconcontainer").first(),$popupiconcontainer.length!==0)&&(i=$popupiconcontainer.find(".popupInstructions"),e=i.siblings(".popupinstructionsicon"),f=i.parents("#main, #sidebar, .Popup"),n.type==="keyup"&&n.key==="Tab"&&n.shiftKey===!1?(i.addClass(u),window.setTimeout(function(n,i,r){var f=i.find("img").data("altnode")||"PopupHelpIconAlt";r.hasClass(u)&&(n.removeClass("allowOverflow"),r.removeClass(u),r.addClass("hidden"),i.removeClass("showPopup"),i.find("img").safeAttr("alt",$$WP.Strings.get(f,t)))},100,f,e,i),WP.DOM.Search.getNextFocusable(n.target).focus()):n.type==="keyup"&&n.key==="Tab"&&n.shiftKey===!0&&WP.DOM.Search.getPreviousFocusable($popupiconcontainer[0].parentNode).focus())};$$WPUtil.printHtmlClass=function(n){var t;t=$afe.select("."+n);$$WPUtil.printElement(t)};$$WPUtil.printImage=function(n){var t=dangerou$.parseHtml("<img src='"+n+"' style='height: 100%' />");$$WPUtil.printElement(t)};$$WPUtil.printElement=function(n){var i,t,r;t=openWindow("","Print","resizable");r=$afe.jq(n);i=r.get(0).outerHTML;t.focus();dangerou$.setHtml(t.document.body,i);window.setTimeout(function(n){n.print();n.close()},10,t)};$$WPUtil.postify=function(n){var t={},i=function(n,r){var u,f;for(u in n){f=isFinite(u)?(r!=""?r:"")+"["+u+"]":(r!=""?r+".":"")+u;switch(typeof n[u]){case"number":case"string":case"boolean":t[f]=n[u];break;case"object":i(n[u],f!=""?f:u)}}};return i(n,""),t};$$WPUtil.postForm=function(n,t,i){var r=$afe.jq(document.createElement("form")),f,e,u;if(r.safeAttr("method","post"),r.safeAttr("action",n),r.safeAttr("target",i),t)for(f=0;f<t.length;f++)e=t[f],u=$afe.jq(document.createElement("input")),u.safeAttr("type","hidden"),u.safeAttr("name",e.Name),u.safeAttr("value",e.Value),r.safeAppend(u);$afe.select("body").safeAppend(r);r.submit();$afe.select("body").remove(r)};$$WPUtil.generateRandomGUID=function(){for(var i="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=0;t<16;t++)i+=n.charAt(Math.floor(Math.random()*n.length));return i};$$WPUtil.highlightNodeText=function(n,t){var r,f,i,u,e;if(n!==null&&(r=n.childNodes,r!==null&&r.length!==0))try{for(f=new RegExp("("+t+")","gi"),u=0;u<r.length;u=u+1)i=r[u],i!==null&&(i.nodeType===3?f.test(i.nodeValue)&&(e=document.createElement("span"),dangerou$.setHtml(e,HTMLEncode(i.nodeValue).replace(f,'<span class="hilite">$1<\/span>')),n.insertBefore(e,i),n.removeChild(i)):i.nodeType===1&&$$WPUtil.highlightNodeText(i,t))}catch(o){}};$$WPUtil.createAriaLabel=function(n,t){var i=$afe.select("#"+n),r=$afe.select("#arialabels");i.length===0&&(r.length===0&&(r=$afe.jq(document.body).safeAppend($$WP.SimpleTemplates.Div({id:"arialabels"}))),i=$$WP.SimpleTemplates.Span({"class":"clearlabel",id:n},t),r.safeAppend(i))};$$WPUtil.addPopupListener=function(n,t){(n===null||typeof n=="undefined")&&(n=$afe.select("#main"));document.addEventListener("keydown",function(n){$$WPUtil.handlePopupInstructionsKeydown(n,t)});n.find(".popupiconcontainer").each(function(){var n=$afe.jq(this);$$WPUtil.addSinglePopupListener(n,t)})};$$WPUtil.AddPopupListener=$$WPUtil.addPopupListener;$$WPUtil.addSinglePopupListener=function(n,t,i){var r="blur focus keydown click";n.off().hover($$WPUtil.handlePopupInstructions);n.find(".popupinstructionsicon").off().on(r,function(n){$$WPUtil.handlePopupInstructions(n,t)});n.find(".popupInstructions").off().on(r,function(n){$$WPUtil.handlePopupInstructions(n,t)});i&&document.addEventListener("keydown",function(n){$$WPUtil.handlePopupInstructionsKeydown(n,t)})};$$WPUtil.removePopupListener=function(n){(n===null||typeof n=="undefined")&&(n=$afe.jq("#main"));var t=n.find(".popupiconcontainer");t.off();t.find(".popupinstructionsicon").off();t.find(".popupInstructions").off()};$$WPUtil.isValidPhoneNumber=function(n){var t=new RegExp(/^\+?\d{6,13}((x|X)?\d{4})?$/);return t.test(n)};$$WPUtil.PrintAndAuditNET=function(){window.print();$.ajax({url:makeLink("Home/AuditPrint"),type:"POST",data:{title:document.title}})};$$WPUtil.clearAlertCache=function(){};$$WPUtil.logoutAndShowError=function(n){$$WP.Utilities.TryRedirect(makeLink("Home/Logout?error="+n))};$$WPUtil.regExEscapeString=function(n){var i,t;if(typeof n!="string")return"";for(i="",t=0;t<n.length;t++)i+="\\u"+("0000"+n.charCodeAt(t).toString(16)).substr(-4);return i};$$WPUtil.IsSupportedChars=function(n){var t=new RegExp(/^[\x09\x0A\x0D\x20-\x7E\xA0-\xFF\u0152\u0153\u0160\u0161\u0178\u017D\u017E\u0192\u02C6\u02DC\u2013\u2014\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2026\u2030\u2039\u203A\u20AC\u2122]*$/);return t.test(n)};$$WPUtil.RemoveUnsupportedChars=function(n){return n.split("").filter($$WPUtil.IsSupportedChars).join("")};$$WPUtil.IsH2GActivity=function(n){var t=!0;return $$WPUtil.IsVisitsListUrl(n)?t:$$WPUtil.IsTestResultsUrl(n)?t:$$WPUtil.IsMedsListUrl(n)?t:$$WPUtil.IsAllergiesListUrl(n)?t:$$WPUtil.IsHealthIssuesUrl(n)?t:!1};$$WPUtil.IsVisitsListUrl=function(n){return n=n.toLowerCase(),n.indexOf("visits/visitslist")!==-1||n.indexOf("mode=appointments")!==-1||n.indexOf("mode=visits")!==-1||n.indexOf("mode=recentappts")!==-1?!0:!1};$$WPUtil.IsTestResultsUrl=function(n){return n=n.toLowerCase(),n.indexOf("clinical/testresults")!==-1||n.indexOf("mode=labs")!==-1?!0:!1};$$WPUtil.IsMedsListUrl=function(n){return n=n.toLowerCase(),n.indexOf("clinical/medications/list")!==-1||n.indexOf("mode=medslist")!==-1?!0:!1};$$WPUtil.IsAllergiesListUrl=function(n){return n=n.toLowerCase(),n.indexOf("clinical/allergies")!==-1||n.indexOf("mode=allergies")!==-1?!0:!1};$$WPUtil.IsHealthIssuesUrl=function(n){return n=n.toLowerCase(),n.indexOf("clinical/healthissues")!==-1||n.indexOf("mode=hlthissues")!==-1?!0:!1};$$WPUtil.IsHealthSummaryUrl=function(n){return n=n.toLowerCase(),n.indexOf("mode=snapshot")!==-1?!0:!1};$$WPUtil.defaultAjaxErrorHandler=function(n,t,i){function s(n){return n.status===0&&!n.getAllResponseHeaders()}var u="#content",o,f,r,e;if($$WP.IsEpicAjaxErrorHandlerDisabled!==!0){if(i.suppressEpicDefaultAjaxErrorHandler||i.hasOwnErrorHandler||t.status===200){$$WP.Debug.IsEnabled&&$$WP.Debug.logError("Ajax call to "+i.url+" received an error response and has the default error handler suppressed.",!0);return}if(t.statusText==="abort"||t.statusText==="canceled"||s(t)){$$WP.Debug.log(t.statusText+" ajax call to "+i.url+".",!0);return}if(!i.hasOwnErrorHandler){if(WP.Events.cancelBeforeUnload(),!$$WP.Debug.IsEnabled&&($afe.select(u).children().addClass("hidden"),$$WP.Utilities.UI.IsMobile)){window.location.href=makeLink("500.aspx");return}if($afe.select(".AjaxErrorHandler.Popup").length!==0)return;e=$$WPContain.Popup.SizeEnum.SMALL;$$WP.Debug.IsEnabled&&t.responseText!==undefined?(r=t.responseText,r=r.substring(r.indexOf("<body"),r.indexOf("<\/body")),f=r.substring(r.indexOf(">")+1,r.length),e=$$WPContain.Popup.SizeEnum.LARGE):f=$$WP.Strings.get("DefaultAjaxErrorHandlerMessage","global");o=new $$WPComp.MessageComponent({TitleText:$$WP.Strings.get("DefaultAjaxErrorHandlerTitle","global"),Message:f,ToolbarButtons:[new $$WPComp.ComplexObjects.Button($$WP.Strings.get("ClosePopupButton","Core.Utilities"),null,"cancelworkflow")]});$$WPUtil.quickPopup(o,{Size:e,positioningFunction:$$WPContain.Positions.InsideNearTop,HasBackButton:!1,Class:"AjaxErrorHandler"});$afe.select(u).removeAttr("id");$afe.select(".messageComponent").find(u).removeAttr("id")}}};$$WPUtil.isLocalStorageAvailable=function(){var n="test";try{window.localStorage.setItem(n,n);window.localStorage.removeItem(n)}catch(t){return!1}return!0};$$WPUtil.UseHTML5InputControls=function(){var n="input";$$WP.Utilities.isBrowserCapableOf(n,{type:"number"})&&$afe.select("input[data-inputtype='number']").each(function(){this.type="number"});$$WP.Utilities.isBrowserCapableOf(n,{type:"phone"})&&$afe.select("input[data-inputtype='phone']").each(function(){this.type="phone"});$$WP.Utilities.isBrowserCapableOf(n,{type:"email"})&&$afe.select("input[data-inputtype='email']").each(function(){this.type="email"});$$WP.Utilities.isBrowserCapableOf(n,{type:"date"})&&$afe.select("input[data-inputtype='date']").each(function(){this.type="date"});$$WP.Utilities.isBrowserCapableOf(n,{type:"time"})&&$afe.select("input[data-inputtype='time']").each(function(){this.type="time"})};$$WPUtil.FixScrollingForIOS=function(n){n.on("blur","input, textarea",function(){window.scrollBy(0,0)})};$$WPUtil.ShowAjaxSpinner=function(n,t){if(n!==null){if(n.length>1&&$$WP.Debug.logError("Multiple ajax spinners passed to ShowAjaxSpinner"),t!==!0&&n.removeClass("hidden"),!n.hasClass("hidden")){var i=n.contents();n.empty();n.safeAppend(i)}t!==!0&&setTimeout(function(n){$$WPUtil.ShowAjaxSpinner(n,!0)},1500,n)}};$$WPUtil.HideAjaxSpinner=function(n){n.addClass("hidden")};$$WPUtil.GetRawString=function(n){return n&&!$$WPUtil.IsNullOrEmpty(n.string)?n.string:typeof n=="string"?n:""};$$WPUtil.GetQueryStringParameterValue=function(n,t){var i;return i=new RegExp("[?&]"+t+"=([^&#]*)").exec(n),i===null?"":decodeURIComponent(i[1])};$$WPUtil.GetTextareaBucketClass=function(n){if(n<1)return"";var t=n-1-(n-1)%25+25;return t>300&&(t="unlimited"),"textbucket"+t+"chars"};$$WPUtil.AddSingleLineTextareaListeners=function(){$afe.select(".singleLineFreeText").each(function(){this.addEventListener("keydown",function(n){var t=n.which||n.keyCode;t===13&&n.preventDefault()});this.addEventListener("input",function(n){n.target.value=n.target.value.replace(/\n/g,"")})})};$$WPUtil.SetCrossDomainData=function(n){window.parent.postMessage({method:"setValues",data:n},$$WP.ParentDomain)};$$WPUtil.DeleteCrossDomainData=function(n){window.parent.postMessage({method:"deleteLocalStorageValue",key:n},$$WP.ParentDomain)};$$WPUtil.GetCrossDomainData=function(n){return new Promise(function(t){var i=new MessageChannel;i.port1.onmessage=function(n){t(n.data)};window.parent.postMessage({method:"getValue",key:n},$$WP.ParentDomain,[i.port2])})};$$WPUtil.GetIframeWidth=function(){return new Promise(function(n){var t=new MessageChannel;t.port1.onmessage=function(t){n(t.data)};window.parent.postMessage({method:"getWidth",id:$$WP.WidgetID},$$WP.ParentDomain,[t.port2])})};$$WPUtil.SetCrossDomainIframeHeight=function(n){window.parent.postMessage({method:"setHeight",height:n,id:$$WP.WidgetID},$$WP.ParentDomain)};$$WPUtil.SetCrossDomainIframeMinHeight=function(n){window.parent.postMessage({method:"setMinHeight",height:n,id:$$WP.WidgetID},$$WP.ParentDomain)};$$WPUtil.ScrollTopOfTheIframeCrossDomain=function(){window.parent.postMessage({method:"scrollTopOfTheIframe",id:$$WP.WidgetID},$$WP.ParentDomain)};$$WPUtil.RefreshHeader=function(){var n=function(){alert($$WP.Strings.get("WidgetRefreshAlert","Global"))||window.location.reload()};$$WP.WidgetMode&&$.ajax({url:makeLink("Widget/RefreshHeader"),type:"GET",success:function(t){t.headerValue?$$WP._WidgetToken=t.headerValue:n()},error:n})};Epic=Epic||{};Epic.PatientAccess=Epic.PatientAccess||{};$$WP=$$WP||Epic.PatientAccess;$$WP.Settings=$$WP.Settings||{};$$WP.Settings.ScriptPath="Scripts/";console=console||{error:function(){},log:function(){},warn:function(){}},function(){var i="function",n=!0,t="object",r=function(r){var u;if($.type(r)!==t)return!1;if(r instanceof this)return n;if(typeof r._constructor===i&&Array.isArray(r._constructors)){if(r._constructor===this)return n;for(u=0;u<r._constructors.length;u++)if(r._constructors[u]===this)return n}return!1};Function.prototype.extend=function(u,f){var o=this,s,e,c,a,l,v,y,h;if(typeof u===i&&$.type(u.prototype)===t){if(e=u,c=e._className,y=f,typeof e!==i||$.type(e.prototype)!==t){console.error("Provided parent class was not a valid class. Cannot perform inheritance.");return}}else{for(e=f||$$WP,a=u.split("."),c=u.replace(/\./g,"$"),l=0;l<a.length;l++){if($.type(e)!==t){e=null;break}e=e[a[l]]}if(typeof e!==i||$.type(e.prototype)!==t){console.error("Did not find a class named "+u+" in the given root namespace. Cannot perform inheritance.");return}}o._inheritedMethods={};o.prototype[c]=e;o._inheritedMethods[c]=n;o._className=y;v={_constructor:n,_constructors:n};for(s in e.prototype)typeof s!="string"||v[s]||(h=e.prototype[s],typeof e.prototype[s]===i&&(e._inheritedMethods[s]?(o.prototype[s]=h,o._inheritedMethods[s]=n):(o.prototype[c+"$"+s]=h,o._inheritedMethods[c+"$"+s]=n)),typeof o.prototype[s]=="undefined"&&(o.prototype[s]=$.type(h)!==t||h instanceof jQuery||Array.isArray(h)?h:$$WP.Utilities.copyObject(h)));o.prototype._constructor=o;o.prototype._constructors=$$WP.Utilities.copyObject(e.prototype._constructors);o.prototype._constructors.push(e);o.isInstance=r};$$WP.BaseObject=function(){};$$WP.BaseObject._className="WP$BaseObject";$$WP.BaseObject._inheritedMethods={};$$WP.BaseObject.prototype={_constructor:$$WP.BaseObject,_constructors:[]}}();window.onerror=function(n,t,i,r,u){var e="Stack Trace for ",f;if(f=n?'"'+n+'"':"unhandled exception",u&&u.stack)try{WP&&WP.DOM&&WP.DOM.Browser.isIE||WP.DOM.Browser.isLegacyEdge?(console.groupCollapsed(e+f),console.error(u.stack),console.groupEnd()):(console.groupCollapsed(e+f,""),console.error(u.message),console.groupEnd());$$WP.Debug._errorCount++;$$WP.Debug._updateErrorCountDisplay()}catch(o){}};$$WP=$$WP||{};$$WP.Utilities=$$WP.Utilities||{};$$WP.Utilities.UI=$$WP.Utilities.UI||{};$$WP.Utilities.UI.OnUIFrameworkLoaded&&$$WP.Utilities.UI.OnUIFrameworkLoaded(function(){!$$WP.Utilities.UI.IsMobile&&$$WP.Debug.CheckForStringResources&&$.ajax({url:makeLink("/Tests/CheckStringResources"),dataType:"json",global:!1,error:function(){$$WP.Debug.log("Debug: Couldn't check for missing string resources. /Tests/CheckStringResources is not available.")},success:function(n){var u="<br/>",t="",i,r;if(!n.IsSuccess){if(t+='<div id="missingStringsWarning" style="position: fixed; bottom:10px; left:10px; z-index: 1000000; background-color: #dbff00; border: 2px solid black; color: black; width: auto; padding: 5px; max-height: 50%; overflow-y: scroll;">',t+='<p>Incorrect strings detected in .resx files!!! <a href="#" style="color:black;" data-function="dismiss">[X]<\/a><\/p>',t+='<p><a href="#" style="color:black;" data-function="toggleDetails">[+/- details]<\/a><\/p>',t+='<div data-contents="details" class="jqHidden">',n.MissingStrings&&n.MissingStrings.length>0)for(t+="~ MISSING ~<br/>",i=0;i<n.MissingStrings.length;i++)t+=n.MissingStrings[i]+u;if(n.ModifiedStrings&&n.ModifiedStrings.length>0)for(t+="~ MODIFIED ~<br/>",i=0;i<n.ModifiedStrings.length;i++)t+=n.ModifiedStrings[i]+u;if(n.ExtraStrings&&n.ExtraStrings.length>0)for(t+="~ UNUSED ~<br/>",i=0;i<n.ExtraStrings.length;i++)t+=n.ExtraStrings[i]+u;t+="<\/div>";t+="<\/div>";r=dangerou$.parseHtml(t);r.on("click",'[data-function="toggleDetails"]',function(n){n.preventDefault();n.stopPropagation();r.find('[data-contents="details"]').toggle()});r.on("click",'[data-function="dismiss"]',function(n){n.preventDefault();n.stopPropagation();r.remove()});$afe.select("body").safeAppend(r)}}})});$$WP=$$WP||{};$$WP.Debug=$$WP.Debug||{};$$WP.Debug.UI=$$WP.Debug.UI||{};$$WP.Debug.UnitTest=$$WP.Debug.UnitTest||{};$$WP.Debug.UnitTest.tests=$$WP.Debug.UnitTest.tests||[];$$WP.Debug._failedAssertions=0;$$WP.Debug._assertions=0;$$WP.Debug._errorCount=0;$$WP.Debug._$errorCountDisplay=null;$$WP.Debug.log=function(n,t){var i;if(n=n||"",$$WP.Debug.IsEnabled)try{i=new Error(n);t&&console.trace?(console.groupCollapsed($$WP.Debug.messagePrefix+n),console.trace(),console.groupEnd()):t&&"stack"in i?(console.groupCollapsed($$WP.Debug.messagePrefix+n),console.log(i.stack),console.groupEnd()):console.log($$WP.Debug.messagePrefix+n)}catch(r){}};$$WP.Debug.logError=function(n,t){var i,r;if(n=n||"",typeof t!="boolean"&&(t=!0),t){try{WP&&WP.DOM&&WP.DOM.Browser.isIE||WP.DOM.Browser.isLegacyEdge?(console.groupCollapsed($$WP.Debug.messagePrefix+n),console.trace(),console.groupEnd()):console.error($$WP.Debug.messagePrefix+n,"");r=!0}catch(u){try{i=new Error(n);i.stack.length>0&&(console.groupCollapsed($$WP.Debug.messagePrefix+n),console.error(i.stack,""),console.groupEnd(),r=!0)}catch(f){}}if(!r)try{console.error($$WP.Debug.messagePrefix+n,"")}catch(e){}}else try{console.error($$WP.Debug.messagePrefix+n,"")}catch(o){}$$WP.Debug._errorCount++;$$WP.Debug._updateErrorCountDisplay()};$$WP.Debug._updateErrorCountDisplay=function(){$$WP.Debug.IsEnabled&&($$WP.Debug._$errorCountDisplay===null&&($$WP.Debug._$errorCountDisplay=$afe.jq(document.createElement("div")),$$WP.Debug._$errorCountDisplay.css({position:"absolute","background-color":"red",color:"white","font-weight":"bold",width:"auto",padding:"1px","margin-left":"2px","z-index":"100"}),$afe.select("#header").safePrepend($$WP.Debug._$errorCountDisplay)),$$WP.Debug._$errorCountDisplay.empty(),$$WP.Debug._$errorCountDisplay.text("Errors in console: "+$$WP.Debug._errorCount))};$$WP.Debug.ShowNonProdBanner=function(){var i,r,n,t;if(sessionStorage.HideNonProdBanner!=="true"){i=$$WP.Strings.get("NonProdErrorMessage","global");r=$$WP.Strings.get("NonProdErrorMessageDismissTitle","global");n="";n+='<div id="nonProdBanner" style="position:relative; color:red; width:100%; text-align:center; padding:5px; background:repeating-linear-gradient(135deg, black, black 10px, gold 10px, gold 20px);">';n+='<strong><span style="padding: 0px 5px; background:black;">'+i+'&nbsp;<a href="#" style="color:red;" data-function="dismiss" title="'+r+'">[X]<\/a><\/span><\/strong>';n+="<\/div>";t=dangerou$.parseHtml(n);t.on("click",'[data-function="dismiss"]',function(n){sessionStorage.setItem("HideNonProdBanner","true");n.preventDefault();n.stopPropagation();$$WP.Debug.RemoveBanner(t)});$$WP.Debug.AddBanner(t)}};$$WP.Debug.ShowAdminElevationBanner=function(){var t="global",r,u,f,n,i;r=$$WP.Strings.get("AdminBannerText",t);f=$$WP.Strings.get("AdminBannerAction",t);u=$$WP.Strings.get("AdminBannerActionTitle",t);n='<div class="adminElevationBanner" id="adminElevationBanner">';n+='<strong><span style="padding: 0px 5px;">'+r+'&nbsp;[<a href="#"  data-function="endsession" ';n+='title="'+u+'">'+f+"<\/a>]<\/span><\/strong ><\/div >";i=dangerou$.parseHtml(n);i.on("click",'[data-function="endsession"]',$$WP.Debug.PromptToEndElevatedSession);$$WP.Debug.AddBanner(i)};$$WP.Debug.PromptToEndElevatedSession=function(){var n="global",t,i,r,u,f,e;r=$$WP.Strings.get("AdminPopupConfirmButtonText",n);u=$$WP.Strings.get("AdminPopupCancelButtonText","gloal");f=$$WP.Strings.get("AdminPopupTitleText",n);e=$$WP.Strings.get("AdminPopupMessageText",n);t={ToolbarButtons:[{Text:r,Class:"completeworkflow"},{Text:u,Class:"cancelworkflow"}],TitleText:f,Html:e,IsClosable:!0,callback:function(n){n&&($$WP.Debug.ClearClipboard(),this.dispose(!0),window.location.href=makeLink("/Authentication/ServerAdmin/ClearElevation"))}};i=new $$WPComp.ConfirmComponent(t,{Size:$$WPContain.Popup.SizeEnum.SMALL});$$WPUtil.quickPopup(i)};$$WP.Debug.ClearClipboard=function(){var t,n,i;t='<input type="text" style="position:absolute; left:-999; top:-999" id="clearText" value=" " />';n=dangerou$.parseHtml(t);i=$afe.select("body");i.safePrepend(n);n.select();document.execCommand("copy");n.remove()};$$WP.Debug.AddBanner=function(n){$$WP.Debug.CreateBannerContainer();setTimeout(function(){$afe.select("#sitebanner").safePrepend(n);$$WP.Debug.UpdateTopMarginForBanners()},100)};$$WP.Debug.RemoveBanner=function(n){var t="#sitebanner";$afe.select(t).safeAttr("role","");n.remove();$afe.select(t).safeAttr("role","alert");$$WP.Debug.UpdateTopMarginForBanners()};$$WP.Debug.UpdateTopMarginForBanners=function(){var i=$afe.select("#wrap"),r=$afe.select("#header"),u=$afe.select("#content"),n=$afe.select(".titlebar"),t=$afe.select(".Popup");$$WP.Debug.UpdateTopMarginForBanner(i);$$WP.Debug.UpdateTopMarginForBanner(t);$$WP.Utilities.UI.IsLoggedIn&&($$WP.Debug.UpdateTopMarginForBanner(r),$$WP.Debug.UpdateTopMarginForBanner(u));$(document).width()<1300&&!t?$$WP.Debug.UpdateTopMarginForBanner(n):n.length!==0&&n.css("margin-top",0)};$$WP.Debug.UpdateTopMarginForBanner=function(n){var t=$afe.select("#sitebanner"),i=t.height();n.length!==0&&n.css("margin-top",i)};$$WP.Debug.CreateBannerContainer=function(){if($afe.select("#sitebanner").length===0){var n="",t;n+='<div id="sitebanner" class="sitebanners" role="alert">';n+="<\/div>";t=dangerou$.parseHtml(n);$afe.select("body").safePrepend(t)}};$$WP.Debug._synchronousAjax=function(n,t){var i;i=typeof n=="object"?n:t;i=i||{};i.async=!1;$$WP.Debug._oldAjax(n,i)};$$WP.Debug.makeAjaxSynchronous=function(){if($$WP.Debug.IsEnabled){if($.ajax===$$WP.Debug._synchronousAjax)return;$$WP.Debug._oldAjax=$$WP.Debug._oldAjax||$.ajax||jQuery.ajax;$.ajax=$$WP.Debug._synchronousAjax}};$$WP.Debug.allowAjaxAsynchronous=function(){$.ajax===$$WP.Debug._synchronousAjax&&($.ajax=$$WP.Debug._oldAjax)};$$WP.Debug.UnitTest.assert=function(n,t){$$WP.Debug._assertions++;n||($$WP.Debug._failedAssertions++,$$WP.Debug.logError(t,!1))};$$WP.Debug.UnitTest.assertValue=function(n,t,i){$$WP.Debug.UnitTest.assert(n===t,i+"(expected '"+n+"', got '"+t+"')")};$$WP.Debug.UnitTest.cssClassesMatch=function(n,t){var i,r;if(i=n.safeAttr("class").split(" "),t=t.split(" "),t.length!==i.length)return!1;for(i.sort(),t.sort(),r=0;r<i.length;r++)if(i[r]!==t[r])return!1;return!0};$$WP.Debug.UnitTest.resetCounters=function(){$$WP.Debug._failedAssertions=0;$$WP.Debug._assertions=0};$$WP.Debug.UnitTest.getFailedAssertionCount=function(){return $$WP.Debug._failedAssertions};$$WP.Debug.UnitTest.runAll=function(n){var a='<td style="font-size: 1.2rem; text-align: left; width: 70%; color: white; background-color: red">Test failed ',v="XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX Test Failed XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",t,u,r,e,h,y,o,s,f,i,c,l;if($$WP.Debug.IsEnabled)for(n=n||$afe.select("body"),l=$$WP.SimpleTemplates.WarningIcon({"class":"",style:"margin-top: 3px;"}),t=$afe.select("#WP-Debug-UnitTest-TestingRange"),t.length!==0?(u=t.find('table[name="resultsTable"]'),u.empty(),r=t.find('div[name="sandbox"]'),r.empty()):(t=$$WP.SimpleTemplates.Div({id:"WP-Debug-UnitTest-TestingRange"}),u=dangerou$.parseHtml('<table name="resultsTable" style="width: 100%; margin: auto; background-color:white; border:1px solid black;"><tr style="border:1px solid black;"><th style="font-weight:bold; font-size:1.2rem;">Test name<\/th><th style="font-weight:bold; font-size:1.2rem;">Result<\/th><\/tr><\/table>'),r=$$WP.SimpleTemplates.Div({name:"sandbox"}),n.safeAppend(t),t.safeAppend(u),t.safeAppend(r)),e=0;e<$$WP.Debug.UnitTest.tests.length;e++){h=$$WP.Debug.UnitTest.tests[e];$$WP.Debug.UnitTest.resetCounters();c=!1;try{h(r)}catch(p){$$WP.Debug.log(p.stack);c=!0}s=$$WP.Debug.UnitTest.getFailedAssertionCount();f=$$WP.Debug._assertions;c?($$WP.Debug.log(v),i=dangerou$.parseHtml(a+s+" of "+f+" checks. Did not run the entire test due to an unhandled exception.<br/>See console for more details<\/td>"),i.find("td").safePrepend(l)):s>0?($$WP.Debug.log(v),i=dangerou$.parseHtml(a+s+" of "+f+" checks. See console for more details.<\/td>"),i.find("td").safePrepend(l)):f===0?($$WP.Debug.log("No test cases defined for this module."),i=dangerou$.parseHtml('<td style="font-size: 1.2rem; text-align: left; width: 70%; color: white; background-color: orange">No test cases defined for this module.<\/td>')):i=dangerou$.parseHtml('<td style="font-size: 1.2rem; text-align: left; width: 70%; color: white; background-color: green">Test passed all '+f+" checks<\/td>");r.empty();o=dangerou$.parseHtml("<tr><\/tr>");y=h.name||"Test";o.safeAppend(dangerou$.parseHtml('<td style="width:30%; font-weight:bold; font-size:1.2rem; text-align:left;">'+y.replace(/UnitTests\$/,"")+"<\/td>"));o.safeAppend(i);u.safeAppend(o)}},function(){var n={},t=function(){},i={addMonitor:function(t,i){$$WP.Debug.IsEnabled&&(n[t]=i)},getWorkflow:function(t){return $$WP.Debug.IsEnabled&&n[t]?n[t]:undefined},removeMonitor:function(t){$$WP.Debug.IsEnabled&&delete n[t]}};t.prototype=i;$$WP.Debug.Workflow=$$WP.Debug.Workflow||new t}(),function(){var c="blur",l="deleteContentBackward",a="_autoformatted",i=!0,u="0",f=10,r=!1,v="undefined",e="y",t="",o="Core.FormValidation",n=null,y;$$WP.I18N=$$WP.I18N||{DateFormat:n,TimeFormat:n,TimeSeparator:n,AmDesignator:n,PmDesignator:n,Days:[],Months:[],DecimalSeparator:n,GroupSeparator:n,RangeSeparator:n,NegativePattern:n,CenturyRollover:15,BirthdayRollOver:0};$$WP.I18N.getMyChartLocale=function(){return $$WP.I18N.Identifier};$$WP.I18N.getDateFormatForDisplay=function(){return this.DateFormat.toLowerCase().replace(/m+/g,$$WP.Strings.get("MM",o)).replace(/d+/g,$$WP.Strings.get("DD",o)).replace(/y+/g,$$WP.Strings.get("YYYY",o))};$$WP.I18N.getTimeFormatForDisplay=function(){return this.TimeFormat.toLowerCase().replace(/h+/g,$$WP.Strings.get("HH",o)).replace(/m+/g,$$WP.Strings.get("MI",o)).replace(/t+/g,$$WP.Strings.get("TT",o))};$$WP.I18N.getOrderedDatePieces=function(n,i,r){var f=$$WP.I18N.DateFormat.toLowerCase(),u;return n&&f.replace(/y+/,t),u={},r||(u.d=f.indexOf("d")),i||(u.m=f.indexOf("m")),n||(u.y=f.indexOf(e)),Object.keys(u).sort(function(n,t){return u[n]-u[t]})};$$WP.I18N.formatPatientGivenDate=function(n,i){var e,o;return(n instanceof Date)?(typeof i===v&&(i=r),o=$$WP.I18N.DateFormat.toLowerCase(),e={dayOfMonth:i?n.getDate():n.getUTCDate(),month:(i?n.getMonth():n.getUTCMonth())+1,year:("0000"+(i?n.getFullYear():n.getUTCFullYear())).substr(-4)},e.dayOfMonth<f&&o.indexOf("dd")>-1&&(e.dayOfMonth=u+e.dayOfMonth),e.month<f&&o.indexOf("mm")>-1&&(e.month=u+e.month),o.indexOf("yyyy")===-1&&(e.year=(e.year+t).substring(2,4)),o.replace(/d+/,e.dayOfMonth).replace(/m+/,e.month).replace(/y+/,e.year)):t};$$WP.I18N.parseDate=function(i){var r=new $$WP.I18N.Date(i,t);return r.isSpilledOver()?n:r.DateObject};$$WP.I18N.formatPatientGivenTime=function(n,i){var e,o,s;return(n instanceof Date)?(typeof i===v&&(i=r),o=$$WP.I18N.TimeFormat.toLowerCase(),s=o.indexOf("t")>-1,e={hour:i?n.getHours():n.getUTCHours(),minute:i?n.getMinutes():n.getUTCMinutes(),amPm:t},s&&(e.hour>=12?(e.amPm=$$WP.I18N.PmDesignator,e.hour>12&&(e.hour=e.hour-12)):(e.amPm=$$WP.I18N.AmDesignator,e.hour===0&&(e.hour=12))),o.indexOf("hh")>-1&&e.hour<f&&(e.hour=u+e.hour),e.minute<f&&(e.minute=u+e.minute),o.replace(/h+/,e.hour.toString()).replace(/m+/,e.minute.toString()).replace(/t+/,e.amPm)):t};$$WP.I18N.parseTime=function(i){var u=this,r,o,f,e,s,h;if(typeof i!="string"||(i=i.toLocaleLowerCase().replace(/\s/g,t),s=$$WP.I18N.AmDesignator.toLocaleLowerCase().replace(/[^a-zA-Z]/g,t),h=$$WP.I18N.PmDesignator.toLocaleLowerCase().replace(/[^a-zA-Z]/g,t),r=i.match(new RegExp("(?:[a-z].? ?)+|[0-9]{1,2}","g")),r===n||r.length!==1&&r.length!==2&&r.length!==3))return n;for(o=0;o<r.length;o++)if(r[o].length===0)return n;return((r.length===2||r.length===3)&&!isNaN(Number(r[0]))&&!isNaN(Number(r[1]))&&r[0].length===2&&r[1].length===1&&i.indexOf(r[0]+t+r[1])>-1&&(r[1]=r[0].charAt(1)+t+r[1],r[0]=r[0].charAt(0)),f=u._validateHours(r[0]),f===n)?n:r.length===1?u._buildTime(f,0):r.length===2?(r[1]=r[1].replace(/[^a-zA-Z0-9]/g,t),r[1]!==s.substring(0,r[1].length)&&r[1]!==h.substring(0,r[1].length)?(e=u._validateMinutes(r[1]),e===n?n:u._buildTime(f,e)):u._buildTime(f,0,r[1],s,h)):(e=u._validateMinutes(r[1]),e===n)?n:(r[2]=r[2].replace(/[^a-zA-Z0-9]/g,t),u._buildTime(f,e,r[2],s,h))};$$WP.I18N._validateHours=function(t){var i=Number(t);return isNaN(i)?n:i<0||i>23?n:i};$$WP.I18N._validateMinutes=function(t){var i;return t.length!==2?n:(i=Number(t),isNaN(i)?n:i<0||i>59?n:i)};$$WP.I18N._accountForAmPm=function(t,i,r,u){if(t<1||t>12)return n;if(i===r.substring(0,i.length))t===12&&(t=0);else if(i===u.substring(0,i.length))t!==12&&(t=t+12);else return n;return t};$$WP.I18N._buildTime=function(t,i,r,u,f){var e;return r&&(t=this._accountForAmPm(t,r,u,f),t===n)?n:(e=new Date(0),e.setUTCHours(t),e.setUTCMinutes(i),e)};$$WP.I18N.parse24HrTime=function(t){var f,i,r,u;return(f=RegExp("^[0-9]{1,2}:{1}[0-9]{2}$"),!f.test(t))?n:(i=t.split(":"),r=$$WP.I18N._validateHours(i[0]),r===n)?n:(u=$$WP.I18N._validateMinutes(i[1]),u===n?n:$$WP.I18N._buildTime(r,u))};$$WP.I18N.formatNumber=function(n,i,r){var f,h,u,c,l,e,o,s;return typeof n!="number"?t:(i=i||0,h=Math.abs(n),u=Math.floor(h),s=h.toString().length-u.toString().length-1,r&&(s=i),s<0&&(s=0),c=$$WP.I18N.Round(h-u,s),l=+c,i>0?(e=$$WP.I18N.Round(l,i),o=+e,r?(o>=1&&(u+=1,e=$$WP.I18N.Round(o-1,i)),f=u.toFixed(0)+$$WP.I18N.DecimalSeparator+e.substring(2)):l===0?f=u:c.substring(2).length<=i?f=u.toFixed(0)+$$WP.I18N.DecimalSeparator+c.substring(2):(o>=1&&(u+=1,e=$$WP.I18N.Round(o-1,i)),f=o>0?u.toFixed(0)+$$WP.I18N.DecimalSeparator+e.substring(2):u.toFixed(0))):f=l>=.5?(u+1).toFixed(0):u.toFixed(0),n<0&&(f=$$WP.I18N.NegativePattern.replace("n",f)),f)};$$WP.I18N.Round=function(n,t){return Number(Math.round(n+"e"+t)+"e-"+t).toFixed(t)};$$WP.I18N.parseCurrency=function(n){var t=$$WP.Currency.Helpers.currencyToNumber(n);return isNaN(t)?NaN:t};$$WP.I18N.parseNumber=function(n){var r,s,p,u,h,c,w,l,b,k,e,d,a,v,i,y,o;return(n+=t,n.length===0)?NaN:(e=getGroupSeparator(),e.length>0&&(a=new RegExp("\\s","g"),a.test(e)?n=n.replace(a,t):(d=new RegExp($$WP.Utilities.regExEscapeString(e),"g"),n=n.replace(d,t))),p=$$WP.Utilities.regExEscapeString("n"),u=$$WP.Utilities.regExEscapeString($$WP.I18N.DecimalSeparator),h=$$WP.Utilities.regExEscapeString($$WP.I18N.NegativePattern).replace(p,"n"),c=h.replace("n",t),n=n.trim(),w=new RegExp("[^\\d"+u+c+"]"),w.test(n))?NaN:(l="((\\d+("+u+"\\d*)?)|("+u+"\\d+))",b=new RegExp("^"+h.replace("n",l)+"$"),v=b.test(n),i=n,v&&(i=n.replace(new RegExp("["+c+"]","g"),t)),k=new RegExp("^"+l+"$"),!k.test(i))?NaN:(y=0,o=0,i.charAt(0)===$$WP.I18N.DecimalSeparator?o=Number(i.substring(1))/Math.pow(f,i.length-1):(r=i.split($$WP.I18N.DecimalSeparator),y=Number(r[0]),r.length>1&&(o=Number(r[1])/Math.pow(f,r[1].length))),s=y+o,v&&(s*=-1),s)};y=function(n,u){for(var a,f='<div><span class="clearlabel">*REPLACE*<\/span>',c=r,l=r,o=t,s=t,h=0;h<u.length;h++){switch(u[h]){case"d":o="verticalDateOfMonth";s=n.getDate();break;case"m":o="verticalMonth";s=getMonthAbbr(n.getMonth()+1);break;case e:o="verticalYear";s=n.getFullYear();c=i;break;case"dow":o="verticalDayOfWeek";s=getDayAbbr(n.getDay());l=i}f=f+'<div aria-hidden="true" class="'+o+'">'+s+"<\/div>"}return f=f+"<\/div>",a=$$WP.I18N.getDateAriaStringCore(n,c,l),f.replace("*REPLACE*",a)};$$WP.I18N.getDateAriaString=function(n){return $$WP.I18N.getDateAriaStringCore(n,i,r)};$$WP.I18N.getDateAriaStringCore=function(n,t,r){return $$WP.I18N.getFormattedDateString(n,t,i,i,r)};$$WP.I18N.getCalendarDateAriaString=function(n){var t=$$WP.I18N.CalendarDateAriaFormat,i;return t?(i=buildFormat(t),i(n)):$$WP.I18N.getDateAriaString(date)};$$WP.I18N.getFormattedDateString=function(n,i,r,u,f){var e=$$WP.I18N.DateFormat.toLowerCase().replace(/[^mdy]/g," ");return e=e.replace(/dd+/,u?n.getDate():t),e=e.replace(/yy+/,i?n.getFullYear():t),e=e.replace(/mm+/,r?getMonthName(n.getMonth()+1):t),f&&(e=e+" "+getDayName(n.getDay())),e};$$WP.I18N.monthTitleFormat=function(n){var t=buildFormat("MMMM yyyy");return t(n)};$$WP.I18N.upperCaseFirstLetter=function(n){return n.charAt(0).toUpperCase()+n.slice(1)};$$WP.I18N.Handlebars={verticalDate:y};$$WP.I18N.setClientTimeZone=function(){if($$WPUtil.canWriteCookies()){var n=Intl.DateTimeFormat().resolvedOptions(),t=n.timeZone;$.ajax({url:makeLink("Localization/LogClientTimeZone"),data:{timeZoneIdentifier:t},type:"POST"})}};$$WP.I18N.formatList=function(n,t){var f,r,u;f=$$WP.I18N.getMyChartLocale();r=t||{};r.style&&r.style.length>0&&(!r.type||r.type.length===0)&&$$WP.Debug&&$$WP.Debug.log&&$$WP.Debug.log("Invalid list formatting options, if you specify a style you should specify a type.",i);try{u=new Intl.ListFormat(f,r)}catch(e){}return u===undefined?n.join(", "):u.format(n)};$$WP.I18N.parseYear=function(t,i){var u,r,f;return t.length===2?(u=(new Date).getFullYear(),r=Number(t),r+=u-u%100,f=$$WP.I18N.CenturyRollover,i&&(f=$$WP.I18N.BirthdayRollOver),r>u+f&&(r-=100)):r=Number(t),$$WP.I18N.__validateYear(r)?r:n};$$WP.I18N.numDaysInMonth=function(n,t){year=t===undefined?2016:t;switch(n){case 2:return year%4!=0?28:year%100==0&&year%400!=0?28:29;case 4:case 6:case 9:case 11:return 30;default:return 31}};var w=function(n,t,u,o,h,c){return n.length<=1||h>=o-1?r:(max=s(t,u),c>max?i:t===e&&n.length===3&&c*f>max?i:r)},s=function(n,t){t||(t={});t.m||(t.m=1);switch(n){case"d":max=$$WP.I18N.numDaysInMonth(t.m,t.y);break;case"m":max=12;break;case e:max=(new Date).getFullYear()+$$WP.I18N.CenturyRollover;break;default:max=(new Date).getFullYear()+$$WP.I18N.CenturyRollover}return max},p=function(n,i){return n.toLowerCase().replace(new RegExp("["+i.join(t)+"]","g"),t).charAt(0)},b=function(n,t){return n.replace(/[\\|\/|\.|,|\-| ]/g,t)},k=function(n,i,r){return n.length<=r&&n.length>1&&(n[n.length-2].length===1||i[n.length-2]===e)&&n[n.length-1]===t},d=function(n){return n.length!==1?r:/^[0-9]+$/.test(n[0])?i:r},g=function(n,t,u,e,o,s,h,c){return h<n.length-1?i:h>=o-1?r:t.length===1&&n[h]*f>u?i:h===n.length-1&&e?i:h<o-1&&t.length===c&&t[t.length-1]!==s?i:r};$$WP.I18N.__validateYear=function(n){return n=parseInt(n),n>999&&n<1e4};var nt=function(t,i,r){var f=t,o=2;for(i===e&&(f=$$WP.I18N.parseYear(t,r),f=f===n?t:f.toString(),o=4);f.length<o;)f=u+f;return f},tt=function(n,t,u){return(fieldLength=t===e?4:2,max=s(t,u),n.length>=fieldLength)?r:(num=parseInt(n),num*f<=s(t,u)?i:r)},it=function(n,t){return fieldLength=t===e?4:2,n.length>fieldLength?i:r},h=function(n,t){return n.indexOf(t)>-1?i:r};$$WP.I18N.deleteLiveDateFormatter=function(n){for(var f=p($$WP.I18N.DateFormat,$$WP.I18N.getOrderedDatePieces()),r=0,i=0,t=n.length-1;t>=0;t--)if(n[t]===f?r++:/[1-9]/.test(n[t])?i++:n[t]===u&&t===0?r++:n[t]===u&&t>0&&/[1-9]/.test(n[t-1])?i++:n[t]===u&&t>1&&n[t-1]===u&&/[1-9]/.test(n[t-2])?i++:n[t]===u&&t>2&&n[t-1]===u&&n[t-2]===u&&/[1-9]/.test(n[t-3])?i++:r++,i===2){i--;break}return n.slice(0,n.length-r-i)};$$WP.I18N.processLiveDateFormatter=function(n,i,r){var ft,st,o,ht,vt;if(n.length!==i)return n;var yt=$$WP.I18N.DateFormat,a=$$WP.I18N.getOrderedDatePieces(),ot=a.length,et=p(yt,a),ct=b(n,et).split(et),lt=k(ct,a,ot),h=ct.reduce(function(n,i){var r=i.replace(/[\D]/g,t);return r!==t&&n.push(r),n},[]),c=[],v={},y,rt,at,l,ut;if(d(h)&&h[0].length>(a[0]===e?4:2)){for(ft=t,o=0;o<h[0].length;o++)ft=$$WP.I18N.processLiveDateFormatter(ft+h[0][o],ft.length+1,r);return ft}for(o=0;o<h.length;o++){if(l=a[o],ut=l===e?4:2,it(h[o],l)){c.push(h[o].slice(0,ut));v[l]=parseInt(h[o]);c.push(h[o].slice(ut,h[o].length));continue}if(h[o].charAt(0)===u){c.push(h[o]);v[l]=parseInt(h[o]);continue}if(rt=parseInt(h[o]),w(h[o],l,v,ot,o,rt)){c.push(Math.floor(rt/f).toString());v[l]=parseInt(h[o]);c.push((rt%f).toString());continue}v[l]=parseInt(h[o]);c.push(rt.toString())}for(c=c.slice(0,a.length),st=t,o=0;o<c.length;o++)l=a[o],ut=l===e?4:2,y=new String(c[o]),at=s(a[o],v),ht=g(c,y,at,lt,ot,et,o,ut),vt=ht||!tt(c[o],l,v,o)&&lt&&o===c.length-1,vt&&(y=nt(y,a[o],r)),ht&&(y+=et),st+=y;return st};$$WP.I18N.__clearFormatterAriaAnnouncement=function(n){var t=n.safeAttr("id"),i,r;t=t.replace(/([ #;&,.+*~\':"!^$[\]()=>|\/@])/g,"\\$1");i=t+a;r=$afe.select("#"+i);r.empty()};$$WP.I18N.__appendFormatterAriaAnnouncement=function(n,i,r,u,f){var c="@MYCHART@FORMATTEDFIELDVALUE@",s=n.safeAttr("id"),e,l,v,o,h;return(s=s.replace(/([ #;&,.+*~\':"!^$[\]()=>|\/@])/g,"\\$1"),e=s+a,$$WP.Strings.setDefaultNamespace("core.formvalidation"),l=$$WP.Strings.get(u?"Birthdate":f?"Time":"Date"),$$WP.Strings.addMnemonic("@MYCHART@FIELDNAME@",l),$$WP.Strings.addMnemonic(c,!r?n.val():r,t),v=$$WP.Strings.getForTemplate("FieldUpdatedAnnouncementWithValue").toString(),$$WP.Strings.removeMnemonic(c),$$WP.Strings.clearDefaultNamespace(),o=$("#"+e),o.length||(h=$$WP.SimpleTemplates.Span({"class":"clearlabel",id:e,"aria-live":"polite"}),h.safeInsertAfter(n.next().hasClass("calendar")?n.next():n),o=h),i)?e:(o.empty(),o.safeAppend(dangerou$.parseHtml("<span>"+v+"<\/span>")),e)};$$WP.I18N.liveDate=function(n,u,f,e,o,s,a,v){var d=r,y=undefined,g=r,w,b,k,p;return n===undefined&&(n=t),n===l&&v?(w=s[a-1],y=!w?u:$$WP.I18N.deleteLiveDateFormatter(w),!!w&&w.length-y.length>1&&(d=i)):h(n,"delete")?y=u:h(n,"insert")?(b=$$WP.I18N.processLiveDateFormatter(u,e,o),b!==undefined&&u!==b?(y=b,d=i):y!==s[a-1]&&(y=u)):n==="historyRedo"?(s.length>a&&(y=s[a++]),g=i):n==="historyUndo"?(a>1&&(--a,y=s[a-1]),g=i):y=n===c?u:u,a>0&&y!==s[a-1]&&!h(n,"history")&&(s[a++]=y),a<s.length&&!h(n,"history")&&(s=s.slice(0,a)),k=42,s.length===a&&a===k&&(s=s.slice(k/2),a-=k/2),p={},p.fieldHistory=s,p.fieldHistoryPtr=a,p.next=y,p.appendAria=d,p.preventDefault=g,p};$$WP.I18N.__attachLiveDateFormatterInternal=function(n,t,u){var s="beforeinput",h="data-runDeleter",f="data-fieldHistoryPtr",e="data-fieldHistory",a="data-validation-settings",o;$$WP.I18N.__appendFormatterAriaAnnouncement(n,i);o=JSON.parse(n.attr(a));o.format=i;n.attr(a,JSON.stringify(o));n.attr("inputmode","numeric");n.attr(e,'[""]');n.attr(f,"1");var v=function(i){var s,c,l,a,u,o,v,r;s=i.originalEvent.inputType;c=i.target.value;l=this.selectionStart;a=this.selectionEnd;u=JSON.parse(n.attr(e));o=parseInt(n.attr(f));v=n.attr(h)==="true";r=$$WP.I18N.liveDate(s,c,l,a,t,u,o,v);u=r.fieldHistory;o=r.fieldHistoryPtr;var y=r.next,p=r.appendAria,w=r.preventDefault;y!==undefined&&n.val(y);n.attr(e,JSON.stringify(u));n.attr(f,o.toString());p?$$WP.I18N.__appendFormatterAriaAnnouncement(n,undefined,undefined,t):$$WP.I18N.__clearFormatterAriaAnnouncement(n);w&&i.preventDefault()},y=function(t){var s=JSON.parse(n.attr(e)),c=parseInt(n.attr(f)),a=t.originalEvent.inputType,v=t.target.value,u,o=r;a===l&&this.selectionStart===this.selectionEnd&&this.selectionStart===v.length&&(o=i);n.attr(h,o?"true":"false");n.attr(e,JSON.stringify(s));n.attr(f,c.toString());!u||n.val(u)},p=function(t){var r=JSON.parse(n.attr(e)),i=parseInt(n.attr(f));t.target.value!==r[i-1]&&(r[i]=t.target.value,i++);n.attr(e,JSON.stringify(r));n.attr(f,i.toString())};if(u){n.on("input",v);n.on(s,y);n.on(c,p)}else{n.one("input",v);n.one(s,y);n.on(c,p)}};$$WP.I18N.attachOnceLiveDateFormatter=function(n,t){$$WP.I18N.__attachLiveDateFormatterInternal(n,t,i)};$$WP.I18N.attachLiveDateFormatter=function(n,t){$$WP.I18N.__attachLiveDateFormatterInternal(n,t,r)}}(),function(){var i=!1,n=null,t=function(){return this.prototype={Value:n,isValid:function(){return n}},function(n,t){this.Value=n;this.isValid=t}}(),r=function(r,u,e,h){var w="undefined",c=this,l,y,p,a,v,b;if(e=typeof e!==w?e:i,h=typeof h!==w?h:i,u==="date")l=r.trim().split("-"),p=Number(l[2]),a=Number(l[1]),v=Number(l[0]);else{if(typeof r!="string"||/[a-zA-Z]/.test(r))return;if(h&&/^[0-9]+$/.test(r)&&(b=$$WP.I18N.processLiveDateFormatter(r,r.length,e),r=b),l=r.trim().split(/[^\d]+/),y=f(l,e),y===n)return;p=y.DayOfMonth;a=y.Month;v=y.Year}c.DayOfMonth=new t(p,function(){return s(p,a,v)});c.Month=new t(a,function(){return o(a)});c.Year=new t(v,function(){return $$WP.I18N.__validateYear(v)});c.DateObject=new Date(0);c.DateObject.setUTCFullYear(v);c.DateObject.setUTCMonth(a-1);c.DateObject.setUTCDate(p)},u={DateObject:n,DayOfMonth:new t,Month:new t,Year:new t,isSpilledOver:function(){var t=this;return t.DateObject!==n&&(t.DateObject.getUTCDate()!==t.DayOfMonth.Value||t.DateObject.getUTCMonth()!==t.Month.Value-1||t.DateObject.getUTCFullYear()!==t.Year.Value)},isValid:function(){return this.Month.isValid()&&this.DayOfMonth.isValid()&&this.Year.isValid()}},f=function(t,i){var o,s,h,c,r,u,f;return(o=$$WP.I18N.DateFormat.toLowerCase().replace(/[^ymd]*([ymd])+[^ymd]*/g,"$1"),s=o.indexOf("d"),h=o.indexOf("m"),c=o.indexOf("y"),!e(t))?n:(t.length===2?(f=(new Date).getFullYear(),u=Number(t[h]),r=Number(t[s])):t.length===3&&(f=$$WP.I18N.parseYear(t[c],i),u=Number(t[h]),r=Number(t[s])),r===n||isNaN(r)||u===n||isNaN(u)||f===n||isNaN(f)?n:{DayOfMonth:r,Month:u,Year:f})},e=function(n){if(n.length!==2&&n.length!==3)return i;for(var t=0;t<n.length;t++)if(n[t].length===0)return i;return!0},o=function(n){return n>0&&n<13},s=function(n,t,r){return n<1?i:n<=$$WP.I18N.numDaysInMonth(t,r)};$$WP.I18N.Date=r;$$WP.I18N.Date.prototype=u}();$$WP.Debug.UnitTest=$$WP.Debug.UnitTest||{};$$WP.Debug.UnitTest.tests=$$WP.Debug.UnitTest.tests||[];$$WP.Debug.UnitTest.tests.push(function(){var u=123.5,f=123.4,o="Failed to parse number string: '(1 234)'",e=1234.234,r=1234,n,t,i,s,h,c;n=$$WP.Debug.UnitTest.assert;s=$$WP.I18N.DecimalSeparator;h=$$WP.I18N.NegativePattern;c=$$WP.I18N.GroupSeparator;$$WP.I18N.DecimalSeparator=",";$$WP.I18N.GroupSeparator=".";$$WP.I18N.NegativePattern="(n)";t=$$WP.I18N.parseNumber;i=$$WP.I18N.formatNumber;n(t("1234")===r,"Failed to parse number string: '1234'");n(t(" 1234")===r,"Failed to parse number string: ' 1234'");n(t("1,0")===1,"Failed to parse number string: '1,0'");n(t("1,234")===1.234,"Failed to parse number string: '1,234'");n(t("1234,234")===e,"Failed to parse number string: '1234,234'");n(t(" 1234,234")===e,"Failed to parse number string: ' 1234,234'");n(t("1.234")===r,"Failed to parse number string: '1.234'");n(t("1.234.567")===1234567,"Failed to parse number string: '1.234.567'");n(t("(1)")===-1,"Failed to parse number string: '(1)'");n(t("(1234)")===-r,"Failed to parse number string: '(1234)'");n(t("(1,0)")===-1,"Failed to parse number string: '(1,0)'");n(t("(1,234)")===-1.234,"Failed to parse number string: '(1,234)'");n(t("(1234,234)")===-e,"Failed to parse number string: '(1234,234)'");n(t("(1.234.567)")===-1234567,"Failed to parse number string: '(1.234.567)'");n(isNaN(t("abc")),"Did not reject invalid number string: 'abc'");n(isNaN(t("((123")),"Did not reject invalid number string: '((123'");n(isNaN(t("(123,,0")),"Did not reject invalid number string: '(123,,0'");n(isNaN(t("(123,0,0")),"Did not reject invalid number string: '(123,0,0'");n(isNaN(t("(123(")),"Did not reject invalid number string: '(123('");n(isNaN(t("(123,0(")),"Did not reject invalid number string: '(123,0('");n(isNaN(t("(1@123,0)")),"Did not reject invalid number string: '(1.123,0)'");n(isNaN(t("(1@234)")),"Did not reject invalid number string: '(1.234)'");n(isNaN(t("(1@234,234)")),"Did not reject invalid number string: '(1.234,234)'");$$WP.I18N.GroupSeparator=" ";n(t("1 234")===r,o);$$WP.I18N.GroupSeparator=" ";n(t("1 234")===r,o);$$WP.I18N.GroupSeparator=".";n(i(123)==="123","Did not properly format 123 as '123'");n(i(f)==="123","Did not properly format 123.4 as '123'");n(i(f,1)==="123,4","Did not properly format 123.4 as '123.4'");n(i(u)==="124","Did not properly format 123.5 as '124'");n(i(u,3)==="123,5","Did not properly format 123.5 as '123.5'");n(i(-123)==="(123)","Did not properly format -123 as '(123)'");n(i(-f)==="(123)","Did not properly format -123.4 as '(123)'");n(i(-f,1)==="(123,4)","Did not properly format -123.4 as '(123,4)'");n(i(-u)==="(124)","Did not properly format -123.5 as '(124)'");n(i(-u,3)==="(123,5)","Did not properly format -123.5 as '(123,5)'");n(i(10.99999,3)==="11,000","Did not properly format 10.99999 as '11,000'");$$WP.I18N.DecimalSeparator=s;$$WP.I18N.NegativePattern=h;$$WP.I18N.GroupSeparator=c});$$WP.Debug.UnitTest.tests.push(function(){var f="Invalid date string was not rejected.",e=null,ut="1975-09-10",k="10-9-75",ft="1975-10-09",d="10-9-16",g=" 10 / 9 - 2016 ",r="Date parsed incorrectly.",nt="10/9/2016",c="2016-10-09",et="MM/dd/yyyy",ot="0123-02-01",y="Failed to format date ",o="2016-09-10",st="11/11/10",tt="Delete zero",ht="11/11/100",ct="Simple deletion",lt="03/14/199",it="1999/08/8",l="2001/08/12",rt="7-digit",at="01/01/998",vt="01/03/923",yt="01/01/2040",pt="01/01/204",wt="09/09/999",bt="02/22/222",h="Don't add zeroes on typos",kt="08/08/888",dt="6-digit uneasy formatting",gt="Copy/paste",ni="accept 7 digit dates",ti="Overflow",ii="Accept backslash",u="Random sentence pasted in",w="03/14/",ri="Non-number where a spacer should be",b="Forms validation attached late",a="03/14/1999",ui="paste from another format",fi="02/03/1999",ei="type zeroes",p="03/",oi="MM/dd/YYYY",hi,n,i,v,si,t,s,ci;hi=$$WP.Debug.UnitTest.assert;n=$$WP.Debug.UnitTest.assertValue;si=$$WP.I18N.DateFormat;i=$$WP.I18N.parseDate;v=$$WP.I18N.formatPatientGivenDate;t=$$WP.I18N.processLiveDateFormatter;s=$$WP.I18N.deleteLiveDateFormatter;ci=$$WP.I18N.liveDate;$$WP.I18N.DateFormat=oi;n(p,t("3",1),"Failed to format live date: there are no double digit months starting with 3");n("1",t("1",1),"Failed to format live date: there are double digit months starting with 1");n("01/3",t("13",2),"There is no 13th month");n("02/03/",t("02/3",4),"no Feb 30th");n("02/29/",t("02/29",5),"leap day");n("0",t("0",1),ei);n("01/",t("01",2),ei);n("12/01/",t("12/1/",5),"type slashes");n(fi,t("2/3/1999",8),"paste");n(fi,t("2.3.1999",8),ui);n("02/03/99",t("2.3.99",6),ui);n(a,t("03141999",8),"paste from another format - this would work in hyperspace");n("03/14/99",t("031499",6),"paste from format that would work in hyperspace");n("03/04/8",t("03/04/8",7),"random bug");n("12/29/94",t("122994",6),"would work in hyperspace");n("01/04/",t("014",3),"deletion");n("01/31/",t("01/31",5),"January 31 valid");n("02/29/",t("02/29",5),"February 29 valid");n("03/31/",t("03/31",5),"March 31 valid");n("04/30/",t("04/30",5),"April 30 valid");n("05/31/",t("05/31",5),"May 31 valid");n("06/30/",t("06/30",5),"June 30 valid");n("07/31/",t("07/31",5),"July 31 valid");n("08/31/",t("08/31",5),"August 31 valid");n("09/30/",t("09/30",5),"September 30 valid");n("10/31/",t("10/31",5),"October 31 valid");n("11/30/",t("11/30",5),"November 30 valid");n("12/31/",t("12/31",5),"December 31 valid");n("01/03/2",t("01/32",5),"January 32 invalid");n("02/03/0",t("02/30",5),"February 30 invalid");n("03/03/2",t("03/32",5),"March 32 invalid");n("04/03/1",t("04/31",5),"April 31 invalid");n("05/03/2",t("05/32",5),"May 32 invalid");n("06/03/1",t("06/31",5),"June 31 invalid");n("07/03/2",t("07/32",5),"July 32 invalid");n("08/03/2",t("08/32",5),"August 32 invalid");n("09/03/1",t("09/31",5),"September 31 invalid");n("10/03/2",t("10/32",5),"October 32 invalid");n("11/03/1",t("11/31",5),"November 31 invalid");n("12/03/2",t("12/32",5),"December 32 invalid");n("05/",t("p5",2),b);n("",t("p/",2),b);n("05/",t("/5",2),b);n("",t("//",2),b);n(p,t("03;",3),ri);n(w,t("03/14;",6),ri);n(a,t("Here is a random date: 3/14/1999",32),u);n(a,t("3/14/1999: That was a random date",33),u);n(a,t("Crazy day: 3/14/1999: That was a random date",44),u);n(w,t("Here is a random date: 3/14",27),u);n(w,t("3/14: That was a random date",28),u);n(w,t("Crazy day: 3/14: That was a random date",39),u);n(p,t("Here is a random date: 3",24),u);n(p,t("3: That was a random date",25),u);n(p,t("Crazy day: 3: That was a random date",36),u);n(a,t("03\\14\\1999",10),ii);n("01/01/11",t("1\\1\\11",6),ii);n("01/02/2003",t("01/02/20030",11),ti);n("08/08/90",t("8890",4),"accept 4 digit dates");n("12/08/90",t("12890",5),"accept 5 digit dates");n("12/11/90",t("121190",6),"accept 6 digit dates");n("03/14/1990",t("3141990",7),ni);n("12/04/1990",t("1241990",7),ni);n("12/11/1999",t("12111999",8),"accept 8 digit dates");n("12/03/4",t("1234",4),gt);n("01/03/45",t("1345",4),gt);n("08/08/1999",t("881999",6),dt);n(kt,t(kt,9),h);n(bt,t(bt,9),h);n(wt,t(wt,9),h);n(pt,t(pt,9),h);n(yt,t(yt,10),h);n(vt,t(vt,9),h);n(at,t(at,9),h);$$WP.I18N.DateFormat="YYYY/MM/DD";n("2001/",t("01/",3),"doesn't allow 2-digit years");n("2001/",t("2001",4),"basic 4-digit year");n("0003/03/3",t("3/3/3",5),"allows 1-digit year");n("0103/03/3",t("103/3/3",7),"allows 3-digit year");n("22",t("22",2),"2 chars entered");n("2002/",t("2002 ",5),"space entered");n("2002/",t("2002",4),"nothing entered");n("2022/01/3",t("2022/13",7),"regular month checking");n("2022/0",t("220",3),"6-digit leadup");n("2022/02/25",t("220225",6),"6-digit");n("2022/03/1",t("2022031",7),rt);n("2022/03/3",t("2022033",7),rt);n("2022/03/4",t("2022034",7),rt);n("2022/03/01",t("20220301",8),"8-digit");n("2002/09/30",t("2002 09 30",10),"space separator");n(l,t(l,10),"slash separator");n(l,t("2001.08.12",10),"period separator");n(l,t("2001,08,12",10),"comma separator");n(l,t("2001-08-12",10),"dash separator");n(l,t("2001\\08\\12",10),"backslash separator");n("2001/02/03",t("2001/02/033",11),ti);n(it,t(it,9),"6digit test");n(it,t("199988",6),dt);n(lt,s(a),ct);n("03/14/19",s(lt),ct);n("10",s("10/02/"),"Clear digit");n("",s("02/"),"Remove leading zero");n(ht,s("11/11/1000"),tt);n(st,s(ht),tt);n("11/11/1",s(st),tt);$$WP.I18N.DateFormat=oi;n("09/10/2016",v(new Date(o)),y);n("02/01/0123",v(new Date(ot)),y);$$WP.I18N.DateFormat="M/d/YY";n("9/10/16",v(new Date(o)),y);n("2/1/23",v(new Date(ot)),y);n("10/11/16",v(new Date("2016-10-11")),y);$$WP.I18N.DateFormat=et;n(+new Date(c),i(nt).getTime(),r);n(+new Date(c),i(g).getTime(),r);n(+new Date(c),i(d).getTime(),r);n(+new Date(ft),i(k).getTime(),r);n(+new Date("2016-02-29"),i("2-29-16").getTime(),r);n(+new Date("2016-12-31"),i("12-31-16").getTime(),r);n(+new Date("2016-01-01"),i("1-1-16").getTime(),r);n(+new Date((new Date).getFullYear()+"-01-01"),i("1-1").getTime(),r);$$WP.I18N.DateFormat="M/d/y";n(+new Date(c),i(nt).getTime(),r);n(+new Date(c),i(g).getTime(),r);n(+new Date(c),i(d).getTime(),r);n(+new Date(ft),i(k).getTime(),r);$$WP.I18N.DateFormat="dd-MM-yyyy";n(+new Date(o),i(nt).getTime(),r);n(+new Date(o),i(g).getTime(),r);n(+new Date(o),i(d).getTime(),r);n(+new Date(ut),i(k).getTime(),r);$$WP.I18N.DateFormat="dd yyyy mm";n(+new Date(o),i("10/2016/9").getTime(),r);n(+new Date(o),i(" 10 / 2016 - 9 ").getTime(),r);n(+new Date(o),i("10-16-9").getTime(),r);n(+new Date(ut),i("10-75-9").getTime(),r);$$WP.I18N.DateFormat=et;n(e,i("January 1, 2016"),f);n(e,i("10/9/16 AD"),f);n(e,i("2/29/15"),f);n(e,i("0/1/2016"),f);n(e,i("1/1/"),f);n(e,i("/1/1"),f);n(e,i("/1/1/"),f);n(e,i("//1//1//"),f);$$WP.I18N.DateFormat=si});$$WP.Debug.UnitTest.tests.push(function(){var u="failed to format list",f="failed to format list for IE",r="one, two, three, four",n,s,e,o,t,i;n=$$WP.Debug.UnitTest.assertValue;s=$$WP.I18N.Identifier;$$WP.I18N.Identifier="en-US";t=$$WP.I18N.formatList;e={style:"long",type:"disjunction"};o={style:"narrow"};i=["one","two","three","four"];WP&&WP.DOM&&WP.DOM.Browser.isIE?(n(r,t(i),f),n(r,t(i,e),f),n(r,t(i,o),f)):(n("one, two, three, and four",t(i),u),n("one, two, three, or four",t(i,e),u),n(r,t(i,o),u));$$WP.I18N.Identifier=s});EpicPx=EpicPx||{};EpicPx.pendingPortals=EpicPx.pendingPortals||{};EpicPx.scriptSources=EpicPx.scriptSources||[];EpicPx.addReactPortal=function(){var n=!1,t=function(){var r,t,i;if(!n){for(n=!0,r=document.createDocumentFragment(),t=0;t<EpicPx.scriptSources.length;t++)i=document.createElement("script"),i.src=makeLink(EpicPx.scriptSources[t]),i.async=!1,r.appendChild(i);document.head.appendChild(r)}};return function(i,r,u,f){if(!f){$$WP.Debug.log("No element ID passed in to render "+i+"/"+r);return}var e=function(){EpicPx.addReactPortal(i,r,u,f)};EpicPx.addPortal?EpicPx.addPortal(i,r,u,f):n?setTimeout(e,10):(EpicPx.pendingPortals[f]={elementId:f,packageName:i,componentName:r,props:u},t())}}();EpicPx.removeReactPortal=function(n){if(n){if(EpicPx.removePortal)return EpicPx.removePortal(n);EpicPx.pendingPortals[n]&&delete EpicPx.pendingPortals[n]}};$$WPUtil.guaranteeExistence($$WP,"Handlebars");$$WPUtil.guaranteeExistence($$WP,"Templates");$$WP.Handlebars._addHelpersHasBeenCalled=!1;$$WP.Handlebars.addHelpers=function(){var r="Core.Banner",u="boolean",f="UI.InfoBubble",t=null,e=!1,o="function",i="string",n=!0;if(!$$WP.Handlebars._addHelpersHasBeenCalled){$$WP.Handlebars._addHelpersHasBeenCalled=n;$$WP.Utilities&&($$WP.Handlebars.addComponent=function(n){var t="componentcontainer_"+$$WPUtil.generateGUID(),i=function(){var r=document.getElementById(t);if($$WP.Utilities.addComponent._Counter[t]++,!r){$$WP.Utilities.addComponent._Counter[t]<10&&window.setTimeout(i,1);return}delete $$WPUtil.Handlebars.addComponent._Counter[t];$afe.jq(r).safeAppend(n.$container)};return $$WP.Utilities.addComponent._Counter[t]=0,window.setTimeout(i,1),'<div id="'+t+'"><\/div>'},$$WP.Handlebars.addComponent._Counter={},Handlebars.registerHelper("addComponent",$$WP.Handlebars.addComponent),Handlebars.registerHelper("ifNotNullOrEmpty",function(n,t){return $$WPUtil.IsNullOrEmpty(n)?t.inverse(this):t.fn(this)}),$$WP.Utilities.UI&&(Handlebars.registerHelper("ifMobile",function(n){return $$WP.Utilities.UI.IsMobile?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("ifMobileOrMobileBrowser",function(n){return $$WP.Utilities.UI.IsMobile||($$WP.Utilities.queryString("src")==="echeckin"||$$WP.Utilities.queryString("guestMobile")==="1")&&WP.DOM.Browser.isMobile?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("ifNotMobile",function(n){return $$WP.Utilities.UI.IsMobile?n.inverse(this):n.fn(this)}),Handlebars.registerHelper("ifWelcome",function(n){return $$WP.ApplicationContext===78?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("ifWelcomeNotMobile",function(n){return $$WP.ApplicationContext===78&&!$$WP.Utilities.UI.IsMobile?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("ifWelcomeOrMobile",function(n){return $$WP.ApplicationContext===78||$$WP.Utilities.UI.IsMobile||WP.DOM.Browser.isMobile?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("ifNotWelcomeOrMobile",function(n){return $$WP.ApplicationContext!==78&&!$$WP.Utilities.UI.IsMobile&&!WP.DOM.Browser.isMobile?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("ifPreLogin",function(n){return $$WP.Utilities.UI.IsLoggedIn?n.inverse(this):n.fn(this)}),Handlebars.registerHelper("ifiOS",function(n){return WP.DOM.Browser.isIPhone||WP.DOM.Browser.isIPad||WP.DOM.Browser.isIPod||$$WP.ApplicationContext===78&&$$WP.Utilities.UI.IsIos()?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("proxyColorClass",function(){return $$WP.Utilities.UI.ProxyColorClass}),Handlebars.registerHelper("ifWorkflowRestricted",function(n){return $$WP.Utilities.UI.IsWorkflowRestricted?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("ifNotPrelogin",function(n){return $$WP.Utilities.UI.IsLoggedIn?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("ifPreloginOrGuest",function(n){return $$WP.Utilities.UI.IsWorkflowRestricted||!$$WP.Utilities.UI.IsLoggedIn?n.fn(this):n.inverse(this)})));$$WP.Strings&&(Handlebars.registerHelper("setStringNamespace",$$WP.Strings.setDefaultNamespace),Handlebars.registerHelper("clearStringNamespace",$$WP.Strings.clearDefaultNamespace),Handlebars.registerHelper("getStringResource",$$WP.Strings.getForTemplate),Handlebars.registerHelper("getDisplayString",function(n,t,r){if(typeof r===i){if(r)return $$WP.Strings.getForTemplate(n+"_"+r,t)}else if(typeof r=="number")return $$WP.Strings.getForTemplate(n+"_"+r.toString(),t);return $$WP.Strings.getForTemplate(n,t)}),Handlebars.registerHelper("getDisplayStringWithMnemonics",function(n,t){var u="@MYCHART@",r,i,f;r=typeof t===o?t():t;for(i in r)$$WP.Strings.addMnemonic(u+i.toUpperCase()+"@",r[i].Value,r[i].IsLink,r[i].Namespace,r[i].EncodingType);f=$$WP.Strings.getForTemplate(n);for(i in r)$$WP.Strings.removeMnemonic(u+i.toUpperCase()+"@",r[i].Namespace);return f}),Handlebars.registerHelper("addStringResourceMnemonic",$$WP.Strings.addMnemonic),Handlebars.registerHelper("addLinkMnemonic",function(i,r,u,f,o){u=$$WP.Strings.getNamespace().replaceMnemonics(u);var s='<a data-id="redirect" href="'+u+'" data-redirect="'+u+'" data-organization="'+f;o===n&&(s+='" target="_blank');$$WP.Strings.addMnemonic(i,s+'">'+$$WP.Strings.get(r)+"<\/a>",e,t,$$WP.Strings.EncodingTypes.None)}),Handlebars.registerHelper("setOrganization",$$WP.Strings.setOrganization),Handlebars.registerHelper("clearOrganization",$$WP.Strings.clearOrganization),Handlebars.registerHelper("removeStringResourceMnemonic",$$WP.Strings.removeMnemonic),Handlebars.registerHelper("appendNewWindowNotification",function(n,t){return $$WP.Strings.appendNewWindowNotification($$WP.Strings.get(n),t)}));try{makeLink&&(Handlebars.registerHelper("makeLink",makeLink),Handlebars.registerHelper("makeStaticLink",makeStaticLink),Handlebars.registerHelper("makeStaticImageLink",makeStaticImageLink),Handlebars.registerHelper("showFile",function(n){return makeLink("showfile.asp?key="+n)}))}catch(h){}try{isDataTile&&(Handlebars.registerHelper("ifDataTiles",function(n){return isDataTile()?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("ifNotDataTiles",function(n){return isDataTile()?n.inverse(this):n.fn(this)}))}catch(h){}$$WP.CommunityUtilities&&Handlebars.registerHelper("canShowExternalLoadingIndicator",function(n){return $$WP.CommunityUtilities.hasCommunityLinks()?n.fn(this):n.inverse(this)});$$WP.FormValidation&&(Handlebars.registerHelper("validationSettingsAttribute",$$WP.FormValidation.Handlebars.validationSettingsAttribute),Handlebars.registerHelper("messageDisplay",$$WP.FormValidation.Handlebars.messageDisplay),Handlebars.registerHelper("messageDisplayForAttribute",$$WP.FormValidation.Handlebars.messageDisplayForAttribute),Handlebars.registerHelper("disableIfInvalidAttribute",$$WP.FormValidation.Handlebars.disableIfInvalidAttribute),Handlebars.registerHelper("validationGroupAttribute",$$WP.FormValidation.Handlebars.validationGroupAttribute),Handlebars.registerHelper("validationRequiredAttribute",$$WP.FormValidation.Handlebars.validationRequiredAttribute));$$WP.Currency&&Handlebars.registerHelper("numberAsCurrency",function(n,t){var i;return i=typeof n===o?n():n,$$WP.Currency.Helpers.numberToCurrency(i,t)});$$WP.I18N&&(Handlebars.registerHelper("verticalDateWithYear",function(n,t,i){var r=new Date(i,t-1,n),u=$$WP.I18N.getOrderedDatePieces(e);return new Handlebars.SafeString($$WP.I18N.Handlebars.verticalDate(r,u))}),Handlebars.registerHelper("verticalDateWithDayName",function(t,i,r){var f=new Date(r,i-1,t),u=$$WP.I18N.getOrderedDatePieces(n);return u[0]==="d"?u.unshift("dow"):u.push("dow"),new Handlebars.SafeString($$WP.I18N.Handlebars.verticalDate(f,u))}),Handlebars.registerHelper("verticalDateWithoutDay",function(t,i,r){var u=new Date(r,i-1,t),f=$$WP.I18N.getOrderedDatePieces(e,e,n);return new Handlebars.SafeString($$WP.I18N.Handlebars.verticalDate(u,f))}));$$WP.UI&&($$WP.UI.Command&&Handlebars.registerHelper("command",function(n,t,r,u,f){var e=new $$WP.UI.CommandOptions(typeof u===i?JSON.parse(u):u),o;return e.MiscContent=(e.MiscContent||"")+(f&&f.fn?new Handlebars.SafeString(f.fn(this)):""),o=new $$WP.UI.Command({Priority:n,Tone:t,Caption:r,CmdOptions:e}),Handlebars.helpers.addTemplate("UI.Command",o)}),$$WP.UI.Dropdown&&Handlebars.registerHelper("dropdown",function(n,t,i,r,u,f,e){var o=$$WP.UI.DropdownOption.convertRawDropdownOptions(u,f,e);return Handlebars.helpers.addTemplate("UI.Dropdown",new $$WP.UI.Dropdown({IdName:n,Label:t,PlaceholderText:i,ValidationSettings:r,Options:o}))}),$$WP.UI.InfoBubble&&(Handlebars.registerHelper("infoBubble",function(t,i,r,e,o){return Handlebars.helpers.addTemplate(f,new $$WP.UI.InfoBubble({BubbleTitle:t,BubbleText:i,DisableHtmlEncoding:typeof r===u&&r===n,Image:"images/info.png",BubbleLabelledBy:e,BubbleLabel:o}))}),Handlebars.registerHelper("customInfoBubble",function(t,i,r,e,o,s,h){return Handlebars.helpers.addTemplate(f,new $$WP.UI.InfoBubble({BubbleTitle:i,BubbleText:r,DisableHtmlEncoding:typeof e===u&&e===n,Image:t,UseSvgImage:!!o,BubbleLabelledBy:s,BubbleLabel:h}))}),Handlebars.registerHelper("simpleInfoBubble",function(t,i,r,e){return Handlebars.helpers.addTemplate(f,$$WP.UI.InfoBubble.SimpleInfoBubble(t,typeof i===u&&i===n,r,e))}),Handlebars.registerHelper("textInfoBubble",function(t,i,r,e){return Handlebars.helpers.addTemplate(f,new $$WP.UI.InfoBubble({AnchorText:t,BubbleTitle:i,BubbleText:r,DisableHtmlEncoding:typeof e===u&&e===n}))}),Handlebars.registerHelper("simpleTextInfoBubble",function(t,i,r){return Handlebars.helpers.addTemplate(f,$$WP.UI.InfoBubble.SimpleTextInfoBubble(t,i,typeof r===u&&r===n))})));Handlebars.registerHelper("coreBanner",function(n){return Handlebars.helpers.addTemplate(r,n)});Handlebars.registerHelper("informationalBanner",function(n,u,f,e){return Handlebars.helpers.addTemplate(r,{BannerType:"informationalType",HeaderText:n,DetailText:u,IconOverride:typeof f===i?f:t,FontSize:e})});Handlebars.registerHelper("successBanner",function(n,u,f,e){return Handlebars.helpers.addTemplate(r,{BannerType:"successType",HeaderText:n,DetailText:u,IconOverride:typeof f===i?f:t,FontSize:e})});Handlebars.registerHelper("warningBanner",function(n,u,f,e){return Handlebars.helpers.addTemplate(r,{BannerType:"warningType",HeaderText:n,DetailText:u,IconOverride:typeof f===i?f:t,FontSize:e})});Handlebars.registerHelper("criticalBanner",function(n,u,f,e){return Handlebars.helpers.addTemplate(r,{BannerType:"criticalType",HeaderText:n,DetailText:u,IconOverride:typeof f===i?f:t,FontSize:e})});Handlebars.registerHelper("ajaxSpinner",function(n,t,i){if($$WP.ApplicationContext!=78)return Handlebars.helpers.addTemplate("UI.AjaxSpinner",{inline:n,loadingMessage:t,role:i?"status":"alert"})});$$WP.Svg&&Handlebars.registerHelper("referenceSvg",function(n){if(n===t||n==="")return t;var i=document.createElement("use"),r;return(r=n.indexOf("~/")===0?makeLink(n.substring(2)):n.indexOf("http")===0?n:makeStaticImageLink(n),i.setAttribute("xlink:href",r),WP.DOM.Browser.isIE)?($$WP.Svg.Helpers.loadSingleSvgIcon(i),new Handlebars.SafeString(i.innerHTML)):new Handlebars.SafeString(i.outerHTML)});Handlebars.registerHelper("URLEncode",encodeURI);Handlebars.registerHelper("encodeURIComponent",encodeURIComponent);Handlebars.registerHelper("ifEquals",function(n,t,i){return n!==t?i.inverse(this):i.fn(this)});Handlebars.registerHelper("ifNotEquals",function(n,t,i){return n===t?i.inverse(this):i.fn(this)});Handlebars.registerHelper("addTemplate",function(n,t,i,r){for(var e=n.split("."),s=e.length,u=$$WP.Templates,f=0;f<s;f++)u=u[e[f]];if(typeof u!==o)throw"addTemplate could not find $$WP.Templates."+n;return i&&r&&(t.AdditionalData=i),new Handlebars.SafeString(u(t))});Handlebars.registerHelper("ifLt",function(n,t,i){return n<t?i.fn(this):i.inverse(this)});Handlebars.registerHelper("ifGt",function(n,t,i){return n>t?i.fn(this):i.inverse(this)});Handlebars.registerHelper("isLastInArray",function(n,t,i){return n+1===t?i.fn(this):i.inverse(this)});Handlebars.registerHelper("isMiddleInArray",function(n,t,i){return n+1===Math.ceil(t/2)?i.fn(this):i.inverse(this)});Handlebars.registerHelper("each-reverse",function(n,t){var i,r="";if(n&&n.length>0)for(i=n.length-1;i>=0;i--)t.data.index=i,r=r+t.fn(n[i]);else r=t.inverse(this);return r});Handlebars.registerHelper("raw",function(n){return new Handlebars.SafeString(n)});Handlebars.registerHelper("ifEven",function(n,t){return n%2==0?t.fn(this):t.inverse(this)});Handlebars.registerHelper("ifAny",function(){for(var n=arguments.length-1,t=0;t<n;t++)if(arguments[t])return arguments[n].fn(this);return arguments[n].inverse(this)});Handlebars.registerHelper("ifAll",function(){for(var n=arguments.length-1,t=0;t<n;t++)if(!arguments[t])return arguments[n].inverse(this);return arguments[n].fn(this)});Handlebars.registerHelper("ifNone",function(){for(var n=arguments.length-1,t=0;t<n;t++)if(arguments[t])return arguments[n].inverse(this);return arguments[n].fn(this)});Handlebars.registerHelper("addition",function(n,t){return n=Number(n)||0,t=Number(t)||0,n+t});Handlebars.registerHelper("concat",function(n,t){return n=String(n)||"",t=String(t)||"",n+t});Handlebars.registerHelper("join",function(n,i){return n&&n.join?n.join(i):t});Handlebars.registerHelper("ifIn",function(n,t,i){return Object.prototype.toString.call(t)==="[object Array]"&&t.indexOf(n)>-1?i.fn(this):i.inverse(this)});Handlebars.registerHelper("breakLines",function(n){return n=Handlebars.Utils.escapeExpression(n),n=n.replace(/(\r\n|\n|\r)/gm,"<br>"),new Handlebars.SafeString(n)});Handlebars.registerHelper("repeat",function(n,t){for(var i="",u={},r=1;r<=n;r++)u.index=r,i=i+t.fn(this,{data:u});return i});Handlebars.registerHelper("ifArray",function(n,t){return Array.isArray(n)?t.fn(this):t.inverse(this)});Handlebars.registerHelper("highlightString",function(n,t){var r=document.createElement("span"),u,f,i;if(t.length>0)for(r.appendChild(document.createTextNode(n.substring(0,t[0].start))),i=0;i<t.length;i++)u=document.createElement("mark"),u.innerText=n.substring(t[i].start,t[i].end),r.appendChild(u),f=i<t.length-1?t[i+1].start:n.length,r.appendChild(document.createTextNode(n.substring(t[i].end,f)));return new Handlebars.SafeString(r.innerHTML)});Handlebars.registerHelper("assistiveTextWrapper",function(n,t){return Handlebars.helpers.addTemplate("UI.AssistiveTextWrapper",{AssistiveLabel:n,VisibleContent:t.fn(this)})});Handlebars.registerHelper("replaceSpaces",function(n){return n.split(" ").join("-")})}},function(){var n=null,u={},e=function(n,t,r,u){return new i(n,t,r,!u)},i=function(n,i,u,e){var o=this;o.id=h++;o._template=n;o._priority=u;o._shown=e;o._addToStaticStructures();o._$container=$$WP.SimpleTemplates.Div({"class":"jqHidden"});f=f||$afe.select("#sidebar");r===1?f.safeAppend(o._$container):o===t?o._$container.safeInsertBefore(o._next._$container):o._$container.safeInsertAfter(o._previous._$container);o.update(i);o._shown&&o._$container.show()},o={ViewModel:n,_template:n,_priority:n,_$container:n,_previous:n,_next:n,_shown:!0,update:function(n){var t=this;t._$container.empty();t._$container.safeAppend($afe.renderTemplate(t._template,n));t.ViewModel=n},show:function(){this._shown||(this._$container.show(),this._shown=!0)},hide:function(){this._shown&&(this._$container.hide(),this._shown=!1)},remove:function(){var i=this;i._$container.remove();i===t?t=i._next:(i._previous._next=i._next,i._next!==n&&(i._next._previous=i._previous));r--},_addToStaticStructures:function(){var i=this,u,f;if(t===n)t=i;else if(i._priority<t._priority)i._next=t,t._previous=i,t=i;else{for(f=t,u=t;u!==n&&i._priority>=u._priority;)f=u,u=u._next;i._next=f._next;i._previous=f;f._next=i;i._next!==n&&(i._next._previous=i)}r++}},s=function(){return r},f=n,h=0,t=n,r=0;i.prototype=o;u.addWidget=e;u.numberOfWidgets=s;i.extend($$WP.BaseObject,"WP$Utilities$UI$SidebarWidget");$$WP.Utilities.UI.SidebarWidget=i;$$WP.Utilities.UI.SidebarManager=u}();$$WP.Debug.UnitTest=$$WP.Debug.UnitTest||{};$$WP.Debug.UnitTest.tests=$$WP.Debug.UnitTest.tests||[];$$WP.Debug.UnitTest.tests.push(function(){var ft='div[data-name="Widget4"]',p="remove() did not cause the number of elements directly contained by the sidebar to decrease by 1",nt='div[data-name="Widget3"]',tt='div[data-name="Widget2"]',w=":visible",et="The rendered version of Widget1 did not contain the expected value in the data-content attribute",a="data-content",b="addWidget() did not cause the number of elements directly contained by the sidebar to increase by 1",v='div[data-name="Widget1"]',i,n,u,e,o,t,y,h,it,rt,ut,r,s,f,c,l,k,d,g;if(i=$$WP.Debug.UnitTest.assert,n=$$WP.Debug.UnitTest.assertValue,u=$$WP.Utilities.UI.SidebarManager,SidebarWidget=$$WP.Utilities.UI.SidebarWidget,y=function(n){return'<div style="border: 1px solid black;" data-name="'+n.name+'" data-content="'+n.content+'"> Widget '+n.name+" priority: "+n.priority+" content: "+n.content+"<\/div>"},l={name:"Widget1",priority:10,content:"A"},k={name:"Widget2",priority:5,content:"C"},d={name:"Widget3",priority:5,content:"D"},g={name:"Widget4",priority:-1,content:"E"},t=$afe.select("#sidebar"),t.length==0){i(!0,"Skip test");return}o=t.children().length;e=u.numberOfWidgets();h=u.addWidget(y,l,l.priority);r=t.find(v);i(SidebarWidget.isInstance(h),"addWidget() did not return a valid SidebarWidget instance for Widget1");n(e+1,u.numberOfWidgets(),"The result of numberOfWidgets() did not increment after adding Widget1");n(o+1,t.children().length,b);n(1,r.length,"Did not find the rendered version of Widget1 in the sidebar after adding it using addWidget()");n("A",r.safeAttr(a),et);i(r.is(w),"Widget1 was not rendered shown by default");h.hide();i(!r.is(w),"Widget1 was not hidden by the call to hide()");h.show();i(r.is(w),"Widget1 was not shown by the call to show()");h.hide();l.content="B";h.update(l);r=t.find(v);n(e+1,u.numberOfWidgets(),"update() changed the widget count");n(o+1,t.children().length,"update() changed the number of child elements of the sidebar");n(1,r.length,"Unable to find Widget1 in the sidebar after calling update() ");n(l.content,r.safeAttr(a),et);i(!r.is(w),"update() made Widget1 visible when it should not have");h.show();it=u.addWidget(y,k,k.priority);r=t.find(v);s=t.find(tt);i(SidebarWidget.isInstance(it),"addWidget() did not return a valid SidebarWidget instance for Widget2");n(e+2,u.numberOfWidgets(),"The result of numberOfWidgets() did not increment after adding Widget2");n(o+2,t.children().length,b);n(1,s.length,"Did not find the rendered version of Widget2 in the sidebar after adding it using addWidget()");n(k.content,s.safeAttr(a),"The rendered version of Widget2 did not contain the expected value in the data-content attribute");n(1,r.length,"Did not find the rendered version of Widget1 in the sidebar after adding Widget2 using addWidget()");n(l.content,r.safeAttr(a),"The rendered version of Widget1 did not contain the expected value in the data-content attribute after calling addWidget() to add Widget2");i(s.parent().next().get(0)===r.parent().get(0),"Widget2 was not inserted directly before Widget1 in the DOM");rt=u.addWidget(y,d,d.priority);r=t.find(v);s=t.find(tt);f=t.find(nt);i(SidebarWidget.isInstance(rt),"addWidget() did not return a valid SidebarWidget instance for Widget3");n(e+3,u.numberOfWidgets(),"The result of numberOfWidgets() did not increment after adding Widget3");n(o+3,t.children().length,b);n(1,f.length,"Did not find the rendered version of Widget3 in the sidebar after adding it using addWidget()");n(d.content,f.safeAttr(a),"The rendered version of Widget3 did not contain the expected value in the data-content attribute");i(f.parent().next().get(0)===r.parent().get(0),"Widget3 was not inserted directly before Widget1 in the DOM");i(s.parent().next().get(0)===f.parent().get(0),"Widget3 was not inserted directly after Widget2 in the DOM");h.remove();r=t.find(v);n(e+2,u.numberOfWidgets(),"The result of numberOfWidgets() did not decrement after removing Widget1");n(o+2,t.children().length,p);n(0,r.length,"Widget1 was still found in the sidebar after calling remove()");i(f.parent().next().length===0,"Widget3 still had something after it in the sidebar");i(s.parent().next().get(0)===f.parent().get(0),"Widget3 is not directly after Widget2 in the DOM");it.remove();s=t.find(tt);n(e+1,u.numberOfWidgets(),"The result of numberOfWidgets() did not decrement after removing Widget2");n(o+1,t.children().length,p);n(0,s.length,"Widget2 was still found in the sidebar after calling remove()");i(f.parent().next().length===0,"Widget3 was not the last element in the sidebar though it is the last remaining widget");ut=u.addWidget(y,g,g.priority);f=t.find(nt);c=t.find(ft);i(SidebarWidget.isInstance(ut),"addWidget() did not return a valid SidebarWidget instance for Widget4");n(e+2,u.numberOfWidgets(),"The result of numberOfWidgets() did not increment after adding Widget4");n(o+2,t.children().length,b);n(1,c.length,"Did not find the rendered version of Widget4 in the sidebar after adding it using addWidget()");n(g.content,c.safeAttr(a),"The rendered version of Widget4 did not contain the expected value in the data-content attribute");i(c.parent().next().get(0)===f.parent().get(0),"Widget4 was not inserted directly before Widget3 in the DOM");rt.remove();f=t.find(nt);n(e+1,u.numberOfWidgets(),"The result of numberOfWidgets() did not decrement after removing Widget3");n(o+1,t.children().length,p);n(0,f.length,"Widget3 was still found in the sidebar after calling remove()");i(c.parent().next().length===0,"Widget4 was not the last element in the sidebar though it is the last remaining widget");ut.remove();c=t.find(ft);n(e,u.numberOfWidgets(),"The result of numberOfWidgets() did not decrement after removing Widget4");n(o,t.children().length,p);n(0,c.length,"Widget4 was still found in the sidebar after calling remove()")})