(function(){var n="resource",t=function(){var i="function",t=this,r;t.__clearResourceTimingsSupported=typeof performance.clearResourceTimings===i;typeof performance.setResourceTimingBufferSize===i&&performance.setResourceTimingBufferSize(t.__maxEntries);typeof performance.onresourcetimingbufferfull=="object"&&(performance.onresourcetimingbufferfull=t.__handleBufferFull.bind(t));typeof PerformanceObserver===i&&(r=new PerformanceObserver(t.__checkBufferSize.bind(t)),r.observe({entryTypes:[n]}))};t.prototype={__maxEntries:200,__clearResourceTimingsSupported:!1,__bufferClearHandlers:[],beforeBufferClear:function(n,t){if(this.__clearResourceTimingsSupported){var i=t?n.bind(t):n;this.__bufferClearHandlers.push(i)}},getBufferSize:function(){return performance.getEntriesByType(n).length},_clearBuffer:function(){if(this.__clearResourceTimingsSupported){for(var t=0;t<this.__bufferClearHandlers.length;t++)this.__bufferClearHandlers[t](performance.getEntriesByType(n));performance.clearResourceTimings()}},__checkBufferSize:function(){this.getBufferSize()>this.__maxEntries/2&&this._clearBuffer()},__handleBufferFull:function(){this._clearBuffer()}};$$WP=$$WP||{};$$WP.Performance=$$WP.Performance||{};$$WP.Performance.ComplexTypes=$$WP.Performance.ComplexTypes||{};$$WP.Performance.ComplexTypes.ResourceBufferManager=t;$$WP.Performance.ResourceBuffer=new $$WP.Performance.ComplexTypes.ResourceBufferManager})(),function(){var f="true",r="PerfTrackerVerboseLogging",e="navigation",o=". Queueing flush",u=" at ",i=!1,t=!0,n="";$$WP=$$WP||{};$$WP.Performance=$$WP.Performance||{};$$WP.Performance.ComplexTypes=$$WP.Performance.ComplexTypes||{};$$WP.Performance.ComplexTypes.PerformanceTracker=function(){window.addEventListener("DOMContentLoaded",function(){var t=this;t.__pageLoadOngoing=t.__retrieveCurrentPageIdentifier()!==n;t.__trackingEnabled=t.__isTrackingEnabled()}.bind(this));window.addEventListener("pagehide",this.__handleUnload.bind(this))};$$WP.Performance.ComplexTypes.PerformanceTracker.prototype={__httpRequests:[],__ongoingMeasurements:{},__completedMeasurements:[],__trackingEnabled:t,__externalStepsOngoing:i,__pageLoadOngoing:t,startMeasurement:function(i,r){var e=this,f;if(e.__trackingEnabled){if(e.__ongoingMeasurements[i]){e.__logMessage(["Attempted to start measurement ",i,u,performance.now()," while previous measurement was ongoing. Abandoning new event."].join(n),t);return}f=new $$WP.Performance.ComplexTypes.Models.Measurement;f.identifier=i;r&&(f.parentIdentifier=r.parent,f.setRoutesFilter(r.routes),f.setAdditionalMetadata(r.detail));e.__ongoingMeasurements[i]=f;f.start=performance.now();e.__logMessage(["Start measurement of ",i,u,performance.now()].join(n),t)}},endMeasurement:function(t){var r=this,i;r.__trackingEnabled&&t&&(i=r.__ongoingMeasurements[t],delete r.__ongoingMeasurements[t],i)&&(i.fillTimings(i.start,performance.now()),i.httpRequests=r._getHttpRequestsForRange(i.start,i.end,i.getRoutesFilter()),r.__populateAdditionalMetadata(i),r.__logMessage(["End measurement of ",t,u,i.end,". Queuing flush"].join(n)),r.__completedMeasurements.push(i),setTimeout(r._flushCompletedMeasurements.bind(r)),r.__checkHttpBuffer())},pageLoadComplete:function(t,r){var f=this,e;f.__trackingEnabled&&(e=f._generateNavigationMeasurement(t,r),e.httpRequests=e.httpRequests.concat(f.__httpRequests),f.__logMessage(["Logging measurement of ",t,u,performance.now(),o].join(n)),f.__completedMeasurements.push(e),setTimeout(f._flushCompletedMeasurements.bind(f)),f.__pageLoadOngoing=i,f.__checkHttpBuffer())},_logHttpRequestFromAjax:function(i){var u=this,r;if(u.__capturingHttpRequests()){if(r=u.__getPerformanceEntryFromJQXHR(i.originalOptions.url),!r){u.__logMessage(["Failed to find performance entry for ",i.originalOptions.url].join(n),t);return}var e=r.redirectCount>0?r.redirectStart:r.requestStart,o=r.responseStart,s=i.getResponseHeader("x-epic-performance-metrics"),f=new $$WP.Performance.ComplexTypes.Models.HttpRequest(e,o,r.name,s);u.__httpRequests.push(f);f.serializedRequestMetrics||u.__logMessage(["Did not receive serialized request metrics for ",i.originalOptions.url].join(n),t)}},_logHttpRequest:function(n,t,i,r){var u=new $$WP.Performance.ComplexTypes.Models.HttpRequest(n,t,i,r);this.__httpRequests.push(u)},_getHttpRequestsForRange:function(n,t,i){var f,u,r;if(this.__trackingEnabled){for(f=[],u=0;u<this.__httpRequests.length;u++)r=this.__httpRequests[u],n<r.start&&r.start<t&&(!i||i.length===0||i.some(function(n){return r.requestRoute.includes(n)}))&&f.push(r);return f}},_recordFrameworkMeasurements:function(r,u){var f=this,e,c;if(f.__trackingEnabled){var s=f.__retrieveCurrentPageIdentifier(),h=u||s,l=r||"WP_PAGE_LOAD_GENERIC";(s||r||u)&&(e=f._generateNavigationMeasurement(l,h,i),e.parentIdentifier=h,f.__retrieveSetting("__RedirectChainIncludesLogin")=="1"&&(c=f.__generateRedirectMeasurement("WP_LOGIN"),f.__completedMeasurements.push(c)),f.__logMessage(["Completed internal OnPageLoad measurement at ",performance.now(),o].join(n),t),f.__completedMeasurements.push(e),setTimeout(f._flushCompletedMeasurements.bind(f)))}},_generateNavigationMeasurement:function(n,i,r){if(this.__trackingEnabled){r===undefined&&(r=t);var u=new $$WP.Performance.ComplexTypes.Models.Measurement;return u.identifier=n,this.__populateNavigationTimings(u,r),this.__populateAdditionalMetadata(u,i),u}},_notifyMeasurementsInProgress:function(){this.__logMessage(["Received notification of external measurements starting at ",performance.now()].join(n),t);this.__externalStepsOngoing=t},_notifyAllMeasurementsComplete:function(){this.__logMessage(["Received notification of all external measurements completed at ",performance.now()].join(n),t);this.__externalStepsOngoing=i;this.__checkHttpBuffer()},_flushCompletedMeasurements:function(i){var r=this,u,f,e;if(r.__trackingEnabled){for(u=[],i&&(u=i.map(function(n){var t=new $$WP.Performance.ComplexTypes.Models.Measurement;return t.initFromObject(n),t.toWebJSON()})),f=0;f<r.__completedMeasurements.length;f++)u.push(r.__completedMeasurements[f].toWebJSON());u&&u.length!=0&&(r.__logMessage(["Attempting flush of ",u.length," measurement models"].join(n)),e=JSON.stringify(u),navigator.sendBeacon(makeLink("PerformanceMetrics"),e)?(r.__logMessage(["Beacon successful"].join(n),t),r.__completedMeasurements=[]):r.__logMessage(["Beacon unsuccessful"].join(n),t))}},__capturingHttpRequests:function(){return this.__pageLoadOngoing||this.__externalStepsOngoing||Object.keys(this.__ongoingMeasurements).length>0},__checkHttpBuffer:function(){this.__capturingHttpRequests()||(this.__logMessage(["All measurements complete. Clearing unneeded HttpRequests from buffer"].join(n),t),this.__httpRequests=[])},__getPerformanceEntryFromJQXHR:function(n){for(var i=performance.getEntriesByType("resource"),r,t=0;t<i.length;t++)i[t].name.includes(n)&&(r=i[t]);return r},__generateRedirectMeasurement:function(n,t){if(this.__trackingEnabled){var i=new $$WP.Performance.ComplexTypes.Models.Measurement;return i.identifier=n,this.__populateRedirectTimings(i),this.__populateAdditionalMetadata(i,t),i}},__populateRedirectTimings:function(n){var t,i,r=performance.getEntriesByType(e)[0],u;r?(t=r.redirectStart,i=r.redirectEnd):(u=performance.timing,t=this.__convertLegacyTiming(u.redirectStart),i=this.__convertLegacyTiming(u.redirectEnd));n.fillTimings(t,i);n.httpRequests=[this.__generateRedirectHttpRequest(t,i)]},__populateNavigationTimings:function(n,t){var r=this,o,h,s,c,u,f,l,a;t===undefined&&(t=i);u=performance.getEntriesByType(e)[0];u?(o=u.redirectStart,h=u.redirectEnd,s=u.requestStart,c=u.responseStart):(f=performance.timing,o=r.__convertLegacyTiming(f.redirectStart),h=r.__convertLegacyTiming(f.redirectEnd),s=r.__convertLegacyTiming(f.requestStart),c=r.__convertLegacyTiming(f.responseStart));l=t?o:s;a=performance.now();n.fillTimings(l,a);n.httpRequests=[r.__generateNavigationHttpRequest(s,c)];t&&n.httpRequests.push(r.__generateRedirectHttpRequest(o,h))},__generateNavigationHttpRequest:function(n,t){return new $$WP.Performance.ComplexTypes.Models.HttpRequest(n,t,window.location.href,this.__retrieveSetting("__NavigationRequestMetrics"))},__generateRedirectHttpRequest:function(t,i){return new $$WP.Performance.ComplexTypes.Models.HttpRequest(t,i,n,this.__retrieveSetting("__NavigationRedirectMetrics"))},__populateAdditionalMetadata:function(n,t){n.setAdditionalMetadata(t)},__retrieveCurrentPageIdentifier:function(){return this.__retrieveSetting("__CurrentPageLoadDescriptor")||n},__isTrackingEnabled:function(){var n=this.__retrieveSetting("__RttCaptureEnabled");return n=="1"},__retrieveSetting:function(n){var t=document.getElementById("__PerformanceTrackingSettings"),i;return t&&t.children?(i=t.children[n]||{},i.value):undefined},__handleUnload:function(){var i=this,u,r;if(i.__trackingEnabled){for(u=Object.keys(i.__ongoingMeasurements),r=0;r<u.length;r++)i.endMeasurement(u[r]);i.__logMessage(["Received unload. Attempting to flush ",i.__completedMeasurements.length," measurements"].join(n),t);i._flushCompletedMeasurements()}},__convertLegacyTiming:function(n){var i=Date.now()-performance.now(),t=n-i;return t>0?t:0},__logMessage:function(n,t){t&&localStorage.getItem(r)!==f||$$WP.Debug.log("[PERF] "+n)},__toggleVerboseLogging:function(){var t=localStorage.getItem(r);t===f?(localStorage.removeItem(r),this.__logMessage("Verbose logging off.")):(localStorage.setItem(r,f),this.__logMessage(["Now attempting to increase the verbosity of the console logging system for MyChart's Javascript PerformanceTracker framework. ","In order to deactivate the additional logging turned on by this API call, all you need to do is to call ","$$WP.Performance.Tracker.__toggleVerboseLogging() one additional time. Thank you"].join(n)))}};$$WP.Performance.Tracker=new $$WP.Performance.ComplexTypes.PerformanceTracker}(),function(){$$WP=$$WP||{};$$WP.Performance=$$WP.Performance||{};$$WP.Performance.ComplexTypes=$$WP.Performance.ComplexTypes||{};$$WP.Performance.ComplexTypes.Models=$$WP.Performance.ComplexTypes.Models||{};var n=function(n,t){this.detail=n;this.containsError=t};n.prototype={detail:null,containsError:null,toWebJSON:function(){return{Detail:this.detail,ContainsError:this.containsError}}};$$WP.Performance.ComplexTypes.Models.AdditionalMetadata=n}(),function(){var n=null,t;$$WP=$$WP||{};$$WP.Performance=$$WP.Performance||{};$$WP.Performance.ComplexTypes=$$WP.Performance.ComplexTypes||{};$$WP.Performance.ComplexTypes.Models=$$WP.Performance.ComplexTypes.Models||{};t=function(n,t,i,r){var u=this;u.start=n;u.end=t;u.requestRoute=i;u.serializedRequestMetrics=r?JSON.parse(r):undefined};t.prototype={start:n,end:n,requestRoute:n,serializedRequestMetrics:n,initFromObject:function(n){if(typeof n=="object"){Object.assign(this,n);return}},toWebJSON:function(){var n=this;return{Start:n.start,End:n.end,RequestRoute:n.requestRoute,SerializedRequestMetrics:n.serializedRequestMetrics}}};$$WP.Performance.ComplexTypes.Models.HttpRequest=t}(),function(){var n=null,t;$$WP=$$WP||{};$$WP.Performance=$$WP.Performance||{};$$WP.Performance.ComplexTypes=$$WP.Performance.ComplexTypes||{};$$WP.Performance.ComplexTypes.Models=$$WP.Performance.ComplexTypes.Models||{};t=function(){this.httpRequests=[];this._routesFilter=[]};t.prototype={identifier:n,parentIdentifier:n,start:n,end:n,totalTime:n,endTimeUTC:n,httpRequests:n,additionalMetadata:n,_routesFilter:n,initFromObject:function(n){if(typeof n=="object"){Object.assign(this,n);this.httpRequests=n.httpRequests.map(function(n){var t=new $$WP.Performance.ComplexTypes.Models.HttpRequest;return t.initFromObject(n),t});this.additionalMetadata=new $$WP.Performance.ComplexTypes.Models.AdditionalMetadata(n.additionalMetadata.detail,n.additionalMetadata.containsError);return}},fillTimings:function(n,t){var i=this;i.end=t;i.start=n;i.totalTime=t-n;i.endTimeUTC=new Date(Date.now()).toISOString()},setRoutesFilter:function(n){this._routesFilter=n},getRoutesFilter:function(){return this._routesFilter},setAdditionalMetadata:function(n,t){var i=this;i.additionalMetadata?(i.additionalMetadata.detail=n||i.additionalMetadata.detail,i.additionalMetadata.containsError=t||i.additionalMetadata.containsError):i.additionalMetadata=new $$WP.Performance.ComplexTypes.Models.AdditionalMetadata(n,t)},toWebJSON:function(){var n=this;return{Identifier:n.identifier,ParentIdentifier:n.parentIdentifier,Start:n.start,End:n.end,TotalTime:n.totalTime,EndTimeUTC:n.endTimeUTC,HttpRequests:n.httpRequests.map(function(n){return n.toWebJSON()}),AdditionalMetadata:n.additionalMetadata.toWebJSON()}}};$$WP.Performance.ComplexTypes.Models.Measurement=t}(),function(){var p="InputCleared",o="InputEntered",s="InputDeleted",w="UserScrolled",ft=".submenu",h="KeyboardExitSearch",c=".menuitem-content:visible",l="menu-searchbar",b="-ariasearchresultstotal",r=!1,a="MenuClosed",k="MenuOpened",d="menu-shieldopen",g="aria-expanded",nt="menu-rootopen",tt="menu",v="menu-open",u=!0,y="MenuSelected",e=".menuitem-content",i="keydown",et="-responsiveclosebutton",it="-searchemptybutton",ot="-searchbar",f="click",st="-searchlist",rt="-list",t="#",n=null,ht=$$WP.Controllers.Controller,ct=769,ut=function(n,t,i,r){var u=this;u.$root=n;u.callbackFunction=t;u.template=$$WP.Templates.Navigation.Menu;u.searchTemplate=$$WP.Templates.Navigation.MenuSearch;u.proxify("_onMenuLoaded","_toggleMenu","_onMenuButtonKeydown","_doSearch","__afterHideMenuShield","__setFocusOnMenuOpen","_onSearchEmptyButtonClicked","__handleThrottledUserScroll","__onUserFinishedTyping","__onMenuItemSelected");u.MenuName=r;u.SearchAuditTrail=[];$.get({url:makeLink(i),success:u._onMenuLoaded})},lt={$root:n,$menuRoot:n,$searchRoot:n,$searchEmptyButton:n,$menuShield:n,$menuSearchBar:n,$menuContainer:n,$menuButton:n,userFinishedTypingTimer:n,menu:n,template:n,searchTemplate:n,callbackFunction:n,eventListenerFunctionProxy:n,ShouldAudit:n,CurrentSearchData:n,SearchAuditTrail:n,skipLoggingClosed:n,pendingEventType:n,blocksDownArrow:n,_onMenuLoaded:function(t){var i=this,u,e,f,r;if(i.menu=new $$WP.Navigation.Models.Menu(t),i.menu.MenuName=i.MenuName,i._render(),i.ShouldAudit=i.menu.IsNav&&t.ShouldAudit,typeof i.callbackFunction=="function"){if(u={},u.ButtonDisplayName=i.menu.MenuDisplayName,e=[],i.menu.Shortcuts&&i.menu.Shortcuts.length>0)for(f=0;f<i.menu.Shortcuts.length;f++)r=i.menu.Shortcuts[f],e.push({Id:r.Id,Name:r.Name,URL:r.Link,Icon:r.Icon,DataAttributes:r.DataAttributes});u.Shortcuts=e;u.CovidShortcutDetails=i.menu.CovidShortcutDetails.Name===n||i.menu.CovidShortcutDetails.Link===n||i.menu.CovidShortcutDetails.Icon===n?n:i.menu.CovidShortcutDetails;sessionStorage.ShowCovidQuickAccess===undefined&&sessionStorage.setItem("ShowCovidQuickAccess",t.CovidShortcutWprFlag);i.callbackFunction(u)}},_render:function(){var n=this;$afe.select(t+n.MenuName+"Wrapper").safeAppend($afe.renderTemplate(n.template,n.menu,{}));n.$menuRoot=$afe.select(t+n.MenuName+rt);n.$searchRoot=$afe.select(t+n.MenuName+st);n.$menuShield=$afe.select(t+n.MenuName+"-shield");n.$menuShield.on(f,n._toggleMenu);n.$menuSearchBar=$afe.select(t+n.MenuName+ot);n.$menuSearchBar.on("input",n._doSearch);n.$menuContainer=$afe.select(t+n.MenuName+"-container");n.$menuButton=$afe.select(t+n.MenuName);n.$searchEmptyButton=$afe.select(t+n.MenuName+it);$afe.select(t+n.MenuName+"-closebutton").on(f,n._toggleMenu);$afe.select(t+n.MenuName+et).on(f,n._toggleMenu);n.$root.on(f,n._toggleMenu);n.$root.on(i,n._onMenuButtonKeydown);$afe.select("."+n.MenuName+e).on(f,n.__onMenuItemSelected);n.$searchEmptyButton.on(f,n._onSearchEmptyButtonClicked);$$WPUtil.AddImmediateThrottledListener(n.$menuRoot,"scroll","",2e3,n.__handleThrottledUserScroll);$$WPUtil.AddImmediateThrottledListener(n.$searchRoot,"scroll","",2e3,n.__handleThrottledUserScroll)},__onMenuItemSelected:function(n){var t=n.currentTarget.id.split("_")[0],i=n.originalEvent.detail===0?"k":"m";this.__logMenuEvent(y,t,i);this.skipLoggingClosed=u;this._toggleMenu()},_onMenuButtonKeydown:function(n){switch(n.keyCode){case 32:event.preventDefault();this._toggleMenu();break;case 13:event.preventDefault();this._toggleMenu()}},_toggleMenu:function(){this.$menuContainer.hasClass(v)?this._closeMenu():this._openMenu()},_openMenu:function(){var n=this;n.eventListenerFunctionProxy=$.proxy(n._handleMenuKeydown,n);n._preOpenMenu();n.MenuName===tt&&($$WP.Utilities.UI.ToggleBodyScrolling(u),n.__setAriaHiddenForPage(u));n.$menuContainer.show().addClass(v);n.$menuButton.addClass(nt);n.$menuButton.safeAttr(g,"true");n.$menuShield.show().addClass(d);n.$menuContainer.on(i,n.eventListenerFunctionProxy);n.$menuButton.on(i,n.eventListenerFunctionProxy);n.__logMenuEvent(k);setTimeout(n.__setFocusOnMenuOpen,0)},__setFocusOnMenuOpen:function(){var n=this,i=$afe.select(t+n.MenuName+"-responsiveclosebutton:visible");i.length===0&&(i=window.outerWidth<ct&&n.MenuName!=tt?n.$menuButton:n.$menuSearchBar);i.focus()},_closeMenu:function(){var n=this;n.__logPendingEvent();clearTimeout(n.userFinishedTypingTimer);n.skipLoggingClosed||n.__logMenuEvent(a);n.skipLoggingClosed=r;n.$menuContainer.removeClass(v).off(i,n.eventListenerFunctionProxy);n.$menuShield.removeClass(d);n.$menuButton.removeClass(nt).off(i,n.eventListenerFunctionProxy).safeAttr(g,"false");$$WP.Utilities.UI.ToggleBodyScrolling(r);setTimeout(n.__afterHideMenuShield,100)},_preOpenMenu:function(){var u=".menu-rootopen",r=this,f=$afe.select(u)[0],n;f!==undefined&&(n=t+f.id,r.__logPendingEvent(),clearTimeout(r.userFinishedTypingTimer),$afe.select(".menu-button").off(i,r.eventListenerFunctionProxy),$afe.select(".menu-container").off(i,r.eventListenerFunctionProxy),$afe.select(".menu-open").hide().removeClass(v),$afe.select(".menu-shieldopen").hide().removeClass(d),$afe.select(u).removeClass(nt).safeAttr(g,"false"),$afe.select(n+rt).scrollTop(0),$afe.select(n+ot).val(""),$afe.select(n+"-searchresultstotal").empty(),$afe.select(n+b).empty(),$afe.select(n+it).hide(),$afe.select(n+st).hide(),$afe.select(n+rt).show())},__afterHideMenuShield:function(){var n=this,t=$afe.select("body");$afe.select(".lightbox_overlay:visible").length===0&&(n.MenuName===tt&&n.__setAriaHiddenForPage(r),n.$root.focus());n.$menuRoot.scrollTop(0);n.$menuSearchBar.val("");n._clearSearch(u);n.$menuContainer.hide();n.$menuShield.hide()},_handleMenuKeydown:function(n){var t=this;switch(n.keyCode){case 8:t.__handleMenuBackspace(n);break;case 9:t.__handleMenuTab(n);break;case 27:t._closeMenu();break;case 38:n.preventDefault();t.__handleMenuUpArrow(n.target);break;case 40:n.preventDefault();t.__handleMenuDownArrow(n.target);break;case 36:n.target.id!==l&&$afe.select(c).first().focus();break;case 35:n.target.id!==l&&$afe.select(c).last().focus()}},__handleMenuBackspace:function(n){n.target.tagName!=="INPUT"&&n.preventDefault()},__handleMenuTab:function(n){var r=this,u=t+r.MenuName+"-container ",f=$afe.select(u+"button:not([disabled]), "+u+"input:not([disabled],[type='hidden']), "+u+"a[href]:visible, "+u+"div[tabindex=0]:visible"),i=f[0],e=f[f.length-1];$afe.jq(i).css("display")==="none"&&(i=i=$afe.select(t+r.MenuName+et)[0],(i==="undefined"||$afe.jq(i).css("display")==="none")&&(i=r.$menuButton[0]));n.shiftKey?document.activeElement===i&&(e.focus(),n.preventDefault()):document.activeElement===e&&(i.focus(),n.preventDefault());n.target.id===l&&r.__logMenuEvent(h)},__handleMenuDownArrow:function(n){var t=this,i,f;if(!t.blocksDownArrow){if(i=$afe.jq(n),n.id===l&&t.__logMenuEvent(h),!i.hasClass("menuitem-content")){WP.DOM.Browser.isChrome||WP.DOM.Browser.isChromiumEdge?(t.blocksDownArrow=u,setTimeout(function(){$afe.select(c).first().focus();this.blocksDownArrow=r}.bind(t),300)):$afe.select(c).first().focus();return}if(f=i.parent().next().find(e),f.length!==0){f.focus();return}i.closest(ft).next().find(e).first().focus()}},__handleMenuUpArrow:function(n){var i=$afe.jq(n),t=i.parent().prev().find(e);if(t.length!==0){t.focus();return}if(t=i.closest(ft).prev().find(e).last(),t.length!==0){t.focus();return}this.$menuSearchBar.focus()},__handleThrottledUserScroll:function(){this.__logMenuEvent(w)},__setAriaHiddenForPage:function(n){var t="aria-hidden";$afe.select("#header").safeAttr(t,n);$afe.select("#footer").safeAttr(t,n);$afe.select("#content").safeAttr(t,n);$afe.select("#toastWrapper").safeAttr(t,n)},_onSearchEmptyButtonClicked:function(){this.$menuSearchBar.val("").focus();this._clearSearch()},_doSearch:function(u){var h=this,c,l;if($afe.select(t+h.MenuName+b).empty(),c=u.target.value,c=c.replaceAll("-"," ").toLowerCase().trim(),l=h.CurrentSearchData?h.CurrentSearchData.SearchString.startsWith(c):r,(l&&h.pendingEventType!==s||!l&&h.pendingEventType!==o)&&h.__logPendingEvent(),clearTimeout(h.userFinishedTypingTimer),c===n||c===""){h._clearSearch();return}h.$menuRoot.hide();h.$searchRoot.empty();h.CurrentSearchData=new $$WP.Navigation.Models.SearchMenu(h.menu,c,h.ShouldAudit);h.CurrentSearchData.SearchResultsDisplay=h.__getDisplayNumSearchMatches(h.CurrentSearchData.TotalMatches);h.userFinishedTypingTimer=setTimeout(h.__onUserFinishedTyping,500,l);h.pendingEventType=l?s:o;h.$searchRoot.safeAppend($afe.renderTemplate(h.searchTemplate,h.CurrentSearchData,{}));h.$searchEmptyButton.show();h.$searchRoot.show();h.$menuContainer.off(i,h.eventListenerFunctionProxy);h.eventListenerFunctionProxy=$.proxy(h._handleMenuKeydown,h);h.$menuContainer.on(i,h.eventListenerFunctionProxy);$afe.select(t+h.MenuName+"-searchlist ."+h.MenuName+e).on(f,h.__onMenuItemSelected)},_clearSearch:function(r){var u=this,f;$afe.select(t+u.MenuName+b).empty();u.__logPendingEvent();clearTimeout(u.userFinishedTypingTimer);u.$menuContainer.off(i,u.eventListenerFunctionProxy);u.$searchRoot.hide();u.$menuRoot.show();u.CurrentSearchData=n;r||u.__logMenuEvent(p);f=$afe.select(t+u.MenuName+it);setTimeout(function(){f.hide()},50);u.eventListenerFunctionProxy=$.proxy(u._handleMenuKeydown,u);u.$menuContainer.on(i,u.eventListenerFunctionProxy)},__getDisplayNumSearchMatches:function(n){var u="@MYCHART@NUMSEARCHMATCHES@",t="Navigation.Menu",i="";switch(n){case 0:i=$$WP.Strings.get("MenuSearchNoResults",t);break;case 1:i=$$WP.Strings.get("MenuSearchOneResult",t);break;default:$$WP.Strings.addMnemonic(u,n,r,t);i=$$WP.Strings.get("MenuSearchMultipleResults",t);$$WP.Strings.removeMnemonic(u,t)}return i},__onUserFinishedTyping:function(t){var i=this,u=$afe.select("#menu-ariasearchresultstotal"),r;u.text(i.CurrentSearchData.SearchResultsDisplay);r=t?s:o;i.pendingEventType===r&&(i.__logMenuEvent(r),i.pendingEventType=n)},__logPendingEvent:function(){var t=this;t.pendingEventType!==n&&(t.__logMenuEvent(t.pendingEventType),t.pendingEventType=n)},__logMenuEvent:function(t,i,r){var u=this,f,e,o;u.ShouldAudit&&(u.pendingEventType!==t&&u.__logPendingEvent(),f={},f.Action=t,f.ChangesMenuState=u.__eventChangesMenuState(t),f.CurrentLocale=$$WP.CurrentLocale?$$WP.CurrentLocale.Identifier:"NA",e=new Date(Date.now()),f.OccurredAt=e.getTime(),u.CurrentSearchData&&(f.SearchTerm=u.CurrentSearchData.SearchString.substring(0,500),u.__eventLogsMenus(t)&&(f.MenuItems=u.CurrentSearchData.AuditState)),i&&(f.SelectedMenuItem={Id:i,SelectionMethod:r,SynonymMatch:u.CurrentSearchData?u.__getSynonymMatch(i):""}),u.SearchAuditTrail||(u.SearchAuditTrail=[]),u.SearchAuditTrail.push(f),(u.__eventIsTerminal(t)||u.SearchAuditTrail.length>5)&&(o=u.SearchAuditTrail,getCSRFTokenAsQS(function(){$.ajax({type:"POST",url:makeLink("Menu/Menu/Audit"),data:JSON.stringify({events:o}),contentType:"application/json;",dataType:"text"})}),u.SearchAuditTrail=n))},__getSynonymMatch:function(n){for(menuInd=0;menuInd<this.CurrentSearchData.AuditState.length;menuInd++)if(this.CurrentSearchData.AuditState[menuInd].Id===n)return this.CurrentSearchData.AuditState[menuInd].SynonymMatch},__eventChangesMenuState:function(n){switch(n){case k:case o:case s:case p:return u;case h:case w:case y:case a:default:return r}},__eventLogsMenus:function(n){switch(n){case o:case s:return u;case k:case p:case h:case w:case y:case a:default:return r}},__eventIsTerminal:function(n){return n===y||n===a}};ut.prototype=lt;$$WP.Navigation=$$WP.Navigation||{};$$WP.Navigation.MenuController=ut;ut.extend(ht,"WP$Navigation$MenuController")}(),function(){var h="margin-top",l="show-menu",r="aria-expanded",u=".defaultajaxoverlay",f="position",e="aria-hidden",c="#proxyMenuShield",t=!0,o="true",n=!1,i=null,s,a;$$WP.Utilities.guaranteeExistence($$WP,"ProxySwitch.Controllers");s=function(n){var t=this;t.$switchRoot=n;t.strings=$$WP.Strings.getNamespace("ProxySwitch.ProxySwitch.ProxySelector");t.lastCloseTime=0;t.photoTemplate=$$WP.Templates.ProxySwitch.PatientRoundIcon;t.switchTemplate=$$WP.Templates.ProxySwitch.DropDownProxySelector;$.ajax({url:makeLink("ProxySwitch"),success:t._onModelLoaded.bind(t),type:"GET",dataType:"JSON"});t.keyCode={TAB:9,RETURN:13,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40};t.proxify("_showPhotoConfirmationCore")};a={$switchRoot:i,switchTemplate:i,modelData:i,photoTemplate:i,popupMenuController:n,dontReopen:n,$popupMenu:i,$menuButton:i,strings:i,lastCloseTime:0,uploadController:i,_onModelLoaded:function(n){this.modelData=new $$WP.ProxySwitch.Models.ProxySelectorViewModel(n);this._render()},_render:function(){var n=this;n._registerPartialTemplates();n.$switchRoot.safeAppend($afe.renderTemplate(n.switchTemplate,n.modelData,{}));n.$menuButton=n.$switchRoot.find("#proxyMenuButton");n.$menuButton.safeAttr("aria-haspopup",o);n.$popupMenu=$("#"+n.$menuButton.safeAttr("aria-controls"));$afe.jq(window).on("resize",$.proxy(n._onResize,n));n.$popupMenu.length===1&&(n.popupMenuController=new $$WP.ProxySwitch.Controllers.ProxyPopupMenuController(n.$popupMenu,n));n._onResize();n.modelData.ShowPhotoUpload===t&&n._createUploadController();n.$menuButton.on("click",n._handleClick.bind(n));$afe.select(c).on("click",n._handleClick.bind(n));n.$menuButton.on("keydown",n._handleKeydown.bind(n));WP.DOM.Browser.isIE&&$afe.select(".proxySelectorDropDownNameEllipsis").safeAttr(e,"false");$afe.select(".roundedPatientPhoto").children("img").on("error",n._onPhotoIconError.bind(n))},_onResize:function(){var n=this,t,i,r;if(n.modelData.ShowDropDown&&(t=n.$switchRoot.find("#proxySwitchNav"),n.$menuButton&&!(n.$menuButton.length<1)&&t&&!(t.length<1))){if(i=n.$menuButton[0].getBoundingClientRect().height,t.css(f)==="fixed"){r=n.$menuButton[0].getBoundingClientRect().top;t.css("top",r+i);return}t.css("top",i)}},_onPhotoIconError:function(n){if(n&&n.target){var t=$afe.jq(n.target),i=t.data("first-letter");i&&(t.parent().addClass("noBorder"),t.replaceWith("<span  aria-hidden='true' >"+i+"<\/span>"))}},_registerPartialTemplates:function(){Handlebars.registerPartial("roundPatientIcon",$$WP.Templates.ProxySwitch.PatientRoundIcon)},_createUploadController:function(){var i=this,r={},n;r.ViewTemplate=$$WP.Templates.ProxySwitch.DropDownProxySelector;n=new $$WP.Upload.Models.UploadConfiguration(r);n.ConfigUrl=makeLink("ProxySwitch/ProxyPhotoUpload/GetFileUploadConfiguration");n.UploadUrl=makeLink("ProxySwitch/ProxyPhotoUpload/UploadFile");n.ConfirmationViewModel=i.modelData.CurrentlySelected;n.MasterController=i;n.ConfirmFunction=i._findExifAndShowConfirmationPopup;n.RefreshViewOverride=i._updateFileSelector;n.onUploadSuccess=i._refreshPage;n.onUploadFail=i._hideLoading;n.NeedsRedirect=t;n.RedirectTitle=i.strings.getString("photoUploadUnsavedChangesPopupTitle");n.RedirectHtml=i.strings.getString("photoUploadUnsavedChangesPopupText");n.UseGet=t;n.onConfigSucess=$.proxy(i._hidePhotoUploadIfInvalid,i);n.FromVBPage=t;i.uploadController=new $$WP.Upload.Controllers.UploadController($afe.select("#patientPhotoListItem"),n)},_hidePhotoUploadIfInvalid:function(){var n=this;(!n.uploadController._settings.AllowedImageAndDocumentExtensions||n.uploadController._settings.AllowedImageAndDocumentExtensions.length<1)&&(n.modelData.resetPhotoUploadToFalse(),n.$switchRoot.empty(),n._render())},_updateFileSelector:function(n){var i="#patientPhotoFileInput";n&&n._settings&&Array.isArray(n._settings.AllowedImageAndDocumentExtensions)&&($afe.select(i).replaceWith($afe.select(i)).val("").clone(t),$afe.select(i).safeAttr("accept","image/"+n._settings.AllowedImageAndDocumentExtensions.join(",image/")))},_refreshPage:function(){$$WPUtil.ShowAjaxSpinner($afe.select(".ajaxspinner"));$$WPUtil.TryRedirect(makeLink("inside.asp?mode=HttpModule&State="+self.location.pathname.substring(WP.myPath.length)+encodeURIComponent(self.location.search)+"&RebuildMenu=1"))},_hideLoading:function(){$$WPUtil.HideAjaxSpinner($afe.select(u))},_findExifAndShowConfirmationPopup:function(n,t,i,r){var u={};u.viewModel=t;u.successCallback=i;u.uploadController=r;u.inpFile=n;this._getExifTag(n,this._showPhotoConfirmationPopup.bind(this),u)},_showPhotoConfirmationPopup:function(i,r){var f=i.inpFile,e=i.viewModel,o=i.successCallback,s=i.uploadController;r||f.name.toLowerCase().indexOf(".tif",f.name.length-5)!==-1?(formData=new FormData,formData.append("__file__[]",f),$$WPUtil.ShowAjaxSpinner($afe.select(u)),$.ajax({dataType:"json",type:"POST",processData:n,contentType:n,url:makeLink("ProxySwitch/ProxyPhotoUpload/ConvertToJpegRemoveExif"),data:formData}).done($.proxy(function(n){$$WPUtil.HideAjaxSpinner($afe.select(u));this._showPhotoConfirmationCore(t,f,e,o,s,n.bytes);this},this))):this._showPhotoConfirmationCore(n,f,e,o,s)},_getExifTag:function(t,i,r){var u=new FileReader;u.onload=function(t){var e=this,f=new DataView(t.target.result),l,u,c,s,a,h,v,o;if(f.getUint16(0)!=65496)return i(r,n);for(l=f.byteLength,u=2;u<l;){if(e._safeGetUint(f,u+2,16,n)<=8)return i(r,n);if(c=e._safeGetUint(f,u,16,n),u+=2,c==65505){if(e._safeGetUint(f,u+=2,32,n)!=1165519206)return i(r,n);if(s=e._safeGetUint(f,u+=6,16,n)==18761,o=e._safeGetUint(f,u+4,32,s),o===-1)break;for(u+=o,a=e._safeGetUint(f,u,16,s),u+=2,h=0;h<a;h++)if(e._safeGetUint(f,u+h*12,16,s)==274)return v=e._safeGetUint(f,u+h*12+8,16,s),i(r,v>=2)}else if((c&65280)!=65280)break;else{if(o=e._safeGetUint(f,u,16,n),o===-1)break;u+=o}}return i(r,n)}.bind(this);u.readAsArrayBuffer(t)},_safeGetUint:function(n,t,i,r){try{return i===16?n.getUint16(t,r):n.getUint32(t,r)}catch(u){return-1}},_showPhotoConfirmationCore:function(n,r,f,e,o,s){var y="#proxyPhotoPreview",p="ServiceAreas",w="@MYCHART@ALLOWEDAREAS@",b="@MYCHART@PHOTO_FILENAME@",k="@MYCHART@SUBJECT_PATIENTNAME@",h=this,l,d,a,v,g,nt,tt,c;return h.strings.addMnemonic(k,h.modelData.CurrentlySelected.DisplayName),h.strings.addMnemonic(b,r.name,$$WP.Strings.EncodingTypes.None),h.strings.addMnemonic(w,h.modelData.CurrentlySelected.ServiceAreaAbbreviationList,$$WP.Strings.EncodingTypes.None),d=[new $$WPComp.ComplexObjects.Button(h.strings.getString("photoConfirmationPopupAcceptButton"),i,"nextstep","continue"),new $$WPComp.ComplexObjects.Button(h.strings.getString("photoConfirmationPopupCancelButton"),i,"inlinedelete","stop")],h.modelData.CurrentlySelected.IsSelf?(l=h.uploadController._settings.IsPhotoForPatientsChart?"photoUploadConfirmationSelf":"photoUploadConfirmationSelfMyChartOnly",a=h.uploadController._settings.IsPhotoForPatientsChart?"photoUploadScreenReaderConfirmationSelf":"photoUploadScreenReaderConfirmationSelfMyChartOnly"):(l=h.uploadController._settings.IsPhotoForPatientsChart?"photoUploadConfirmationSubject":"photoUploadConfirmationSubjectMyChartOnly",a=h.uploadController._settings.IsPhotoForPatientsChart?"photoUploadScreenReaderConfirmationSubject":"photoUploadScreenReaderConfirmationSubjectMyChartOnly"),h.modelData.CurrentlySelected.ServiceAreaAbbreviationList&&(l+=p,a=p),v=h.strings.getString(l),g=h.strings.getString(a),h.strings.removeMnemonic(k),h.strings.removeMnemonic(b),h.strings.removeMnemonic(w),v="<span id='proxyPhotoPreview' class='largePhoto'><\/span>  <span class='clearlabel'>"+g+"<\/span><span aria-hidden='true'>"+v+"<\/span> ",nt=h.strings.getString("UploadingPhoto"),c=URL.createObjectURL(r),f.PhotoUrl=c,$$WPUtil.quickMessageBox(v,h.strings.getString("uploadPhotoTitle"),d,function(n,t,i,r,f,e){(URL.revokeObjectURL(r),e==="toolbarcontinue")&&($$WPUtil.ShowAjaxSpinner($afe.select(u)),t.call(n,i))},[o,e,r,c,nt],"photoUploadConfirmationComponent"),n&&(tt=new Blob([new Uint8Array(s)],{type:"image/jpeg"}),c=URL.createObjectURL(tt),f.PhotoUrl=c),$afe.select(y).safeAppend($afe.renderTemplate($$WP.Templates.ProxySwitch.PatientRoundIcon,f)),$afe.select(y).safeAttr("aria-label",r.name),h._updateFileSelector(h.uploadController),t},_handleKeydown:function(i){var u=this,f;if(!u.modelData.IsGuest){if(f=n,!u.modelData.ShowDropDown===t&&(i.keyCode===u.keyCode.SPACE||i.keyCode===u.keyCode.RETURN)){$$WPUtil.TryRedirect(makeLink("Home"));return}switch(i.keyCode){case u.keyCode.SPACE:case u.keyCode.RETURN:u.popupMenuController&&(u.openProxyDropdown(),u.popupMenuController.setFocusToFirstItem());f=t;break;case u.keyCode.ESC:u.popupMenuController&&u.$menuButton.safeAttr(r)===o&&(u.closeProxyDropdown(),f=t)}f&&(i.stopPropagation(),i.preventDefault())}},_handleClick:function(){var i=this;i.modelData.IsGuest||(!i.modelData.ShowDropDown===t&&$$WPUtil.TryRedirect(makeLink("Home")),i.dontReopen&&(i.dontReopen=n),i.$menuButton.safeAttr(r)===o?i.closeProxyDropdown():(i.openProxyDropdown(),i.popupMenuController.setFocusToFirstItem()))},openProxyDropdown:function(){var n=this,i,u;+new Date-n.lastCloseTime<250||(n._onResize(),n.$switchRoot.addClass(l),n.$menuButton.safeAttr(r,o),$afe.select(c).fadeIn("fast"),n.__setAriaHiddenForPage(t),i=$afe.select("body"),window.innerWidth>1024&&i.css(h,-$$WPUtil.getScrollTop()),u=i.css(f),$$WP.Utilities.UI.ToggleBodyScrolling(t),i.css(f,u),$afe.select("#proxyList")[0].scrollTop=0)},closeProxyDropdown:function(){var t=this,i,u;t.$switchRoot.removeClass(l);t.$menuButton.safeAttr(r,"false");i=$afe.select("body");u=-parseInt(i.css(h));$afe.select(c).fadeOut("fast");$$WP.Utilities.UI.ToggleBodyScrolling(n);window.innerWidth>1024&&(i.css(h,""),$$WPUtil.setScrollTop(u));t.lastCloseTime=+new Date;t.__setAriaHiddenForPage(n);i.css(f,"")},__setAriaHiddenForPage:function(n){$afe.select("#footer").safeAttr(e,n);$afe.select("#content").safeAttr(e,n);$afe.select("#toastWrapper").safeAttr(e,n)}};s.prototype=a;$$WP.ProxySwitch.Controllers.ProxySelectorController=s;s.extend($$WP.Controllers.Controller,"WP$ProxySwitch$Controllers$ProxySelectorController")}(),function(){var n=null,t,i;$$WP.Utilities.guaranteeExistence($$WP,"ProxySwitch.Controllers");t=function(n,t){var i=this,r,u;i.$root=n;i.parentController=t;i.menuitems=[];childElements=i.$root.find("li");r=i;childElements.each(function(n,t){t.children.length<1||(menuElement=t.children[0],menuElement&&menuElement.tagName.toUpperCase()==="A")&&(r.menuitems.push(menuElement),menuElement.onclick=r._handleClick.bind(r,menuElement),t.onkeydown=r._handleKeydown.bind(r,t))});u=i.menuitems.length;u>0&&(i.firstItem=i.menuitems[0],i.lastItem=i.menuitems[u-1]);i.keyCode={TAB:9,RETURN:13,ESC:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40}};i={$root:n,parentController:n,menuitems:n,firstChars:n,firstItem:n,lastItem:n,hasFocus:!1,currentItem:n,setFocusToController:function(){this.parentController.$menuButton.focus()},setFocusToFirstItem:function(){this.firstItem.focus();this.currentItem=this.firstItem},setFocusToLastItem:function(){this.lastItem.focus();this.currentItem=this.lastItem},setFocusToPreviousItem:function(){var n=this,t;n.currentItem===n.firstItem?n.setFocusToLastItem():(t=n.menuitems.indexOf(n.currentItem),n.menuitems[t-1].focus(),n.currentItem=n.menuitems[t-1])},setFocusToNextItem:function(){var n=this,t;n.currentItem===n.lastItem?n.setFocusToFirstItem():(t=n.menuitems.indexOf(n.currentItem),n.menuitems[t+1].focus(),n.currentItem=n.menuitems[t+1])},_removeLinks:function(n){this.menuitems.forEach(function(t){t.href!==n&&(t.href="#")})},_handleClick:function(n,t){n.dataset.closedropdown==="true"?(this.setFocusToController(),this.parentController.closeProxyDropdown(),t.stopImmediatePropagation()):n.href&&n.href!=="#"&&n.dataset.switchpatients==="true"&&$$WPUtil.SafeToRedirect(function(t){var i="#itemFeedContainer a",r=".proxySubjectLink";t&&($$WPUtil.TryRedirect(n.href),$afe.select(r).removeAttr("href"),$afe.select(r).removeAttr("onclick"),$afe.select(i).removeAttr("href"),$afe.select(i).removeAttr("onclick"))})},_handleKeydown:function(n,t){var u=!0,i=this,r=!1;if(!t.ctrlKey&&!t.altKey&&!t.metaKey){if(t.shiftKey)t.keyCode===i.keyCode.TAB&&(i.setFocusToPreviousItem(i),r=u);else switch(t.keyCode){case i.keyCode.ESC:i.setFocusToController();i.parentController.closeProxyDropdown();return;case i.keyCode.UP:i.setFocusToPreviousItem(i);r=u;break;case i.keyCode.DOWN:case i.keyCode.TAB:i.setFocusToNextItem(i);r=u;break;case i.keyCode.HOME:case i.keyCode.PAGEUP:i.setFocusToFirstItem();r=u;break;case i.keyCode.END:case i.keyCode.PAGEDOWN:i.setFocusToLastItem();r=u;break;case i.keyCode.RETURN:case i.keyCode.SPACE:n.firstElementChild.click();r=u}r&&(t.stopPropagation(),t.preventDefault())}}};t.prototype=i;$$WP.ProxySwitch.Controllers.ProxyPopupMenuController=t;t.extend($$WP.Controllers.Controller,"WP$ProxySwitch$Controllers$ProxyPopupMenuController")}(),function(){var w="continue",b="previousstep",c="model-id",k="keypress",l="[data-function='edit-label-input']",a="click",v="[data-function='upload']",y="hover",d="FileNotAcceptedPopupAnotherUploadErrorText",s="function",g="FileNotAcceptedPopupWrongExtensionErrorText",f="FileNotAcceptedPopupButtonText",e="FileNotAcceptedPopupHeaderText",t=!0,p="json",o="POST",n=null,i=!1,nt="DocumentId",h;$$WP.Utilities.guaranteeExistence($$WP,"Upload.Controllers");h=function(n,t,r,u,f){var e=this,o;if(e.WP$Controllers$Controller(),e._viewContainer$=n,e._documentCollection=new $$WP.Common.ModelCollection([{propertyNames:nt,storeAs:"single"}],[],[]),e._isConfigLoaded=i,e._settings=t,e._documentModelClass=u||$$WP.Upload.Models.Document,e.__afterRefreshView=f,r&&r.length>0)for(o=0;o<r.length;++o)e._documentCollection.add(new e._documentModelClass(r[o]));e.__pendingUploadFiles=[];e.proxify("_onAddButtonClicked","_onRemoveButtonClicked","_uploadFile","_onFileNameEdited","__onDropFiles","__onDragEnter","__onDragLeave","_onFileNameInputKeyPressed","_onViewButtonClicked");e._getConfig();e._refreshView();e._attachEventHandlers()};h.prototype={_viewContainer$:n,_settings:n,_documentCollection:n,_documentModelClass:n,__afterRefreshView:n,_isConfigLoaded:n,_getConfig:function(){var n=this,r;n._settings.ConfigUrl?(n._isConfigLoaded=i,n.__isFunction(n._settings.onConfigStart)&&n._settings.onConfigStart(),r=n._settings.UseGet?"GET":o,$.ajax({type:r,dataType:p,data:$$WPUtil.postify(n._settings.ContextData),url:n._settings.ConfigUrl}).done($.proxy(n.__onConfigSuccess,n)).fail($.proxy(n.__onConfigFail,n))):n._isConfigLoaded=t},__onConfigSuccess:function(n){var i=this,r;if(n.Success){if(i._isConfigLoaded=t,r=new $$WP.Upload.Models.UploadConfiguration(n.Data),i._settings.AllowedExtensions=r.AllowedExtensions,i._settings.AllowedImageAndDocumentExtensions=r.AllowedImageAndDocumentExtensions,i._settings.AllowedVideoExtensions=r.AllowedVideoExtensions,i._settings.MaxAllowedImageSize=r.MaxAllowedImageSize,i._settings.MaxAllowedVideoSize=r.MaxAllowedVideoSize,i._settings.MaxFilesAllowed=r.MaxFilesAllowed,i._settings.IsPhotoForPatientsChart=r.IsPhotoForPatientsChart,i._refreshView(),i.__isFunction(i._settings.onConfigSucess))i._settings.onConfigSucess(i._settings,n.Data)}else i.__onConfigFail(n)},__onConfigFail:function(n){this._handleCommunicationFail(u.GetConfig,n)},__pendingUploadFiles:n,_uploadFile:function(){var n=this._viewContainer$.find(".upload-input[data-function='upload-core']"),t=n.prop("files");this.__uploadFileCore(t)},__uploadFileCore:function(n){var t=this,i,u;if(t._settings.MaxFilesAllowed<t._documentCollection.Models.length+n.length){t.__isFunction(t._settings.onUploadFail)&&t._settings.onUploadFail();t._showErrorMessage("FileNotAcceptedPopupTooManyFilesErrorText",e,f);return}for(i=0;i<n.length;++i)if(u=t._settings.IsFileAceptable(n[i].name,n[i].size),u!==0){t.__isFunction(t._settings.onUploadFail)&&t._settings.onUploadFail();switch(u){case 1:t._showErrorMessage(g,e,f);break;case 2:t._settings.MaxAllowedImageSize>=1024?t._showErrorMessage("FileNotAcceptedPopupLargeImageErrorText",e,f):t._showErrorMessage("FileNotAcceptedPopupLargeImageErrorTextKb",e,f);break;case 3:t._showErrorMessage("FileNotAcceptedPopupLargeVideoErrorText",e,f)}return}if(r)t._showErrorMessage(d,e,f);else{for(i=0;i<n.length;++i)typeof t._settings.ConfirmFunction===s?t._settings.ConfirmFunction.call(t._settings.MasterController,n[i],t._settings.ConfirmationViewModel,t.__pushToPending,t):t.__pendingUploadFiles.push(n[i]);t._settings.ConfirmFunction||t.__flushUploadQueue()}},__pushToPending:function(n){this.__pendingUploadFiles.push(n);this.__flushUploadQueue()},__flushUploadQueue:function(){var n=this,s=(n.__pendingUploadFiles||[]).length,e,f,u;if(s===0){r=i;n._refreshView(t);return}n.__isFunction(n._settings.onUploadStart)&&n._settings.onUploadStart();r=t;n._refreshView(t);e=n.__pendingUploadFiles.shift();f=new FormData;f.append("__file__[]",e);n._serializeContextToFormData(f,n._settings.ContextData);n._settings.FromVBPage?(u=n,getCSRFTokenAsQS(function(){$.ajax({type:o,processData:i,contentType:i,data:f,url:u._settings.UploadUrl,suppressEpicDefaultAjaxErrorHandler:t}).done($.proxy(u.__onUploadSuccess,u)).fail($.proxy(u.__onUploadFail,u))})):$.ajax({type:o,processData:i,contentType:i,data:f,url:n._settings.UploadUrl,suppressEpicDefaultAjaxErrorHandler:t}).done($.proxy(n.__onUploadSuccess,n)).fail($.proxy(n.__onUploadFail,n))},__onUploadSuccess:function(n){var t=this,i,u,r;if(n.Success){for(r=[],u=(n.Data||[]).length,i=0;i<u;++i)r.push(new t._documentModelClass(n.Data[i]));if(t._documentCollection.addRange(r),t._refreshView(),t.__isFunction(t._settings.onUploadSuccess))t._settings.onUploadSuccess(r,n);t._viewContainer$.find("[name^='name-field']").last().focus();t.__flushUploadQueue()}else t.__onUploadFail(n)},__onUploadFail:function(n){var f=this;r=i;f.__isFunction(f._settings.onUploadFail)&&f._settings.onUploadFail();f.__pendingUploadFiles=[];f._refreshView(t);f._handleCommunicationFail(u.UploadFile,n)},_editFileName:function(n){var t=this,i=n.toRawObject()||{};i.ContextData=t._settings.ContextData;t.__isFunction(t._settings.onEditStart)&&t._settings.onEditStart();$.ajax({type:o,url:t._settings.EditUrl,data:$$WPUtil.postify(i),dataType:p}).done($.proxy(t._editFileNameSuccess,t)).fail($.proxy(t.__editFileNameFail,t))},_editFileNameSuccess:function(n){var t=this,i;if(n.Success){if(i=t._documentCollection.getFirstInIndex(nt,n.Data.DocumentId),t.__isFunction(t._settings.onEditSuccess))t._settings.onEditSuccess(i,n)}else t.__editFileNameFail(n)},__editFileNameFail:function(n){this._handleCommunicationFail(u.EditFileName,n)},_deleteFile:function(n){var t=this,i=n.toRawObject()||{};i.ContextData=t._settings.ContextData;t.__isFunction(t._settings.onDeleteStart)&&t._settings.onDeleteStart();$.ajax({dataType:p,type:o,url:t._settings.DeleteUrl,data:$$WPUtil.postify(i)}).done($.proxy(t.__deleteSuccess,t,n)).fail($.proxy(t.__deleteFail,t))},__deleteSuccess:function(n,t){var r=".addItem a",i=this;if(t.Success){if(n&&(i._documentCollection.remove(n),i._refreshView(),i._viewContainer$.find(r).focus(),i._viewContainer$.find(r).parent().addClass(y),i.__isFunction(i._settings.onDeleteSuccess)))i._settings.onDeleteSuccess(n,t)}else i.__deleteFail(t)},__deleteFail:function(n){this._handleCommunicationFail(u.DeleteFile,n)},_refreshView:function(n){var t=this,u;if(typeof t._settings.RefreshViewOverride===s){t._settings.RefreshViewOverride.call(t,t);return}u={Configuration:t._settings,IsCurrentlyUploading:r,IsLimitReached:t._documentCollection.Models.length>=t._settings.MaxFilesAllowed,IsConfigLoading:t._isConfigLoaded===i,CanUpload:!r&&t._documentCollection.Models.length<t._settings.MaxFilesAllowed&&t._isConfigLoaded};$$WP.Strings.setDefaultNamespace(t._settings.DefaultStringNamespace);u.Documents=t._documentCollection.Models;n?t._viewContainer$.find(".upload-addFile").safeReplaceWith($afe.renderTemplate(t._settings.UploadCardTemplate,u)):t._viewContainer$.empty().safeAppend($afe.renderTemplate(t._settings.ViewTemplate,u));$$WP.Strings.clearDefaultNamespace();t._viewContainer$.find(".cardlist").trigger("cardLoad");typeof t.__afterRefreshView===s&&t.__afterRefreshView()},_attachEventHandlers:function(){var t="[data-dragregion]",n=this;n.__isFunction(n._settings.AttachContainerEventHandlers)&&n._settings.AttachContainerEventHandlers();n.__isFunction(n._settings.AttachFileCardEventHandlers)&&n._settings.AttachFileCardEventHandlers();n._viewContainer$.on("click keypress",v,n._onAddButtonClicked);n._viewContainer$.on(a,"[data-function='remove']",n._onRemoveButtonClicked);n._viewContainer$.on(a,"[data-function='view']",n._onViewButtonClicked);n._viewContainer$.on("change","[data-function='upload-core']",n._uploadFile);n._viewContainer$.on("blur",l,n._onFileNameEdited);n._viewContainer$.on(k,l,n._onFileNameInputKeyPressed);n._viewContainer$.on("dragover drop dragenter dragleave dragstart dragend",t,function(n){n.stopPropagation();n.preventDefault()});n._viewContainer$.on("dragover",t,function(n){n.originalEvent.dataTransfer.dropEffect="copy"});n._viewContainer$.on("drop",t,n.__onDropFiles);n._viewContainer$.on("dragover dragenter",t,n.__onDragEnter);n._viewContainer$.on("dragleave dragend",t,n.__onDragLeave)},__onDropFiles:function(n){var t=n.originalEvent.dataTransfer.files||[];this.__uploadFileCore(t)},__onDragEnter:function(){this._viewContainer$.find(v).addClass(y)},__onDragLeave:function(){this._viewContainer$.find(v).removeClass(y)},_onFileNameEdited:function(t){var f=$afe.jq(t.target).closest("input"),r=(f.val()||"").trim(),i=$$WP.Common.Model.getInstance(f.data(c)),u;r.length>0&&r.length<=100&&i&&r!==i.FileDisplayName?(i.FileDisplayName=r,this._editFileName(i),this._refreshView(),t.relatedTarget&&t.relatedTarget.value&&t.relatedTarget.dataset.modelId&&t.relatedTarget.dataset.modelId&&(u=this._viewContainer$.find(".upload--document-card [data-model-id='"+t.relatedTarget.dataset.modelId+"'][value='"+t.relatedTarget.value+"']").first()[0]),u&&u.value==t.relatedTarget.value?u.focus():t.relatedTarget!=n&&t.relatedTarget.focus()):f.val(i.FileDisplayName)},_onFileNameInputKeyPressed:function(n){var t=n.which||n.keyCode;t===13&&(n.stopPropagation(),this._viewContainer$.find(l).trigger("blur"))},_onAddButtonClicked:function(t){var u="Upload",i=this;if(t.type!==k||t.keyCode===13){if(t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault(),r){new $$WPUtil.quickMessageBox($$WP.Strings.get(d,u),$$WP.Strings.get(e,u),[new $$WPComp.ComplexObjects.Button($$WP.Strings.get(f,u),n,b,w)]);return}i._settings.NeedsRedirect?($$WPUtil.SafeToRedirectOverrideSettings={TitleText:i._settings.RedirectTitle,Html:i._settings.RedirectHtml},$$WPUtil.SafeToRedirect($.proxy(i._continueUpload,i))):i._triggerInputClick()}},_triggerInputClick:function(){this._viewContainer$.find("input[type='file'][data-function='upload-core']").trigger(a)},_continueUpload:function(n){($$WPUtil.SafeToRedirectOverrideSettings={},n)&&this._triggerInputClick()},_onRemoveButtonClicked:function(t){var i="@MYCHART@DOCUMENTNAME@",f=$afe.jq(t.target),r=$$WP.Common.Model.getInstance(f.data(c)),u;$$WP.Strings.setDefaultNamespace(this._settings.DefaultStringNamespace);$$WP.Strings.addMnemonic(i,r.FileDisplayName);u=[new $$WPComp.ComplexObjects.Button($$WP.Strings.get("DocumentRemovePopupRemoveButtonText"),n,"inlinedelete","remove"),new $$WPComp.ComplexObjects.Button($$WP.Strings.get("DocumentRemovePopupGoBackButtonText"),n,"cancel","cancel")];new $$WPUtil.quickMessageBox($$WP.Strings.get("DocumentRemovePopupDescriptionText"),$$WP.Strings.get("DocumentRemovePopupHeaderText"),u,$.proxy(this._onRemovePopupButtonClicked,this),[r]);$$WP.Strings.removeMnemonic(i);$$WP.Strings.clearDefaultNamespace()},_onRemovePopupButtonClicked:function(n,t){t===$$WPComp.TOOLBARIDENTIFIER+"remove"&&this._deleteFile(n)},_onViewButtonClicked:function(r){var o,u,f,s,e;r.stopPropagation();r.preventDefault();o=$afe.jq(r.target);u=$$WP.Common.Model.getInstance(o.data(c));$$WP.Utilities.UI.IsMobile&&!this._settings.FromBedside?(f=i,WP.Events.showBeforeUnloadMessage()&&(WP.Events.cancelBeforeUnload(),f=t),s="epichttp://attachment?dcsId="+encodeURIComponent(u.DocumentId)+"&dcsExt="+u.FileExtensionWithoutDot,window.location.assign(s),f&&WP.Events.beforeUnload()):(e=new $$WP.Documents.ViewDocument.Models.DocumentModel(n,{},encodeURIComponent(u.FileReference),encodeURIComponent(u.DocumentId),u.FileDisplayName,u.FileExtensionWithoutDot,n,n,n,n,n,n,n,n,n,n,encodeURIComponent(this._settings.ViewerCsn)),u.AllowPreview||(e.AllowPreview=i),e.openDocument("uploadWidget sm-autosizedpopup"))},getAllDocuments:function(){return this._documentCollection.Models},getDocumentCollection:function(){return this._documentCollection},getUploadContextData:function(){var t=n;return $$WPUtil.IsNullOrEmpty(this._settings)||(t=this._settings.ContextData),t},DeleteFile:function(n){this._deleteFile(n)},RefreshView:function(n){this._refreshView(n)},_serializeContextToFormData:function(n,t){var i;if(t)for(i in t)n.append(i,t[i])},_handleCommunicationFail:function(n,r){var f=this,e=t,o="";switch(n){case u.GetConfig:e=f.__isFunction(f._settings.onConfigFail)?f._settings.onConfigFail(r):t;o="ServerErrorPopupDescriptionGetConfigFailedText";break;case u.UploadFile:e=f.__isFunction(f._settings.onUploadFail)?f._settings.onUploadFail(r):t;o="ServerErrorPopupDescriptionUploadFileFailedText";break;case u.EditFileName:e=f.__isFunction(f._settings.onEditFail)?f._settings.onEditFail(r):t;o="ServerErrorPopupDescriptionEditFileFailedText";break;case u.DeleteFile:e=f.__isFunction(f._settings.onDeleteFail)?f._settings.onDeleteFail(r):t;o="ServerErrorPopupDescriptionDeleteFileFailedText"}e!==i&&f._showErrorMessage(o,"ServerErrorPopupHeaderText","ServerErrorPopupButtonText")},_showErrorMessage:function(t,i,r){var f="@MYCHART@ALLOWEDVIDEOSIZE@",e="@MYCHART@ALLOWEDIMAGESIZEKB@",o="@MYCHART@ALLOWEDIMAGESIZE@",s="@MYCHART@ALLOWEDEXTENSIONS@",h="@MYCHART@MAXUPLOADS@",u=this;$$WP.Strings.setDefaultNamespace(u._settings.DefaultStringNamespace);$$WP.Strings.addMnemonic(h,u._settings.MaxFilesAllowed);$$WP.Strings.addMnemonic(s,u._settings.AllowedExtensions.join(", "));$$WP.Strings.addMnemonic(o,Math.floor(u._settings.MaxAllowedImageSize*10/1024)/10);$$WP.Strings.addMnemonic(e,u._settings.MaxAllowedImageSize);$$WP.Strings.addMnemonic(f,Math.floor(u._settings.MaxAllowedVideoSize*10/1024)/10);t==g&&u._settings.AllowedExtensions.length==0&&(t="FileNotAcceptedPopupWrongExtensionErrorTextNoExtensions");new $$WPUtil.quickMessageBox($$WP.Strings.get(t),$$WP.Strings.get(i),[new $$WPComp.ComplexObjects.Button($$WP.Strings.get(r),n,b,w)],function(){var n=this._viewContainer$.find(".upload-addFile a");n[0]&&n[0].focus()}.bind(u),[]);$$WP.Strings.removeMnemonic(f);$$WP.Strings.removeMnemonic(o);$$WP.Strings.removeMnemonic(e);$$WP.Strings.removeMnemonic(s);$$WP.Strings.removeMnemonic(h);$$WP.Strings.clearDefaultNamespace();u._refreshView()},__isFunction:function(n){return n&&typeof n===s}};var r=i,u={GetConfig:1,UploadFile:2,EditFileName:3,DeleteFile:4},tt=function(){return r};$$WP.Upload.Controllers.UploadController=h;$$WP.Upload.Controllers.IsCurrentlyUploading=tt;h.extend($$WP.Controllers.Controller,"$$WP$Upload$Controllers$UploadController")}(),function(){var u="referenceSvg",f='" title="',e="makeLink",i="function",t="getStringResource",n=null,o=Handlebars.template,r=$$WP.Templates=$$WP.Templates||{};r=r.Core=r.Core||{};r.Header=o({compiler:[7,">= 4.0.0"],main:function(r,u,f,e,o){var a="MyChartByEpicAlt",v="makeStaticLink",y="images/MyChartByEpic.svg",h,s,c,l=r.escapeExpression((f.setStringNamespace||u&&u.setStringNamespace||f.helperMissing).call(u!=n?u:r.nullContext||{},"Shared._AfterLoginLayout",{name:"setStringNamespace",hash:{},data:o}))+'<a href="#main" class="noprint" id="skipToMain">'+r.escapeExpression((f.getStringResource||u&&u.getStringResource||f.helperMissing).call(u!=n?u:r.nullContext||{},"SkipToMainText",{name:t,hash:{},data:o}))+"<\/a>";return h=(s=(s=f.ifPreloginOrGuest||(u!=n?u.ifPreloginOrGuest:u))!=n?s:f.helperMissing,c={name:"ifPreloginOrGuest",hash:{},fn:r.program(1,o,0),inverse:r.program(6,o,0),data:o},typeof s===i?s.call(u!=n?u:r.nullContext||{},c):s),f.ifPreloginOrGuest||(h=f.blockHelperMissing.call(u,h,c)),h!=n&&(l+=h),l+='<div id="header_extras"><div id="header_extras_actions"><div id="header_extras_actions_group"><div id="header_logo_by_epic" class="mychart_by_epic_logo"><img class="logo_image" src="'+r.escapeExpression((f.makeStaticLink||u&&u.makeStaticLink||f.helperMissing).call(u!=n?u:r.nullContext||{},y,{name:v,hash:{},data:o}))+'" alt="'+r.escapeExpression((f.getStringResource||u&&u.getStringResource||f.helperMissing).call(u!=n?u:r.nullContext||{},a,{name:t,hash:{},data:o}))+'" /><\/div><div id="locale_container"><\/div>',h=(s=(s=f.ifNotPrelogin||(u!=n?u.ifNotPrelogin:u))!=n?s:f.helperMissing,c={name:"ifNotPrelogin",hash:{},fn:r.program(8,o,0),inverse:r.noop,data:o},typeof s===i?s.call(u!=n?u:r.nullContext||{},c):s),f.ifNotPrelogin||(h=f.blockHelperMissing.call(u,h,c)),h!=n&&(l+=h),l+'<\/div><\/div><div id="header_right_side"><div id="header_covid_shortcut"><\/div><div id="header_extras_proxy"><div id="proxy_container"><div id="patient_name_switch"><\/div><\/div><\/div><\/div><div id="header_logo_by_epic_compact" class="mychart_by_epic_logo"><img class="logo_image" src="'+r.escapeExpression((f.makeStaticLink||u&&u.makeStaticLink||f.helperMissing).call(u!=n?u:r.nullContext||{},y,{name:v,hash:{},data:o}))+'" alt="'+r.escapeExpression((f.getStringResource||u&&u.getStringResource||f.helperMissing).call(u!=n?u:r.nullContext||{},a,{name:t,hash:{},data:o}))+'" /><\/div><\/div>'+r.escapeExpression((s=(s=f.clearStringNamespace||(u!=n?u.clearStringNamespace:u))!=n?s:f.helperMissing,typeof s===i?s.call(u!=n?u:r.nullContext||{},{name:"clearStringNamespace",hash:{},data:o}):s))},"1":function(t,r,u,f,e){var s,o,h,c='<div id="header_logo">';return s=(o=(o=u.ifPreLogin||(r!=n?r.ifPreLogin:r))!=n?o:u.helperMissing,h={name:"ifPreLogin",hash:{},fn:t.program(2,e,0),inverse:t.program(4,e,0),data:e},typeof o===i?o.call(r!=n?r:t.nullContext||{},h):o),u.ifPreLogin||(s=u.blockHelperMissing.call(r,s,h)),s!=n&&(c+=s),c+"<\/div>"},"2":function(i,r,u,o,s){return'<a href="'+i.escapeExpression((u.makeLink||r&&r.makeLink||u.helperMissing).call(r!=n?r:i.nullContext||{},"Authentication/Login",{name:e,hash:{},data:s}))+f+i.escapeExpression((u.getStringResource||r&&r.getStringResource||u.helperMissing).call(r!=n?r:i.nullContext||{},"BackToLoginText",{name:t,hash:{},data:s}))+'" class="header_logo_link"><\/a>'},"4":function(i,r,u,f,e){var o="GuestText";return'<span class="header_logo_link" role="img" title="'+i.escapeExpression((u.getStringResource||r&&r.getStringResource||u.helperMissing).call(r!=n?r:i.nullContext||{},o,{name:t,hash:{},data:e}))+'" aria-label="'+i.escapeExpression((u.getStringResource||r&&r.getStringResource||u.helperMissing).call(r!=n?r:i.nullContext||{},o,{name:t,hash:{},data:e}))+'"><\/span>'},"6":function(r,o,s,h,c){var l;return'<div id="header_logo"><a href="'+r.escapeExpression((s.makeLink||o&&o.makeLink||s.helperMissing).call(o!=n?o:r.nullContext||{},"Home",{name:e,hash:{},data:c}))+f+r.escapeExpression((s.getStringResource||o&&o.getStringResource||s.helperMissing).call(o!=n?o:r.nullContext||{},"BackToHomeText",{name:t,hash:{},data:c}))+'" class="header_logo_link"><\/a><\/div><nav id="header_navigation" aria-label="'+r.escapeExpression((s.getStringResource||o&&o.getStringResource||s.helperMissing).call(o!=n?o:r.nullContext||{},"MenuNavigatorLabel",{name:t,hash:{},data:c}))+'"><div id="header_menu" role="button" tabindex="0" aria-haspopup="true"><div id="header_menu_icon" class="proxybgcolor '+r.escapeExpression((l=(l=s.proxyColorClass||(o!=n?o.proxyColorClass:o))!=n?l:s.helperMissing,typeof l===i?l.call(o!=n?o:r.nullContext||{},{name:"proxyColorClass",hash:{},data:c}):l))+'"><svg aria-hidden="true" class="menu_image" focusable="false">'+r.escapeExpression((s.referenceSvg||o&&o.referenceSvg||s.helperMissing).call(o!=n?o:r.nullContext||{},"library.svg#header_menubutton",{name:u,hash:{},data:c}))+'<\/svg><\/div><span id="header_menu_name" class=""><\/span><\/div><ul id="header_shortcuts" role="list"><\/ul><\/nav>'},"8":function(t,r,f,e,o){var a="ifWorkflowRestricted",h,s,c,l='<div id="logout_container"><button id="logout_button" tabindex="0" role="button" aria-labelledby="logout_text" title="';return h=(s=(s=f.ifWorkflowRestricted||(r!=n?r.ifWorkflowRestricted:r))!=n?s:f.helperMissing,c={name:a,hash:{},fn:t.program(9,o,0),inverse:t.program(11,o,0),data:o},typeof s===i?s.call(r!=n?r:t.nullContext||{},c):s),f.ifWorkflowRestricted||(h=f.blockHelperMissing.call(r,h,c)),h!=n&&(l+=h),l+='"><svg id="logout_image" class="extra_action_image" aria-hidden="true" focusable="false">'+t.escapeExpression((f.referenceSvg||r&&r.referenceSvg||f.helperMissing).call(r!=n?r:t.nullContext||{},"library.svg#header_signout",{name:u,hash:{},data:o}))+'<\/svg><span id="logout_text">',h=(s=(s=f.ifWorkflowRestricted||(r!=n?r.ifWorkflowRestricted:r))!=n?s:f.helperMissing,c={name:a,hash:{},fn:t.program(9,o,0),inverse:t.program(11,o,0),data:o},typeof s===i?s.call(r!=n?r:t.nullContext||{},c):s),f.ifWorkflowRestricted||(h=f.blockHelperMissing.call(r,h,c)),h!=n&&(l+=h),l+"<\/span><\/button><\/div>"},"9":function(i,r,u,f,e){return i.escapeExpression((u.getStringResource||r&&r.getStringResource||u.helperMissing).call(r!=n?r:i.nullContext||{},"LogOutGuestButtonText",{name:t,hash:{},data:e}))},"11":function(i,r,u,f,e){return i.escapeExpression((u.getStringResource||r&&r.getStringResource||u.helperMissing).call(r!=n?r:i.nullContext||{},"LogOutButtonText",{name:t,hash:{},data:e}))},useData:!0})}(),function(){var n=null,i=Handlebars.template,t=$$WP.Templates=$$WP.Templates||{};t=t.Core=t.Core||{};t.HeaderShortcuts=i({compiler:[7,">= 4.0.0"],main:function(t,i,r,u,f){var e;return(e=r.each.call(i!=n?i:t.nullContext||{},i,{name:"each",hash:{},fn:t.program(1,f,0),inverse:t.noop,data:f}))!=n?e:""},"1":function(t,i,r,u,f){var o,e;return'<li class="shortcut" role="listitem"><a href="'+t.escapeExpression(t.lambda(i!=n?i.URL:i,i))+'" title="'+t.escapeExpression(t.lambda(i!=n?i.Name:i,i))+'" class="shortcut_link" '+((o=t.lambda(i!=n?i.DataAttributes:i,i))!=n?o:"")+'><svg class="shortcut_icon proxyfillcolor '+t.escapeExpression((e=(e=r.proxyColorClass||(i!=n?i.proxyColorClass:i))!=n?e:r.helperMissing,typeof e=="function"?e.call(i!=n?i:t.nullContext||{},{name:"proxyColorClass",hash:{},data:f}):e))+'" aria-hidden="true" focusable="false">'+t.escapeExpression((r.referenceSvg||i&&i.referenceSvg||r.helperMissing).call(i!=n?i:t.nullContext||{},i!=n?i.Icon:i,{name:"referenceSvg",hash:{},data:f}))+'<\/svg><span class="shortcut_name">'+t.escapeExpression(t.lambda(i!=n?i.Name:i,i))+"<\/span><\/a><\/li>"},useData:!0})}(),function(){var t=Handlebars.template,n=$$WP.Templates=$$WP.Templates||{};n=n.Core=n.Core||{};n.CovidShortcut=t({compiler:[7,">= 4.0.0"],main:function(n,t,i,r,u){var s="proxyColorClass",o="function",e=null,f;return n.escapeExpression((i.setStringNamespace||t&&t.setStringNamespace||i.helperMissing).call(t!=e?t:n.nullContext||{},"Navigation.Menu",{name:"setStringNamespace",hash:{},data:u}))+'<div id="covid_shortcut_contents" class="'+n.escapeExpression((f=(f=i.proxyColorClass||(t!=e?t.proxyColorClass:t))!=e?f:i.helperMissing,typeof f===o?f.call(t!=e?t:n.nullContext||{},{name:s,hash:{},data:u}):f))+'"><a href="'+n.escapeExpression((f=(f=i.Link||(t!=e?t.Link:t))!=e?f:i.helperMissing,typeof f===o?f.call(t!=e?t:n.nullContext||{},{name:"Link",hash:{},data:u}):f))+'" title="'+n.escapeExpression((i.getStringResource||t&&t.getStringResource||i.helperMissing).call(t!=e?t:n.nullContext||{},"CovidShorcutName",{name:"getStringResource",hash:{},data:u}))+'" class="shortcut_link"><svg class="shortcut_icon proxyfillcolor '+n.escapeExpression((f=(f=i.proxyColorClass||(t!=e?t.proxyColorClass:t))!=e?f:i.helperMissing,typeof f===o?f.call(t!=e?t:n.nullContext||{},{name:s,hash:{},data:u}):f))+'" aria-hidden="true" focusable="false">'+n.escapeExpression((i.referenceSvg||t&&t.referenceSvg||i.helperMissing).call(t!=e?t:n.nullContext||{},t!=e?t.Icon:t,{name:"referenceSvg",hash:{},data:u}))+"<\/svg><\/a><\/div>"+n.escapeExpression((f=(f=i.clearStringNamespace||(t!=e?t.clearStringNamespace:t))!=e?f:i.helperMissing,typeof f===o?f.call(t!=e?t:n.nullContext||{},{name:"clearStringNamespace",hash:{},data:u}):f))},useData:!0})}(),function(){var c='" class="',f="Id",u="Name",l="TextDirection",a='-container" class="menu-container jqHidden" dir="',e='">',v='" aria-hidden="true">',o="referenceSvg",r="if",i="MenuName",t="function",s='<div id="',n=null,y=Handlebars.template,h=$$WP.Templates=$$WP.Templates||{};h=h.Navigation=h.Navigation||{};h.Menu=y({compiler:[7,">= 4.0.0"],main:function(u,f,h,c,l){var b="MenuSearchInputPlaceholder",p="getStringResource",k="MenuCloseButtonLabel",d="SubjectColor",y,a,w,g=u.escapeExpression((h.setStringNamespace||f&&f.setStringNamespace||h.helperMissing).call(f!=n?f:u.nullContext||{},"Navigation.Menu",{name:"setStringNamespace",hash:{},data:l}))+s+u.escapeExpression((a=(a=h.MenuName||(f!=n?f.MenuName:f))!=n?a:h.helperMissing,typeof a===t?a.call(f!=n?f:u.nullContext||{},{name:i,hash:{},data:l}):a))+'-shield" class="jqHidden menu-shield"><\/div>'+((y=h[r].call(f!=n?f:u.nullContext||{},f!=n?f.IsNav:f,{name:r,hash:{},fn:u.program(1,l,0),inverse:u.program(3,l,0),data:l}))!=n?y:"")+s+u.escapeExpression((a=(a=h.MenuName||(f!=n?f.MenuName:f))!=n?a:h.helperMissing,typeof a===t?a.call(f!=n?f:u.nullContext||{},{name:i,hash:{},data:l}):a))+'-header" class="menu-header"><div id="'+u.escapeExpression((a=(a=h.MenuName||(f!=n?f.MenuName:f))!=n?a:h.helperMissing,typeof a===t?a.call(f!=n?f:u.nullContext||{},{name:i,hash:{},data:l}):a))+'-headertop" class="menu-headertop"><button id="'+u.escapeExpression((a=(a=h.MenuName||(f!=n?f.MenuName:f))!=n?a:h.helperMissing,typeof a===t?a.call(f!=n?f:u.nullContext||{},{name:i,hash:{},data:l}):a))+'-closebutton" class="proxybgcolor color'+u.escapeExpression((a=(a=h.SubjectColor||(f!=n?f.SubjectColor:f))!=n?a:h.helperMissing,typeof a===t?a.call(f!=n?f:u.nullContext||{},{name:d,hash:{},data:l}):a))+' menu-closebutton" aria-label="'+u.escapeExpression((h.getStringResource||f&&f.getStringResource||h.helperMissing).call(f!=n?f:u.nullContext||{},k,{name:p,hash:{},data:l}))+'" title="'+u.escapeExpression((h.getStringResource||f&&f.getStringResource||h.helperMissing).call(f!=n?f:u.nullContext||{},"MenuCloseButtonLabelVerbose",{name:p,hash:{},data:l}))+'"><svg focusable="false" class="menu-buttonicon" aria-hidden="true">'+u.escapeExpression((h.referenceSvg||f&&f.referenceSvg||h.helperMissing).call(f!=n?f:u.nullContext||{},"library.svg#back",{name:o,hash:{},data:l}))+'<\/svg><\/button><h1 id="'+u.escapeExpression((a=(a=h.MenuName||(f!=n?f.MenuName:f))!=n?a:h.helperMissing,typeof a===t?a.call(f!=n?f:u.nullContext||{},{name:i,hash:{},data:l}):a))+'-contextlabel" class="proxytextcolor color'+u.escapeExpression((a=(a=h.SubjectColor||(f!=n?f.SubjectColor:f))!=n?a:h.helperMissing,typeof a===t?a.call(f!=n?f:u.nullContext||{},{name:d,hash:{},data:l}):a))+' menu-contextlabel">'+u.escapeExpression((a=(a=h.MenuDisplayName||(f!=n?f.MenuDisplayName:f))!=n?a:h.helperMissing,typeof a===t?a.call(f!=n?f:u.nullContext||{},{name:"MenuDisplayName",hash:{},data:l}):a))+'<\/h1><\/div><div id="'+u.escapeExpression((a=(a=h.MenuName||(f!=n?f.MenuName:f))!=n?a:h.helperMissing,typeof a===t?a.call(f!=n?f:u.nullContext||{},{name:i,hash:{},data:l}):a))+'-searchcontainer" class="menu-searchcontainer"><button id="'+u.escapeExpression((a=(a=h.MenuName||(f!=n?f.MenuName:f))!=n?a:h.helperMissing,typeof a===t?a.call(f!=n?f:u.nullContext||{},{name:i,hash:{},data:l}):a))+'-responsiveclosebutton" class="';return y=(a=(a=h.ifiOS||(f!=n?f.ifiOS:f))!=n?a:h.helperMissing,w={name:"ifiOS",hash:{},fn:u.program(5,l,0),inverse:u.noop,data:l},typeof a===t?a.call(f!=n?f:u.nullContext||{},w):a),h.ifiOS||(y=h.blockHelperMissing.call(f,y,w)),y!=n&&(g+=y),g+' menu-responsiveclosebutton">'+u.escapeExpression((h.getDisplayString||f&&f.getDisplayString||h.helperMissing).call(f!=n?f:u.nullContext||{},k,{name:"getDisplayString",hash:{},data:l}))+'<\/button><div id="'+u.escapeExpression((a=(a=h.MenuName||(f!=n?f.MenuName:f))!=n?a:h.helperMissing,typeof a===t?a.call(f!=n?f:u.nullContext||{},{name:i,hash:{},data:l}):a))+'-searchbarcontainer" class="menu-searchbarcontainer"><svg focusable="false" class="menu-searchicon proxyfillcolor color'+u.escapeExpression(u.lambda((y=l&&l.root)&&y.SubjectColor,f))+v+u.escapeExpression((h.referenceSvg||f&&f.referenceSvg||h.helperMissing).call(f!=n?f:u.nullContext||{},"library.svg#menu_searchbar",{name:o,hash:{},data:l}))+'<\/svg><input aria-label="'+u.escapeExpression((h.getStringResource||f&&f.getStringResource||h.helperMissing).call(f!=n?f:u.nullContext||{},b,{name:p,hash:{},data:l}))+'" id="'+u.escapeExpression((a=(a=h.MenuName||(f!=n?f.MenuName:f))!=n?a:h.helperMissing,typeof a===t?a.call(f!=n?f:u.nullContext||{},{name:i,hash:{},data:l}):a))+'-searchbar" type="text" placeholder="'+u.escapeExpression((h.getStringResource||f&&f.getStringResource||h.helperMissing).call(f!=n?f:u.nullContext||{},b,{name:p,hash:{},data:l}))+'" autocomplete="off"  class="menu-searchbar" data-permissive="true"><button id="'+u.escapeExpression((a=(a=h.MenuName||(f!=n?f.MenuName:f))!=n?a:h.helperMissing,typeof a===t?a.call(f!=n?f:u.nullContext||{},{name:i,hash:{},data:l}):a))+'-searchemptybutton" type ="button" class="jqHidden menu-searchemptybutton" aria-label="'+u.escapeExpression((h.getStringResource||f&&f.getStringResource||h.helperMissing).call(f!=n?f:u.nullContext||{},"MenuSearchEmptyButtonLabel",{name:p,hash:{},data:l}))+'"><svg focusable="false" id="'+u.escapeExpression((a=(a=h.MenuName||(f!=n?f.MenuName:f))!=n?a:h.helperMissing,typeof a===t?a.call(f!=n?f:u.nullContext||{},{name:i,hash:{},data:l}):a))+'-searchemptyicon" class="menu-searchemptyicon" aria-hidden="true">'+u.escapeExpression((h.referenceSvg||f&&f.referenceSvg||h.helperMissing).call(f!=n?f:u.nullContext||{},"library.svg#menu_clearsearch",{name:o,hash:{},data:l}))+'<\/svg><\/button><\/div><\/div><\/div><div id="'+u.escapeExpression((a=(a=h.MenuName||(f!=n?f.MenuName:f))!=n?a:h.helperMissing,typeof a===t?a.call(f!=n?f:u.nullContext||{},{name:i,hash:{},data:l}):a))+'-searchlist" class="jqHidden menu-searchlist"><\/div><ul id="'+u.escapeExpression((a=(a=h.MenuName||(f!=n?f.MenuName:f))!=n?a:h.helperMissing,typeof a===t?a.call(f!=n?f:u.nullContext||{},{name:i,hash:{},data:l}):a))+'-list" class="menu-mainmenulist jqHidden " aria-label="'+u.escapeExpression((h.getStringResource||f&&f.getStringResource||h.helperMissing).call(f!=n?f:u.nullContext||{},"MenuMainContentLabel",{name:p,hash:{},data:l}))+e+((y=h.each.call(f!=n?f:u.nullContext||{},f!=n?f.Submenus:f,{name:"each",hash:{},fn:u.program(7,l,0),inverse:u.noop,data:l}))!=n?y:"")+"<\/ul><\/div>"+((y=h[r].call(f!=n?f:u.nullContext||{},f!=n?f.IsNav:f,{name:r,hash:{},fn:u.program(17,l,0),inverse:u.program(19,l,0),data:l}))!=n?y:"")+u.escapeExpression((a=(a=h.clearStringNamespace||(f!=n?f.clearStringNamespace:f))!=n?a:h.helperMissing,typeof a===t?a.call(f!=n?f:u.nullContext||{},{name:"clearStringNamespace",hash:{},data:l}):a))},"1":function(r,u,f,e,o){var s;return'<nav id="'+r.escapeExpression((s=(s=f.MenuName||(u!=n?u.MenuName:u))!=n?s:f.helperMissing,typeof s===t?s.call(u!=n?u:r.nullContext||{},{name:i,hash:{},data:o}):s))+a+r.escapeExpression((s=(s=f.TextDirection||(u!=n?u.TextDirection:u))!=n?s:f.helperMissing,typeof s===t?s.call(u!=n?u:r.nullContext||{},{name:l,hash:{},data:o}):s))+'"><div class="menu-flexparent" role="dialog" aria-labelledby="'+r.escapeExpression((s=(s=f.MenuName||(u!=n?u.MenuName:u))!=n?s:f.helperMissing,typeof s===t?s.call(u!=n?u:r.nullContext||{},{name:i,hash:{},data:o}):s))+'-contextlabel">'},"3":function(r,u,f,e,o){var h;return s+r.escapeExpression((h=(h=f.MenuName||(u!=n?u.MenuName:u))!=n?h:f.helperMissing,typeof h===t?h.call(u!=n?u:r.nullContext||{},{name:i,hash:{},data:o}):h))+a+r.escapeExpression((h=(h=f.TextDirection||(u!=n?u.TextDirection:u))!=n?h:f.helperMissing,typeof h===t?h.call(u!=n?u:r.nullContext||{},{name:l,hash:{},data:o}):h))+'"><div class="menu-flexparent">'},"5":function(){return"iOS"},"7":function(i,r,f,o,s){var c,h;return'<li class="submenu"><h2 class="submenu-header proxybgcolor color'+i.escapeExpression(i.lambda((c=s&&s.root)&&c.SubjectColor,r))+' lighten70" title="'+i.escapeExpression((h=(h=f.Name||(r!=n?r.Name:r))!=n?h:f.helperMissing,typeof h===t?h.call(r!=n?r:i.nullContext||{},{name:u,hash:{},data:s}):h))+e+i.escapeExpression((h=(h=f.Name||(r!=n?r.Name:r))!=n?h:f.helperMissing,typeof h===t?h.call(r!=n?r:i.nullContext||{},{name:u,hash:{},data:s}):h))+'<\/h2><ul aria-label="'+i.escapeExpression((h=(h=f.Name||(r!=n?r.Name:r))!=n?h:f.helperMissing,typeof h===t?h.call(r!=n?r:i.nullContext||{},{name:u,hash:{},data:s}):h))+e+((c=f.each.call(r!=n?r:i.nullContext||{},r!=n?r.MenuItems:r,{name:"each",hash:{},fn:i.program(8,s,0),inverse:i.noop,data:s}))!=n?c:"")+"<\/ul><\/li>"},"8":function(i,f,s,h,c){var a,l;return'<li class="menuitem">'+((a=s[r].call(f!=n?f:i.nullContext||{},(a=c&&c.root)&&a.IsNav,{name:r,hash:{},fn:i.program(9,c,0),inverse:i.program(11,c,0),data:c}))!=n?a:"")+'<svg focusable="false" class="menuitem-icon proxyfillcolor color'+i.escapeExpression(i.lambda((a=c&&c.root)&&a.SubjectColor,f))+v+i.escapeExpression((s.referenceSvg||f&&f.referenceSvg||s.helperMissing).call(f!=n?f:i.nullContext||{},f!=n?f.Icon:f,{name:o,hash:{},data:c}))+'<\/svg><div class="menuitem-label" title="'+i.escapeExpression((l=(l=s.Name||(f!=n?f.Name:f))!=n?l:s.helperMissing,typeof l===t?l.call(f!=n?f:i.nullContext||{},{name:u,hash:{},data:c}):l))+e+i.escapeExpression((l=(l=s.Name||(f!=n?f.Name:f))!=n?l:s.helperMissing,typeof l===t?l.call(f!=n?f:i.nullContext||{},{name:u,hash:{},data:c}):l))+"<\/div>"+((a=s[r].call(f!=n?f:i.nullContext||{},(a=c&&c.root)&&a.IsNav,{name:r,hash:{},fn:i.program(13,c,0),inverse:i.program(15,c,0),data:c}))!=n?a:"")+"<\/li>"},"9":function(i,r,u,e,o){var h,s;return'<a id="'+i.escapeExpression((s=(s=u.Id||(r!=n?r.Id:r))!=n?s:u.helperMissing,typeof s===t?s.call(r!=n?r:i.nullContext||{},{name:f,hash:{},data:o}):s))+"_"+i.escapeExpression((s=(s=u.index||o&&o.index)!=n?s:u.helperMissing,typeof s===t?s.call(r!=n?r:i.nullContext||{},{name:"index",hash:{},data:o}):s))+c+i.escapeExpression(i.lambda((h=o&&o.root)&&h.MenuName,r))+' menuitem-content" href="'+i.escapeExpression((s=(s=u.Link||(r!=n?r.Link:r))!=n?s:u.helperMissing,typeof s===t?s.call(r!=n?r:i.nullContext||{},{name:"Link",hash:{},data:o}):s))+'" '+((h=(s=(s=u.DataAttributes||(r!=n?r.DataAttributes:r))!=n?s:u.helperMissing,typeof s===t?s.call(r!=n?r:i.nullContext||{},{name:"DataAttributes",hash:{},data:o}):s))!=n?h:"")+">"},"11":function(i,r,u,e,o){var l,h;return s+i.escapeExpression((h=(h=u.Id||(r!=n?r.Id:r))!=n?h:u.helperMissing,typeof h===t?h.call(r!=n?r:i.nullContext||{},{name:f,hash:{},data:o}):h))+"_"+i.escapeExpression(i.lambda((l=o&&o.root)&&l.MenuName,r))+"_"+i.escapeExpression((h=(h=u.index||o&&o.index)!=n?h:u.helperMissing,typeof h===t?h.call(r!=n?r:i.nullContext||{},{name:"index",hash:{},data:o}):h))+c+i.escapeExpression(i.lambda((l=o&&o.root)&&l.MenuName,r))+" menuitem-content "+i.escapeExpression((h=(h=u.Id||(r!=n?r.Id:r))!=n?h:u.helperMissing,typeof h===t?h.call(r!=n?r:i.nullContext||{},{name:f,hash:{},data:o}):h))+'" tabindex="0" role="button" title="">'},"13":function(){return"<\/a>"},"15":function(i,r,u,e,o){var s;return'<img class="jqHidden shortcutImage '+i.escapeExpression((s=(s=u.Id||(r!=n?r.Id:r))!=n?s:u.helperMissing,typeof s===t?s.call(r!=n?r:i.nullContext||{},{name:f,hash:{},data:o}):s))+'" src="'+i.escapeExpression((u.makeStaticLink||r&&r.makeStaticLink||u.helperMissing).call(r!=n?r:i.nullContext||{},"images/circle_check_icon.svg",{name:"makeStaticLink",hash:{},data:o}))+'"/><\/div>'},"17":function(){return"<\/nav>"},"19":function(){return"<\/div>"},useData:!0})}(),function(){var f='<\/span><span class="clearlabel">',e="highlightString",o='"><span aria-hidden="true">',i="Name",s='<span class="menuitem-label" title="',h='" class="',c="_search_",r="Id",t="function",n=null,l=Handlebars.template,u=$$WP.Templates=$$WP.Templates||{};u=u.Navigation=u.Navigation||{};u.MenuSearch=l({compiler:[7,">= 4.0.0"],main:function(i,r,u,f,e){var h="SearchResultsDisplay",s,o;return i.escapeExpression((u.setStringNamespace||r&&r.setStringNamespace||u.helperMissing).call(r!=n?r:i.nullContext||{},"Navigation.Menu",{name:"setStringNamespace",hash:{},data:e}))+'<ul class="menusearch-mainmenulist" aria-label="Main menu"><li class="submenu"><h2 id="searchResultsDisplay" class="submenu-header proxybgcolor color'+i.escapeExpression(i.lambda((s=e&&e.root)&&s.SubjectColor,r))+' lighten70" aria-hidden="true">'+i.escapeExpression((o=(o=u.SearchResultsDisplay||(r!=n?r.SearchResultsDisplay:r))!=n?o:u.helperMissing,typeof o===t?o.call(r!=n?r:i.nullContext||{},{name:h,hash:{},data:e}):o))+'<\/h2><div id="menu-ariasearchresultstotal" class="clearlabel menu-ariasearchresultstotal" aria-live="polite"><\/div><ul aria-label="'+i.escapeExpression((o=(o=u.SearchResultsDisplay||(r!=n?r.SearchResultsDisplay:r))!=n?o:u.helperMissing,typeof o===t?o.call(r!=n?r:i.nullContext||{},{name:h,hash:{},data:e}):o))+'">'+((s=u.each.call(r!=n?r:i.nullContext||{},r!=n?r.SearchResultsItems:r,{name:"each",hash:{},fn:i.program(1,e,0),inverse:i.noop,data:e}))!=n?s:"")+"<\/ul><\/li><\/ul>"+i.escapeExpression((o=(o=u.clearStringNamespace||(r!=n?r.clearStringNamespace:r))!=n?o:u.helperMissing,typeof o===t?o.call(r!=n?r:i.nullContext||{},{name:"clearStringNamespace",hash:{},data:e}):o))},"1":function(t,i,r,u,f){var o="if",e;return'<li class="menuitem '+((e=r[o].call(i!=n?i:t.nullContext||{},i!=n?i.MatchIsSynonym:i,{name:o,hash:{},fn:t.program(2,f,0),inverse:t.noop,data:f}))!=n?e:"")+'">'+((e=r[o].call(i!=n?i:t.nullContext||{},(e=f&&f.root)&&e.IsNav,{name:o,hash:{},fn:t.program(4,f,0),inverse:t.program(6,f,0),data:f}))!=n?e:"")+'<svg focusable="false" class="menuitem-icon proxyfillcolor color'+t.escapeExpression(t.lambda((e=f&&f.root)&&e.SubjectColor,i))+'" aria-hidden="true">'+t.escapeExpression((r.referenceSvg||i&&i.referenceSvg||r.helperMissing).call(i!=n?i:t.nullContext||{},i!=n?i.Icon:i,{name:"referenceSvg",hash:{},data:f}))+'<\/svg><div class="menuitem-labelflexcontainer">'+((e=r[o].call(i!=n?i:t.nullContext||{},i!=n?i.MatchIsSynonym:i,{name:o,hash:{},fn:t.program(8,f,0),inverse:t.program(10,f,0),data:f}))!=n?e:"")+"<\/div>"+((e=r[o].call(i!=n?i:t.nullContext||{},(e=f&&f.root)&&e.IsNav,{name:o,hash:{},fn:t.program(12,f,0),inverse:t.program(14,f,0),data:f}))!=n?e:"")+"<\/li>"},"2":function(){return"menuitem-searchsynonymmatch"},"4":function(i,u,f,e,o){var l,s;return'<a id="'+i.escapeExpression((s=(s=f.Id||(u!=n?u.Id:u))!=n?s:f.helperMissing,typeof s===t?s.call(u!=n?u:i.nullContext||{},{name:r,hash:{},data:o}):s))+c+i.escapeExpression((s=(s=f.index||o&&o.index)!=n?s:f.helperMissing,typeof s===t?s.call(u!=n?u:i.nullContext||{},{name:"index",hash:{},data:o}):s))+h+i.escapeExpression(i.lambda((l=o&&o.root)&&l.MenuName,u))+' menuitem-content" href="'+i.escapeExpression((s=(s=f.Link||(u!=n?u.Link:u))!=n?s:f.helperMissing,typeof s===t?s.call(u!=n?u:i.nullContext||{},{name:"Link",hash:{},data:o}):s))+'" '+((l=(s=(s=f.DataAttributes||(u!=n?u.DataAttributes:u))!=n?s:f.helperMissing,typeof s===t?s.call(u!=n?u:i.nullContext||{},{name:"DataAttributes",hash:{},data:o}):s))!=n?l:"")+">"},"6":function(i,u,f,e,o){var l,s;return'<div id="'+i.escapeExpression((s=(s=f.Id||(u!=n?u.Id:u))!=n?s:f.helperMissing,typeof s===t?s.call(u!=n?u:i.nullContext||{},{name:r,hash:{},data:o}):s))+"_"+i.escapeExpression(i.lambda((l=o&&o.root)&&l.MenuName,u))+c+i.escapeExpression((s=(s=f.index||o&&o.index)!=n?s:f.helperMissing,typeof s===t?s.call(u!=n?u:i.nullContext||{},{name:"index",hash:{},data:o}):s))+h+i.escapeExpression(i.lambda((l=o&&o.root)&&l.MenuName,u))+" menuitem-content "+i.escapeExpression((s=(s=f.Id||(u!=n?u.Id:u))!=n?s:f.helperMissing,typeof s===t?s.call(u!=n?u:i.nullContext||{},{name:r,hash:{},data:o}):s))+'" tabindex="0" role="button" title="">'},"8":function(r,u,h,c,l){var v="@MYCHART@SYNONYMMATCH@",a;return s+r.escapeExpression((a=(a=h.Name||(u!=n?u.Name:u))!=n?a:h.helperMissing,typeof a===t?a.call(u!=n?u:r.nullContext||{},{name:i,hash:{},data:l}):a))+'">'+r.escapeExpression((a=(a=h.Name||(u!=n?u.Name:u))!=n?a:h.helperMissing,typeof a===t?a.call(u!=n?u:r.nullContext||{},{name:i,hash:{},data:l}):a))+'<\/span><div class="menuitem-searchsynonym subtle" title="'+r.escapeExpression((a=(a=h.SynonymMatch||(u!=n?u.SynonymMatch:u))!=n?a:h.helperMissing,typeof a===t?a.call(u!=n?u:r.nullContext||{},{name:"SynonymMatch",hash:{},data:l}):a))+o+r.escapeExpression((h.highlightString||u&&u.highlightString||h.helperMissing).call(u!=n?u:r.nullContext||{},u!=n?u.SynonymMatch:u,u!=n?u.RangesToMark:u,{name:e,hash:{},data:l}))+f+r.escapeExpression((h.addStringResourceMnemonic||u&&u.addStringResourceMnemonic||h.helperMissing).call(u!=n?u:r.nullContext||{},v,u!=n?u.SynonymMatch:u,{name:"addStringResourceMnemonic",hash:{},data:l}))+r.escapeExpression((h.getDisplayString||u&&u.getDisplayString||h.helperMissing).call(u!=n?u:r.nullContext||{},"MenuSearchSynonymMatch",{name:"getDisplayString",hash:{},data:l}))+r.escapeExpression((h.removeStringResourceMnemonic||u&&u.removeStringResourceMnemonic||h.helperMissing).call(u!=n?u:r.nullContext||{},v,{name:"removeStringResourceMnemonic",hash:{},data:l}))+"<\/span><\/div>"},"10":function(r,u,h,c,l){var a;return s+r.escapeExpression((a=(a=h.Name||(u!=n?u.Name:u))!=n?a:h.helperMissing,typeof a===t?a.call(u!=n?u:r.nullContext||{},{name:i,hash:{},data:l}):a))+o+r.escapeExpression((h.highlightString||u&&u.highlightString||h.helperMissing).call(u!=n?u:r.nullContext||{},u!=n?u.Name:u,u!=n?u.RangesToMark:u,{name:e,hash:{},data:l}))+f+r.escapeExpression((a=(a=h.Name||(u!=n?u.Name:u))!=n?a:h.helperMissing,typeof a===t?a.call(u!=n?u:r.nullContext||{},{name:i,hash:{},data:l}):a))+"<\/span><\/span>"},"12":function(){return"<\/a>"},"14":function(i,u,f,e,o){var s;return'<img class="jqHidden shortcutImage '+i.escapeExpression((s=(s=f.Id||(u!=n?u.Id:u))!=n?s:f.helperMissing,typeof s===t?s.call(u!=n?u:i.nullContext||{},{name:r,hash:{},data:o}):s))+'" src="'+i.escapeExpression((f.makeStaticLink||u&&u.makeStaticLink||f.helperMissing).call(u!=n?u:i.nullContext||{},"images/circle_check_icon.svg",{name:"makeStaticLink",hash:{},data:o}))+'"/><\/div>'},useData:!0})}(),function(){var f='<\/svg><\/span><span class="proxySelectorDropDownName"><div class="proxySelectorDropDownNameEllipsis">',e="referenceSvg",o="makeLink",s='" aria-label="',h="getDisplayString",c="ifGt",l="roundPatientIcon",r="function",i="",t="if",n=null,a=Handlebars.template,u=$$WP.Templates=$$WP.Templates||{};u=u.ProxySwitch=u.ProxySwitch||{};u.DropDownProxySelector=a({compiler:[7,">= 4.0.0"],main:function(u,f,e,o,s){var h,a;return u.escapeExpression((e.setStringNamespace||f&&f.setStringNamespace||e.helperMissing).call(f!=n?f:u.nullContext||{},"ProxySwitch.ProxySwitch.ProxySelector",{name:"setStringNamespace",hash:{},data:s}))+'<div  class="'+((h=e[t].call(f!=n?f:u.nullContext||{},f!=n?f.ShowDropDown:f,{name:t,hash:{},fn:u.program(1,s,0),inverse:u.noop,data:s}))!=n?h:i)+' proxySelectorDropDownContainer"><button id="proxyMenuButton" '+((h=e[t].call(f!=n?f:u.nullContext||{},f!=n?f.ShowDropDown:f,{name:t,hash:{},fn:u.program(3,s,0),inverse:u.noop,data:s}))!=n?h:i)+((h=e[t].call(f!=n?f:u.nullContext||{},f!=n?f.IsGuest:f,{name:t,hash:{},fn:u.program(5,s,0),inverse:u.noop,data:s}))!=n?h:i)+'class="proxyButton color'+u.escapeExpression(u.lambda((h=f!=n?f.CurrentlySelected:f)!=n?h.TabColor:h,f))+((h=e[t].call(f!=n?f:u.nullContext||{},f!=n?f.IsGuest:f,{name:t,hash:{},fn:u.program(7,s,0),inverse:u.noop,data:s}))!=n?h:i)+'" title="'+u.escapeExpression((a=(a=e.ButtonTitleText||(f!=n?f.ButtonTitleText:f))!=n?a:e.helperMissing,typeof a===r?a.call(f!=n?f:u.nullContext||{},{name:"ButtonTitleText",hash:{},data:s}):a))+'"  aria-controls="proxyList" type="button" aria-haspopup="true"><span class="patientPhotoContainer">'+((h=u.invokePartial(o.roundPatientIcon,f!=n?f.CurrentlySelected:f,{name:l,data:s,helpers:e,partials:o,decorators:u.decorators}))!=n?h:i)+'<\/span><div aria-hidden="true" class="namePlusChevron"><div class="currentlySelectedName proxytextcolor color'+u.escapeExpression(u.lambda((h=f!=n?f.CurrentlySelected:f)!=n?h.TabColor:h,f))+'"><span dir="ltr" class="currentlySelectedNameInner">'+u.escapeExpression(u.lambda((h=f!=n?f.CurrentlySelected:f)!=n?h.DisplayNameLabel:h,f))+"<\/span>"+((h=e[t].call(f!=n?f:u.nullContext||{},f!=n?f.ShowDropDown:f,{name:t,hash:{},fn:u.program(9,s,0),inverse:u.noop,data:s}))!=n?h:i)+"<\/div>"+((h=(e.ifGt||f&&f.ifGt||e.helperMissing).call(f!=n?f:u.nullContext||{},(h=f!=n?f.ProxySubjectList:f)!=n?h.length:h,1,{name:c,hash:{},fn:u.program(12,s,0),inverse:u.noop,data:s}))!=n?h:i)+"<\/div><\/button>"+((h=e[t].call(f!=n?f:u.nullContext||{},f!=n?f.ShowDropDown:f,{name:t,hash:{},fn:u.program(14,s,0),inverse:u.noop,data:s}))!=n?h:i)+"<\/div>"+u.escapeExpression((a=(a=e.clearStringNamespace||(f!=n?f.clearStringNamespace:f))!=n?a:e.helperMissing,typeof a===r?a.call(f!=n?f:u.nullContext||{},{name:"clearStringNamespace",hash:{},data:s}):a))+" "},"1":function(){return"withDropdown "},"3":function(){return'aria-expanded="false"'},"5":function(){return'tabindex="-1"'},"7":function(){return" guestNotAButton"},"9":function(t,r,u,f,e){var o;return(o=(u.ifEquals||r&&r.ifEquals||u.helperMissing).call(r!=n?r:t.nullContext||{},(o=r!=n?r.ProxySubjectList:r)!=n?o.length:o,1,{name:"ifEquals",hash:{},fn:t.program(10,e,0),inverse:t.noop,data:e}))!=n?o:i},"10":function(){return'<span class="switchPatientsTextOuter"><\/span>'},"12":function(t,i,r,u,f){return'<span class="switchPatientsTextOuter"><span class="switchPatientsText">'+t.escapeExpression((r.getDisplayString||i&&i.getDisplayString||r.helperMissing).call(i!=n?i:t.nullContext||{},"switchPatientsButtonText",{name:h,hash:{},data:f}))+"<\/span><\/span>"},"14":function(u,h,l,a,v){var w="HomeMenuTitleText",b='" aria-hidden="true">',k='"><span aria-hidden="true" focusable="false" class="proxySelectorDropDownPhotoContainer"><svg focusable="false" class="proxyfillcolor color',d='" class="proxySubjectLink currentContext" href="',g="ChangeShortcutsTitleText",p,y;return'<div id="proxyMenuShield" aria-hidden="true" class="jqHidden"><\/div><nav id="proxySwitchNav" role="dialog" aria-modal="true" aria-labelledby="proxyMenuButton"><ul role="menu" id="proxyList" class="dropdown-menu">'+((p=(l.ifGt||h&&h.ifGt||l.helperMissing).call(h!=n?h:u.nullContext||{},(p=h!=n?h.ProxySubjectList:h)!=n?p.length:p,1,{name:c,hash:{},fn:u.program(15,v,0),inverse:u.noop,data:v}))!=n?p:i)+'<ul role="menu" '+((p=(l.ifGt||h&&h.ifGt||l.helperMissing).call(h!=n?h:u.nullContext||{},(p=h!=n?h.ProxySubjectList:h)!=n?p.length:p,1,{name:c,hash:{},fn:u.program(29,v,0),inverse:u.noop,data:v}))!=n?p:i)+" >"+((p=l[t].call(h!=n?h:u.nullContext||{},h!=n?h.ShowPhotoUpload:h,{name:t,hash:{},fn:u.program(31,v,0),inverse:u.noop,data:v}))!=n?p:i)+'<li role="none" class="proxySubjectListItem borderedListItem"><a role="menuitem" tabindex="-1" title="'+u.escapeExpression((y=(y=l.ChangeShortcutsTitleText||(h!=n?h.ChangeShortcutsTitleText:h))!=n?y:l.helperMissing,typeof y===r?y.call(h!=n?h:u.nullContext||{},{name:g,hash:{},data:v}):y))+s+u.escapeExpression((y=(y=l.ChangeShortcutsTitleText||(h!=n?h.ChangeShortcutsTitleText:h))!=n?y:l.helperMissing,typeof y===r?y.call(h!=n?h:u.nullContext||{},{name:g,hash:{},data:v}):y))+d+u.escapeExpression((l.makeLink||h&&h.makeLink||l.helperMissing).call(h!=n?h:u.nullContext||{},"Menu/ChangeShortcuts",{name:o,hash:{},data:v}))+k+u.escapeExpression(u.lambda((p=h!=n?h.CurrentlySelected:h)!=n?p.TabColor:p,h))+b+u.escapeExpression((l.referenceSvg||h&&h.referenceSvg||l.helperMissing).call(h!=n?h:u.nullContext||{},"library.svg#menu_changeshortcuts",{name:e,hash:{},data:v}))+f+u.escapeExpression((y=(y=l.ChangeShortcutsMenuText||(h!=n?h.ChangeShortcutsMenuText:h))!=n?y:l.helperMissing,typeof y===r?y.call(h!=n?h:u.nullContext||{},{name:"ChangeShortcutsMenuText",hash:{},data:v}):y))+'<\/div><\/span><\/a><\/li><li role="none" class="proxySubjectListItem borderedListItem"><a role="menuitem" tabindex="-1" title="'+u.escapeExpression((y=(y=l.HomeMenuTitleText||(h!=n?h.HomeMenuTitleText:h))!=n?y:l.helperMissing,typeof y===r?y.call(h!=n?h:u.nullContext||{},{name:w,hash:{},data:v}):y))+s+u.escapeExpression((y=(y=l.HomeMenuTitleText||(h!=n?h.HomeMenuTitleText:h))!=n?y:l.helperMissing,typeof y===r?y.call(h!=n?h:u.nullContext||{},{name:w,hash:{},data:v}):y))+d+u.escapeExpression((l.makeLink||h&&h.makeLink||l.helperMissing).call(h!=n?h:u.nullContext||{},"Home",{name:o,hash:{},data:v}))+k+u.escapeExpression(u.lambda((p=h!=n?h.CurrentlySelected:h)!=n?p.TabColor:p,h))+b+u.escapeExpression((l.referenceSvg||h&&h.referenceSvg||l.helperMissing).call(h!=n?h:u.nullContext||{},"library.svg#home",{name:e,hash:{},data:v}))+f+u.escapeExpression((y=(y=l.HomeMenuText||(h!=n?h.HomeMenuText:h))!=n?y:l.helperMissing,typeof y===r?y.call(h!=n?h:u.nullContext||{},{name:"HomeMenuText",hash:{},data:v}):y))+"<\/div><\/span><\/a><\/li><\/ul><\/ul><\/nav>"},"15":function(t,r,u,f,e){var o;return(o=u.each.call(r!=n?r:t.nullContext||{},r!=n?r.ProxySubjectList:r,{name:"each",hash:{},fn:t.program(16,e,0),inverse:t.noop,data:e}))!=n?o:i},"16":function(u,f,e,o,s){var c,h;return'<li role="none" class="proxySubjectListItem" ><a role="menuitem" tabindex="-1" title="'+u.escapeExpression((h=(h=e.TitleText||(f!=n?f.TitleText:f))!=n?h:e.helperMissing,typeof h===r?h.call(f!=n?f:u.nullContext||{},{name:"TitleText",hash:{},data:s}):h))+"&nbsp; "+((c=(e.isLastInArray||f&&f.isLastInArray||e.helperMissing).call(f!=n?f:u.nullContext||{},s&&s.index,(c=(c=s&&s.root)&&c.ProxySubjectList)&&c.length,{name:"isLastInArray",hash:{},fn:u.program(17,s,0),inverse:u.noop,data:s}))!=n?c:i)+'" '+((c=e[t].call(f!=n?f:u.nullContext||{},f!=n?f.IsSelected:f,{name:t,hash:{},fn:u.program(19,s,0),inverse:u.program(21,s,0),data:s}))!=n?c:i)+' class="'+((c=e[t].call(f!=n?f:u.nullContext||{},f!=n?f.IsSelected:f,{name:t,hash:{},fn:u.program(23,s,0),inverse:u.noop,data:s}))!=n?c:i)+" color"+u.escapeExpression((h=(h=e.TabColor||(f!=n?f.TabColor:f))!=n?h:e.helperMissing,typeof h===r?h.call(f!=n?f:u.nullContext||{},{name:"TabColor",hash:{},data:s}):h))+' proxySubjectLink"   href='+((c=e[t].call(f!=n?f:u.nullContext||{},f!=n?f.IsSelected:f,{name:t,hash:{},fn:u.program(25,s,0),inverse:u.program(27,s,0),data:s}))!=n?c:i)+' ><span aria-hidden="true"  class="proxySelectorDropDownPhotoContainer">'+((c=u.invokePartial(o.roundPatientIcon,f,{name:l,data:s,helpers:e,partials:o,decorators:u.decorators}))!=n?c:i)+'<\/span><div class="proxySelectorDropDownName"><span aria-hidden="true" dir="ltr" class="proxySelectorDropDownNameEllipsis">'+u.escapeExpression((h=(h=e.DisplayNameLabel||(f!=n?f.DisplayNameLabel:f))!=n?h:e.helperMissing,typeof h===r?h.call(f!=n?f:u.nullContext||{},{name:"DisplayNameLabel",hash:{},data:s}):h))+"<\/span><\/div><\/a><\/li>"},"17":function(t,i,r,u,f){return t.escapeExpression((r.getDisplayString||i&&i.getDisplayString||r.helperMissing).call(i!=n?i:t.nullContext||{},"lastPersonInList",{name:h,hash:{},data:f}))+"&nbsp;"},"19":function(){return'data-closedropdown="true" data-switchpatients="false"'},"21":function(){return'data-closedropdown="false" data-switchpatients="true"'},"23":function(){return"currentContext opacity30 proxybgcolor"},"25":function(){return' "#" '},"27":function(t,i,r,u,f){return t.escapeExpression((r.makeLink||i&&i.makeLink||r.helperMissing).call(i!=n?i:t.nullContext||{},i!=n?i.LinkUrl:i,{name:o,hash:{},data:f}))},"29":function(t,i,r,u,f){return" aria-label='"+t.escapeExpression((r.getDisplayString||i&&i.getDisplayString||r.helperMissing).call(i!=n?i:t.nullContext||{},"additionalMenuOptions",{name:h,hash:{},data:f}))+"' "},"31":function(t,i,u,o,h){var a="PhotoUploadMenuTitleText",l,c;return'<li role="none" class="proxySubjectListItem borderedListItem" id="patientPhotoListItem"  data-closedropdown="true" ><a role="menuitem" tabindex="-1" title="'+t.escapeExpression((c=(c=u.PhotoUploadMenuTitleText||(i!=n?i.PhotoUploadMenuTitleText:i))!=n?c:u.helperMissing,typeof c===r?c.call(i!=n?i:t.nullContext||{},{name:a,hash:{},data:h}):c))+s+t.escapeExpression((c=(c=u.PhotoUploadMenuTitleText||(i!=n?i.PhotoUploadMenuTitleText:i))!=n?c:u.helperMissing,typeof c===r?c.call(i!=n?i:t.nullContext||{},{name:a,hash:{},data:h}):c))+'" data-function=\'upload\' class="proxySubjectLink currentContext" href="#"><span aria-hidden="true" focusable="false" class="proxySelectorDropDownPhotoContainer"><svg focusable="false" class="proxyfillcolor color'+t.escapeExpression(t.lambda((l=i!=n?i.CurrentlySelected:i)!=n?l.TabColor:l,i))+'" >'+t.escapeExpression((u.referenceSvg||i&&i.referenceSvg||u.helperMissing).call(i!=n?i:t.nullContext||{},"library.svg#proxyswitch_uploadimage",{name:e,hash:{},data:h}))+f+t.escapeExpression((c=(c=u.PhotoUploadMenuText||(i!=n?i.PhotoUploadMenuText:i))!=n?c:u.helperMissing,typeof c===r?c.call(i!=n?i:t.nullContext||{},{name:"PhotoUploadMenuText",hash:{},data:h}):c))+'<\/div><\/span><\/a><div class="hidden"><input type="file" id="patientPhotoFileInput" class="upload-input hidden" data-function="upload-core" accept="image/*" /><\/div><\/li>'},usePartial:!0,useData:!0})}(),function(){var r="FirstLetter",t="function",n=null,u=Handlebars.template,i=$$WP.Templates=$$WP.Templates||{};i=i.ProxySwitch=i.ProxySwitch||{};i.PatientRoundIcon=u({compiler:[7,">= 4.0.0"],main:function(i,r,u,f,e){var s,o;return'<div  class="roundedPatientPhoto proxybgcolor proxybordercolor color'+i.escapeExpression((o=(o=u.TabColor||(r!=n?r.TabColor:r))!=n?o:u.helperMissing,typeof o===t?o.call(r!=n?r:i.nullContext||{},{name:"TabColor",hash:{},data:e}):o))+((s=u.unless.call(r!=n?r:i.nullContext||{},r!=n?r.PhotoUrl:r,{name:"unless",hash:{},fn:i.program(1,e,0),inverse:i.noop,data:e}))!=n?s:"")+'">'+((s=u["if"].call(r!=n?r:i.nullContext||{},r!=n?r.PhotoUrl:r,{name:"if",hash:{},fn:i.program(3,e,0),inverse:i.program(5,e,0),data:e}))!=n?s:"")+"<\/div>"},"1":function(){return" noBorder"},"3":function(i,u,f,e,o){var s;return"<img src="+i.escapeExpression((s=(s=f.PhotoUrl||(u!=n?u.PhotoUrl:u))!=n?s:f.helperMissing,typeof s===t?s.call(u!=n?u:i.nullContext||{},{name:"PhotoUrl",hash:{},data:o}):s))+' alt="" data-first-letter="'+i.escapeExpression((s=(s=f.FirstLetter||(u!=n?u.FirstLetter:u))!=n?s:f.helperMissing,typeof s===t?s.call(u!=n?u:i.nullContext||{},{name:r,hash:{},data:o}):s))+'" />'},"5":function(i,u,f,e,o){var s;return'<span aria-hidden="true">'+i.escapeExpression((s=(s=f.FirstLetter||(u!=n?u.FirstLetter:u))!=n?s:f.helperMissing,typeof s===t?s.call(u!=n?u:i.nullContext||{},{name:r,hash:{},data:o}):s))+"<\/span>"},useData:!0})}(),function(){var i="addTemplate",n=null,r=Handlebars.template,t=$$WP.Templates=$$WP.Templates||{};t=t.Upload=t.Upload||{};t.UploadContainer=r({compiler:[7,">= 4.0.0"],main:function(t,r,u,f,e){var o;return'<div data-block="upload"><div class="cardlist column_2 upload-cardlist hoverable matchHeights">'+((o=u.each.call(r!=n?r:t.nullContext||{},r!=n?r.Documents:r,{name:"each",hash:{},fn:t.program(1,e,0),inverse:t.noop,data:e}))!=n?o:"")+t.escapeExpression((u.addTemplate||r&&r.addTemplate||u.helperMissing).call(r!=n?r:t.nullContext||{},"Upload.UploadCard",r,{name:i,hash:{},data:e}))+'<\/div><div class="hidden"><input type="file" class="upload-input hidden" data-function="upload-core" accept="'+t.escapeExpression(t.lambda((o=r!=n?r.Configuration:r)!=n?o.AllowedExtensionsForInput:o,r))+'" multiple="multiple" /><\/div><\/div>'},"1":function(t,r,u,f,e){return t.escapeExpression((u.addTemplate||r&&r.addTemplate||u.helperMissing).call(r!=n?r:t.nullContext||{},"Upload.UploadedFileCard",r,{name:i,hash:{},data:e}))},useData:!0})}(),function(){var e='"><span class="vcenter"><span class="addlabel upload--add-file-label upload--document-icon" aria-hidden="true">',r="<\/span><\/span><\/a>",o='"><span class="vcenter"><span class="addlabel upload--add-file-label upload--uploading-icon" aria-hidden="true">',i="getStringResource",u='<a role="button" href="#" data-id="additem" aria-label="',t="if",n=null,s=Handlebars.template,f=$$WP.Templates=$$WP.Templates||{};f=f.Upload=f.Upload||{};f.UploadCard=s({compiler:[7,">= 4.0.0"],main:function(t,i,r,u,f){var e;return(e=(r.ifAll||i&&i.ifAll||r.helperMissing).call(i!=n?i:t.nullContext||{},i!=n?i.IsLimitReached:i,(e=i!=n?i.Configuration:i)!=n?e.HideMaxUploadsWarning:e,{name:"ifAll",hash:{},fn:t.program(1,f,0),inverse:t.program(3,f,0),data:f}))!=n?e:""},"1":function(){return"<div />"},"3":function(i,r,u,f,e){var o;return'<div class="card addItem upload-addFile" '+((o=u[t].call(r!=n?r:i.nullContext||{},r!=n?r.CanUpload:r,{name:t,hash:{},fn:i.program(4,e,0),inverse:i.noop,data:e}))!=n?o:"")+">"+((o=u[t].call(r!=n?r:i.nullContext||{},r!=n?r.IsConfigLoading:r,{name:t,hash:{},fn:i.program(6,e,0),inverse:i.program(8,e,0),data:e}))!=n?o:"")+"<\/div>"},"4":function(){return' data-function="upload" data-dragregion="1" '},"6":function(t,f,e,s,h){var c="LoadingConfigPrompt";return u+t.escapeExpression((e.getStringResource||f&&f.getStringResource||e.helperMissing).call(f!=n?f:t.nullContext||{},c,{name:i,hash:{},data:h}))+o+t.escapeExpression((e.getStringResource||f&&f.getStringResource||e.helperMissing).call(f!=n?f:t.nullContext||{},c,{name:i,hash:{},data:h}))+r},"8":function(i,r,u,f,e){var o;return(o=u[t].call(r!=n?r:i.nullContext||{},r!=n?r.IsLimitReached:r,{name:t,hash:{},fn:i.program(9,e,0),inverse:i.program(11,e,0),data:e}))!=n?o:""},"9":function(t,r,u,f,e){return'<div class="card-center upload--limit-reached"><div>'+t.escapeExpression((u.getStringResource||r&&r.getStringResource||u.helperMissing).call(r!=n?r:t.nullContext||{},"UploadLimitReachedErrorMessage",{name:i,hash:{},data:e}))+"<\/div><\/div>"},"11":function(i,r,u,f,e){var o;return(o=u[t].call(r!=n?r:i.nullContext||{},r!=n?r.IsCurrentlyUploading:r,{name:t,hash:{},fn:i.program(12,e,0),inverse:i.program(14,e,0),data:e}))!=n?o:""},"12":function(t,f,e,s,h){var c="UploadingFilePrompt";return u+t.escapeExpression((e.getStringResource||f&&f.getStringResource||e.helperMissing).call(f!=n?f:t.nullContext||{},c,{name:i,hash:{},data:h}))+o+t.escapeExpression((e.getStringResource||f&&f.getStringResource||e.helperMissing).call(f!=n?f:t.nullContext||{},c,{name:i,hash:{},data:h}))+r},"14":function(i,r,u,f,e){var o;return(o=u[t].call(r!=n?r:i.nullContext||{},r!=n?r.Documents:r,{name:t,hash:{},fn:i.program(15,e,0),inverse:i.program(17,e,0),data:e}))!=n?o:""},"15":function(t,f,o,s,h){var c="UploadAnotherFilePrompt";return u+t.escapeExpression((o.getStringResource||f&&f.getStringResource||o.helperMissing).call(f!=n?f:t.nullContext||{},c,{name:i,hash:{},data:h}))+e+t.escapeExpression((o.getStringResource||f&&f.getStringResource||o.helperMissing).call(f!=n?f:t.nullContext||{},c,{name:i,hash:{},data:h}))+r},"17":function(t,f,o,s,h){var c="UploadFilePrompt";return u+t.escapeExpression((o.getStringResource||f&&f.getStringResource||o.helperMissing).call(f!=n?f:t.nullContext||{},c,{name:i,hash:{},data:h}))+e+t.escapeExpression((o.getStringResource||f&&f.getStringResource||o.helperMissing).call(f!=n?f:t.nullContext||{},c,{name:i,hash:{},data:h}))+r},useData:!0})}(),function(){var n=null,t;$$WP.Utilities.guaranteeExistence($$WP,"Navigation.Models");t=function(n){var t=this,i,u,r,f;for(t.WP$Common$Model(n),i=0;i<t.Submenus.length;i++)u=new $$WP.Navigation.Models.Submenu(t.Submenus[i]),t.Submenus[i]=u;for(t.Submenus=t.Submenus.filter(function(n){return n.MenuItems.length>0}),r=0;r<t.Shortcuts.length;r++)f=new $$WP.Navigation.Models.MenuItem(t.Shortcuts[r]),t.Shortcuts[r]=f;t.CovidShortcutDetails=new $$WP.Navigation.Models.MenuItem(t.CovidShortcutDetails)};t.prototype={s_dataMembers:["SubjectColor","MenuDisplayName","ButtonDisplayName","Submenus","Shortcuts","TextDirection","IsNav","CovidShortcutDetails"],SubjectColor:n,MenuDisplayName:n,ButtonDisplayName:n,Submenus:n,Shortcuts:n,TextDirection:n,IsNav:n,CovidShortcutDetails:n,getMenuAuditState:function(){var n=[];for(subIx=0;subIx<this.Submenus.length;subIx++)for(menuIx=0;menuIx<this.Submenus[subIx].MenuItems.length;menuIx++)n.push({Id:this.Submenus[subIx].MenuItems[menuIx].Id});return n}};$$WP.Navigation.Models.Menu=t;t.extend($$WP.Common.Model,"WP$Navigation$Models$Menu")}(),function(){$$WP.Utilities.guaranteeExistence($$WP,"Navigation.Models");var n=function(n){var t=this,i,r;for(t.WP$Common$Model(n),i=0;i<t.MenuItems.length;i++)r=new $$WP.Navigation.Models.MenuItem(t.MenuItems[i]),t.MenuItems[i]=r;t.MenuItems=t.MenuItems.filter($$WP.Navigation.Models.MenuItem.isValidMenuItem)};n.prototype={s_dataMembers:["Name","MenuItems"],Name:null,MenuItems:null};$$WP.Navigation.Models.Submenu=n;n.extend($$WP.Common.Model,"WP$Navigation$Models$Submenu")}(),function(){var n=null,t,i;$$WP.Utilities.guaranteeExistence($$WP,"Navigation.Models");t=function(n){this.WP$Common$Model(n);this.__makeMenuItemLink()};t.prototype={s_dataMembers:["Id","Name","NameWithoutDiacritics","Link","Icon","Synonyms","SynonymsWithoutDiacritics","DataAttributes"],Id:n,Name:n,NameWithoutDiacritics:n,Link:n,Icon:n,Synonyms:n,SynonymsWithoutDiacritics:n,DataAttributes:n,__makeMenuItemLink:function(){var n=this;return n.Link?(n.Link!=="#"&&(n.Link=makeLink(n.Link)),!0):!1}};i=function(t){return t.Link!==n};$$WP.Navigation.Models.MenuItem=t;t.extend($$WP.Common.Model,"WP$Navigation$Models$MenuItem");$$WP.Navigation.Models.MenuItem.isValidMenuItem=i}(),function(){var n=null,t;$$WP.Utilities.guaranteeExistence($$WP,"Navigation.Models");t=function(n,t,i){var r=this;r.WP$Common$Model(n);r.SearchResultsItems=[];r.TotalMatches=0;r.SearchString=t;r.Auditing=i;r.AuditState=[];r._getSearchMenu(n,t);r.SearchResultsDisplay=""};t.prototype={s_dataMembers:["SubjectColor","IsNav","MenuName"],SubjectColor:n,IsNav:n,MenuName:n,Auditing:n,SearchString:n,TotalMatches:n,AuditState:n,SearchResultsItems:n,SearchResultsDisplay:n,_getSearchMenu:function(t,i){return this.__searchMenu(t,i),n},__searchMenu:function(n,t){for(var i=this,r,u=0;u<n.Submenus.length;u++)r=new $$WP.Navigation.Models.SearchSubmenu(n.Submenus[u],t,i.Auditing),r.Matches>=1&&(i.SearchResultsItems=i.SearchResultsItems.concat(r.MenuItems),i.TotalMatches+=r.Matches,i.Auditing&&(i.AuditState=i.AuditState.concat(r.AuditState)));i.SearchResultsItems.sort(function(n,t){return n.MatchRanking-t.MatchRanking})}};$$WP.Navigation.Models.SearchMenu=t;t.extend($$WP.Common.Model,"WP$Navigation$Models$SearchMenu")}(),function(){var n=null,t;$$WP.Utilities.guaranteeExistence($$WP,"Navigation.Models");t=function(n,t,i){var r=this;r.WP$Common$Model(n);r.MenuItems=[];r.Matches=0;r.Auditing=i;r.AuditState=[];r.__searchSubmenu(n,t)};t.prototype={s_dataMembers:["Name"],Name:n,Auditing:n,MenuItems:n,Matches:n,AuditState:n,__searchSubmenu:function(n,t){for(var i=this,u,r=0;r<n.MenuItems.length;r++)u=new $$WP.Navigation.Models.SearchMenuItem(n.MenuItems[r],t,i.Auditing),u.IsMatch&&(i.MenuItems.push(u),i.Matches++);i.Auditing&&i.__getAuditState()},__getAuditState:function(){for(var n=0;n<this.MenuItems.length;n++)this.AuditState.push(this.MenuItems[n].AuditState)}};$$WP.Navigation.Models.SearchSubmenu=t;t.extend($$WP.Common.Model,"WP$Navigation$Models$SearchSubmenu")}(),function(){var n=null,t=!0,i=!1,r;$$WP.Utilities.guaranteeExistence($$WP,"Navigation.Models");r=function(n,r,u){var f=this;f.WP$Common$Model(n);f.RangesToMark=[];f.MatchIsSynonym=i;f.IsMatch=i;f.AuditState=[];f.__searchMenuItem(n,r)&&(f.IsMatch=t,u&&(f.AuditState=f.__getAuditState()))};r.prototype={s_dataMembers:["Id","Name","Link","Icon","DataAttributes"],Id:n,Name:n,Link:n,Icon:n,DataAttributes:n,IsMatch:n,MatchIsSynonym:i,RangesToMark:n,SynonymMatch:n,MatchRanking:n,AuditState:n,__searchMenuItem:function(n,r){var u=this,f=u.__getSearchMatchRankingAndIndex(r,n.Name,i),o=u.__getSearchMatchRankingAndIndex(r,n.NameWithoutDiacritics,i),s,e;if(o[1]!=-1&&(f[1]==-1||o[1]<f[1])&&(f=o),s=f[1],e=f[0],e==1)return u.RangesToMark.push({start:s,end:s+r.length}),u.MatchRanking=e,t;var l=Number.MAX_VALUE,c=Number.MAX_VALUE,a=-1,h=0;for(h;h<n.Synonyms.length&&e!=0;h++)f=u.__getSearchMatchRankingAndIndex(r,n.Synonyms[h],t),o=u.__getSearchMatchRankingAndIndex(r,n.SynonymsWithoutDiacritics[h],t),o[1]!=-1&&(f[1]==-1||o[1]<f[1])&&(f=o),l=f[1],c=f[0],c>-1&&c<e&&(u.MatchIsSynonym=t,a=h,s=l,e=c);return e!=-1&&e!=Number.MAX_VALUE?(u.MatchIsSynonym&&(u.SynonymMatch=n.Synonyms[a]),u.RangesToMark.push({start:s,end:s+r.length}),u.MatchRanking=e,t):i},__getSearchMatchRankingAndIndex:function(n,t,i){for(var f=0,u=0,s=-1,e=t.replaceAll("-"," ").toLowerCase(),r=Number.MAX_VALUE,o=Number.MAX_VALUE;r>0&&f<e.length;)u=e.indexOf(n,f),r=this.__getSearchMatchRanking(u,e,i),r>-1&&r<o&&(o=r,s=u),f=u+n.length;return[o,s]},__getAuditState:function(){return{Id:this.Id,SynonymMatch:this.SynonymMatch}},__getSearchMatchRanking:function(t,i,r){var u=n;return t==-1?-1:(u=t==0?1:"- ".includes(i.charAt(t-1))?3:5,u+Number(r))}};$$WP.Navigation.Models.SearchMenuItem=r;r.extend($$WP.Common.Model,"WP$Navigation$Models$SearchMenuItem")}(),function(){var e="@MYCHART@ALLOWEDAREAS@",o="@MYCHART@SUBJECT_PATIENTNAME@",r="ServiceAreas",s="backToTheHomePageTitleText",t="",u=!1,i=!0,n=$$WP.Strings.getNamespace("ProxySwitch.ProxySwitch.ProxySelector"),f;$$WP.Utilities.guaranteeExistence($$WP,"ProxySwitch.Models");f=function(n){var t=this,r,u;for(t.WP$Common$Model(n),r=0;r<t.ProxySubjectList.length;r++)u=new $$WP.ProxySwitch.Models.ProxySubjectViewModel(t.ProxySubjectList[r]),t.ProxySubjectList[r]=u,t.ProxySubjectList[r].IsSelected&&(t.CurrentlySelected=t.ProxySubjectList[r]);t.ShowPhotoUpload===i&&(t.PhotoUploadMenuText=t._determinePhotoUploadText(),t.PhotoUploadMenuTitleText=t._determinePhotoUploadMenuTitleText());t.ButtonTitleText=t._determineButtonTitleText();t.ChangeShortcutsMenuText=t._determineChangeShortcutsMenuText();t.ChangeShortcutsTitleText=t._determineChangeShortcutsTitleText();t.HomeMenuText=t._determineHomeMenuText();t.HomeMenuTitleText=t._determineHomeMenuTitleText();t.ShowDropDown=!t.IsGuest};f.prototype={s_dataMembers:["ProxySubjectList","ShowPhotoUpload","IsGuest"],ProxySubjectList:null,CurrentlySelected:null,ShowPhotoUpload:u,PhotoUploadMenuText:t,ChangeShortcutsMenuText:t,ChangeShortcutsTitleText:t,HomeMenuText:t,ShowDropDown:u,ButtonTitleText:t,PhotoUploadMenuTitleText:t,IsGuest:u,resetPhotoUploadToFalse:function(){var n=this;n.ShowPhotoUpload=u;n.ButtonTitleText=n._determineButtonTitleText();n.ChangeShortcutsMenuText=n._determineChangeShortcutsMenuText();n.ChangeShortcutsTitleText=n._determineChangeShortcutsTitleText();n.HomeMenuText=n._determineHomeMenuText();n.HomeMenuTitleText=n._determineHomeMenuTitleText();n.ShowDropDown=n.ProxySubjectList.length>1},_determineButtonTitleText:function(){var t=this;return t.IsGuest?t.CurrentlySelected.TitleText:t.ProxySubjectList.length>1?t.CurrentlySelected.TitleText+"\n"+n.getString("selectToViewAnotherPersonsRecord"):t.ShowPhotoUpload?n.getString("uploadAPhotoTitleText"):n.getString(s)},_determinePhotoUploadMenuTitleText:function(){var u=this,f=t,e;return f=u.CurrentlySelected.IsSelf===i?u.CurrentlySelected.PhotoUrl?"changePhotoMenuItemTitleText":"addPhotoMenuItemTitleText":u.CurrentlySelected.PhotoUrl?"changeSubjectsPhotoMenuItemTitleText":"addSubjectsPhotoMenuItemTitleText",u.CurrentlySelected.ServiceAreaAbbreviationList&&(f+=r),u._addMnemonics(),e=n.getString(f),u._removeMnemonics(),e},_determinePhotoUploadText:function(){var u=this,f=t,e;return f=u.CurrentlySelected.IsSelf===i?u.CurrentlySelected.PhotoUrl?"changeMyPhotoMenuItem":"addMyPhotoMenuItem":u.CurrentlySelected.PhotoUrl?"changeSubjectsPhotoMenuItem":"addSubjectsPhotoMenuItem",u.CurrentlySelected.ServiceAreaAbbreviationList&&(f+=r),u._addMnemonics(),e=n.getString(f),u._removeMnemonics(),e},_determineChangeShortcutsMenuText:function(){var u=this,f=t,e;return f=u.CurrentlySelected.IsSelf===i?"myChangeShortcutsMenuItem":"otherPersonsChangeShortcutsMenuItem",u.CurrentlySelected.ServiceAreaAbbreviationList&&(f+=r),u._addMnemonics(),e=n.getString(f),u._removeMnemonics(),e},_determineChangeShortcutsTitleText:function(){var u=this,f=t,e;return f=u.CurrentlySelected.IsSelf===i?"myChangeShortcutsTitleText":"otherPersonsChangeShortcutsTitleText",u.CurrentlySelected.ServiceAreaAbbreviationList&&(f+=r),u._addMnemonics(),e=n.getString(f),u._removeMnemonics(),e},_determineHomeMenuText:function(){var u=this,f=t,e;return f=!u.ProxySubjectList||u.ProxySubjectList.length<=1?"homeMenuItem":u.CurrentlySelected.IsSelf===i?"myHomeMenuItem":"otherPersonsHomeMenuItem",u.CurrentlySelected.ServiceAreaAbbreviationList&&(f+=r),u._addMnemonics(),e=n.getString(f),u._removeMnemonics(),e},_determineHomeMenuTitleText:function(){var u=this,f=t,e;return f=!u.ProxySubjectList||u.ProxySubjectList.length<=1?s:u.CurrentlySelected.IsSelf===i?"backToYourHomePageTitleText":"backToAnotherPersonsHomePageTitleText",u.CurrentlySelected.ServiceAreaAbbreviationList&&(f+=r),u._addMnemonics(),e=n.getString(f),u._removeMnemonics(),e},_addMnemonics:function(){n.addMnemonic(o,this.CurrentlySelected.DisplayName,$$WP.Strings.EncodingTypes.None);n.addMnemonic(e,this.CurrentlySelected.ServiceAreaAbbreviationList,$$WP.Strings.EncodingTypes.None)},_removeMnemonics:function(){n.removeMnemonic(o);n.removeMnemonic(e)}};$$WP.ProxySwitch.Models.ProxySelectorViewModel=f;f.extend($$WP.Common.Model,"WP$ProxySwitch$Models$ProxySelectorViewModel")}(),function(){var i="@MYCHART@ALLOWEDAREAS@",r="@MYCHART@SUBJECT_PATIENTNAME@",t=null,n=$$WP.Strings.getNamespace("ProxySwitch.ProxySwitch.ProxySelector"),u;$$WP.Utilities.guaranteeExistence($$WP,"ProxySwitch.Models");u=function(n){var t=this;t.WP$Common$Model(n);t.FirstLetter=t.DisplayName.substring(0,1);t.TitleText=t.determineTitleText();t.DisplayNameLabel=t.DisplayName;t.ServiceAreaAbbreviationList&&(t.DisplayNameLabel=t.determineDisplayNameWithServiceAreas())};u.prototype={s_dataMembers:["DisplayName","TabColor","PhotoUrl","LinkUrl","IsSelected","FirstLetter","IsSelf","TitleText","ServiceAreaAbbreviationList"],DisplayName:t,PhotoUrl:t,TabColor:t,LinkUrl:t,IsSelected:!1,FirstLetter:t,IsSelf:!1,TitleText:t,ServiceAreaAbbreviationList:t,DisplayNameLabel:t,determineTitleText:function(){var t=this,f,u;return n.addMnemonic(r,t.DisplayName,$$WP.Strings.EncodingTypes.None),n.addMnemonic(i,t.ServiceAreaAbbreviationList,$$WP.Strings.EncodingTypes.None),f="",u="",u=t.IsSelected&&t.IsSelf?"selfSelectorCurrentlyAccessingTitle":t.IsSelected&&!t.IsSelf?"currentlyAccessingTitle":!t.IsSelected&&t.IsSelf?"selfSelectorTitle":"subjectSelectorTitle",t.ServiceAreaAbbreviationList&&(u+="ServiceAreas"),f=n.getString(u),n.removeMnemonic(r),n.removeMnemonic(i),f},determineDisplayNameWithServiceAreas:function(){n.addMnemonic(r,this.DisplayName,$$WP.Strings.EncodingTypes.None);n.addMnemonic(i,this.ServiceAreaAbbreviationList,$$WP.Strings.EncodingTypes.None);var t=n.getString("subjectLabelTitleServiceAreas");return n.removeMnemonic(r),n.removeMnemonic(i),t}};$$WP.ProxySwitch.Models.ProxySubjectViewModel=u;u.extend($$WP.Common.Model,"WP$ProxySwitch$Models$ProxySubjectViewModel")}(),function(){var t=!1,n=null,i;$$WP.Utilities.guaranteeExistence($$WP,"Upload.Models");i=function(n){var t=this;n=n||{};t.WP$Common$Model(n);t.ContextData=jQuery.extend(!0,{},t.ContextData);t.ViewTemplate=n.ViewTemplate||$$WP.Templates.Upload.UploadContainer;t.UploadCardTemplate=n.UploadCardTemplate||$$WP.Templates.Upload.UploadCard;t.DefaultStringNamespace=n.DefaultStringNamespace||"Upload";t.ViewerCsn=n.ViewerCsn;t.IsPhotoForPatientsChart=n.IsPhotoForPatientsChart};i.prototype={s_dataMembers:["AllowedImageAndDocumentExtensions","AllowedVideoExtensions","MaxAllowedImageSize","MaxAllowedVideoSize","MaxFilesAllowed","ContextData"],AllowedImageAndDocumentExtensions:n,AllowedVideoExtensions:n,MaxAllowedImageSize:n,MaxAllowedVideoSize:n,MaxFilesAllowed:n,ContextData:{},ViewerCsn:"",ViewTemplate:n,IsPhotoForPatientsChart:t,UploadCardTemplate:n,AttachContainerEventHandlers:n,AttachFileCardEventHandlers:n,DefaultStringNamespace:n,ConfirmationViewModel:n,RefreshViewOverride:n,MasterController:n,NeedsRedirect:t,RedirectTitle:n,RedirectHtml:n,UseGet:t,FromVBPage:t,HideMaxUploadsWarning:t,HideFileExtensions:t,FromBedside:t,ConfigUrl:n,UploadUrl:makeLink("DocumentUpload/UploadFile"),DeleteUrl:makeLink("DocumentUpload/DeleteFile"),EditUrl:makeLink("DocumentUpload/EditFileName"),onConfigStart:n,onUploadStart:n,onEditStart:n,onDeleteStart:n,onConfigSucess:n,onUploadSuccess:n,onDeleteSuccess:n,onEditSuccess:n,onConfigFail:n,onUploadFail:n,onDeleteFail:n,onEditFail:n,ConfirmFunction:n,IsFileAceptable:function(n,t){var i=this,u=(n||"").lastIndexOf("."),r="",f=i.AllowedExtensions;return u>-1&&(r=n.substr(u+1).toUpperCase(),f.indexOf(r)>-1)?(t=t/1024,i.AllowedImageAndDocumentExtensions&&i.AllowedImageAndDocumentExtensions.indexOf(r)>-1&&i.MaxAllowedImageSize<t?2:i.AllowedVideoExtensions&&i.AllowedVideoExtensions.indexOf(r)>-1&&i.MaxAllowedVideoSize<t?3:0):1},get AllowedExtensions(){var n=this,t=[];return n.AllowedImageAndDocumentExtensions&&n.AllowedImageAndDocumentExtensions.length>0&&n.MaxAllowedImageSize>0&&(t=t.concat(n.AllowedImageAndDocumentExtensions)),n.AllowedVideoExtensions&&n.AllowedVideoExtensions.length>0&&n.MaxAllowedVideoSize>0&&(t=t.concat(n.AllowedVideoExtensions)),t},get AllowedExtensionsForInput(){var n=this.AllowedExtensions;return n&&n.length>0?"."+n.join(",."):""},get AllowedDocumentsHelperText(){var i="@MYCHART@ALLOWEDVIDEOSIZE@",r="@MYCHART@ALLOWEDIMAGESIZE@",u="@MYCHART@ALLOWEDEXTENSIONS@",f="@MYCHART@MAXUPLOADS@",n=this,t="";return $$WP.Strings.setDefaultNamespace(n.DefaultStringNamespace),$$WP.Strings.addMnemonic(f,n.MaxFilesAllowed),$$WP.Strings.addMnemonic(u,n.AllowedExtensions.join($$WP.Strings.get("listSeparator"))),$$WP.Strings.addMnemonic(r,Math.floor(n.MaxAllowedImageSize*10/1024)/10),$$WP.Strings.addMnemonic(i,Math.floor(n.MaxAllowedVideoSize*10/1024)/10),t=n.MaxFilesAllowed===1?n.HideFileExtensions?$$WP.Strings.get("UploadInfoBubbleHelpTextOneFileNoExtensions"):$$WP.Strings.get("UploadInfoBubbleHelpTextOneFile"):n.HideFileExtensions?$$WP.Strings.get("UploadInfoBubbleHelpTextNoExtensions"):$$WP.Strings.get("UploadInfoBubbleHelpText"),n.MaxAllowedImageSize>0&&(t+=$$WP.Strings.get("UploadInfoBubbleImageSizeHelpText")),n.MaxAllowedVideoSize>0&&(t+=$$WP.Strings.get("UploadInfoBubbleVideoSizeHelpText")),$$WP.Strings.removeMnemonic(i),$$WP.Strings.removeMnemonic(r),$$WP.Strings.removeMnemonic(u),$$WP.Strings.removeMnemonic(f),$$WP.Strings.clearDefaultNamespace(),t}};i.parse=function(n){return new i(n)};$$WP.Upload.Models.UploadConfiguration=i;i.extend($$WP.Common.Model,"WP$Upload$Models$UploadConfiguration")}(),function(){var t=null,n=function(n,t,u){var f=this;f.WP$BaseObject();f.Module=n||r.Default;f.Submodule=t||i.Default;f.IsoInstantUtc=u||(new Date).toISOString();f.ExtraInfoEntries=[]},u={Module:t,Submodule:t,IsoInstantUtc:t,ExtraInfoEntries:t,addEntryToExtraInfo:function(n,t,i,r){var u;i&&(Array.isArray(i)||(i=[i]),u={Index:n,Key:t,Values:i,AreValuesEncrypted:r},this.ExtraInfoEntries.push(u))}},r={Default:0,Scheduling:1},i={Default:0,ConfirmationStep:1,CustomStep:2,DemographicVerificationStep:3,InsuranceVerificationStep:4,LandingPage:5,LocationStep:6,LQFStep:7,OnboardingStep:8,ProviderStep:9,ReasonForVisitStep:10,RequestStep:11,SlotStep:12,OrganizationAuthStep:13,OrganizationStep:14,PatientLocationStep:15,PlatformStep:16,QuickScheduleStep:17,SummaryStep:18,StopScheduling:19,SpecialtyStep:20,ReservationStep:21,MyChartLinkStep:41,GrouperStep:42},f=function(n){for(var r in i)if(i[r]===n)return r;return t};n.prototype=u;n.ModulesEnum=r;n.SubmodulesEnum=i;n.getNameFromSubmodule=f;$$WP.Analytics=$$WP.Analytics||{};$$WP.Analytics.ViewEvent=n;n.extend($$WP.BaseObject,"WP$Analytics$ViewEvent")}(),function(){var t=$$WP.Analytics.ViewEvent,n=function(){this.WP$Controllers$Controller()},i=function(n,i){if(!$$WP.DisableUsageTracking&&$$WP.Utilities.UI.IsLoggedIn){if(n.Module===t.ModulesEnum.Default){$$WP.Debug.logError("Module must be defined in order to log a view event.");return}$.post({url:makeLink("Analytics/LogViewEventForUsageTracking"),data:$$WPUtil.postify(n),success:i,error:i})}},r=function(n){if(!$$WP.DisableUsageTracking){if($$WPUtil.guaranteeExistence($$WP,"ThirdPartyUsageTracking"),typeof $$WP.ThirdPartyUsageTracking.LogViewEvent!="function"){$$WP.Debug.logError("Attempted to log view event to third party but function does not exist. Did you include the correct JavaScript files?");return}$$WP.ThirdPartyUsageTracking.LogViewEvent(n.Path,n.Title,n.ExtraInfo)}},u=function(n){if($$WPUtil.canWriteCookies()){var n=n||!1,t=n?null:f;$$WP.TroveDisabled||sessionStorage.FormFactorReported!=="true"&&getCSRFTokenAsQS(function(i){$.ajax({url:makeLink("Analytics/LogFormFactor"),data:{width:e(),height:o(),guest:n,token:i},type:"POST",success:t})})}},f=function(){sessionStorage.setItem("FormFactorReported","true")},e=function(){return window.innerWidth},o=function(){return window.innerHeight};n.prototype={};n.logViewEvent=i;n.logThirdPartyViewEvent=r;n.logFormFactor=u;$$WP.Analytics=$$WP.Analytics||{};$$WP.Analytics.UsageTrackingController=n;n.extend($$WP.Controllers.Controller,"WP$Analytics$UsageTrackingController")}()