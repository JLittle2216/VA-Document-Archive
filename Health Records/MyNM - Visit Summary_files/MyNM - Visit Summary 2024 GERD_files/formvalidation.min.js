!function WP$FormValidation$definition(){var t,i={},e="input[data-validation-settings],select[data-validation-settings],textarea[data-validation-settings],.selectable [data-validation-settings],.mychart-captcha[data-validation-settings]",a="form, [data-validation-group]",n=0,s=function WP$FormValidation$s_validateInputCallback(t){l(t.currentTarget,"focusout"===t.type||"change"===t.type||"input"===t.type&&document.activeElement!==t.currentTarget,!0)},r=function WP$FormValidation$s_validationUpdatedCallback(t,i){l(t.currentTarget,!1,!0,!1,i,!0)},l=function WP$FormValidation$s_validateInput(t,i,e,a,n,s){var r,l,o,d,u,h;if(void 0!==(l=(r=$afe.jq(t)).safeAttr("data-validation-settings"))){if(o=new v(JSON.parse(l)),(d=new I(r,o,i,e,a,s)).validateInput(),h=d.valid!==d.initiallyValid,void 0!==d.$matchField&&d.$matchField.length&&d.valid){var p=new v(JSON.parse(d.$matchField.safeAttr("data-validation-settings")));e=""!==d.$matchField.val()&&document.activeElement!==r[0];(u=new I(d.$matchField,p,!0,e,!1)).validateInput(),h=h||u.valid!==u.initiallyValid}n||!h&&!d.$form.is("[data-validation-group][data-invalid]")||y(d.$form,!0)}},o=function WP$FormValidation$s_flagClickedSubmitButton(t){$afe.jq(t.target).safeAttr("data-clicked","true")},d=function WP$FormValidation$s_preventInvalidFormSubmission(t){var i,e;(e=(i=$afe.jq(t.target)).find('[type="submit"][data-clicked]')).removeAttr("data-clicked"),(0===e.length||e.get(0).hasAttribute("data-disable-if-invalid"))&&i.find("[data-invalid]").filter(":visible").length>0&&(t.preventDefault(),t.stopImmediatePropagation())},u=function WP$FormValidation$s_getInputType(t){var i,e;return i=t.get(0).nodeName.toLowerCase(),e=t.safeAttr("type"),"select"===i?"select":"input"===i&&"checkbox"===e?"checkbox":"input"===i&&"radio"===e?"radio":"input"===i&&"date"===e?"date":"input"===i&&"time"===e?"time":"textarea"===i||"input"===i&&T(e)?"text":"input"===i&&"number"===e?"number":t.closest(".selectable, [data-validation-group], form").hasClass("selectable")?"selectable":t.hasClass("mychart-captcha")?"captcha":"input"===i&&"tel"===e?"tel":"input"===i&&"email"===e?"email":void $$WP.Debug.logError(this.input+" does not have one of the allowed input types. Please fix, or update FormValidation.js to accomodate the new type.")},h=function WP$FormValidation$s_isLiteralInput(t){var i=u(t);return"select"===i||"checkbox"===i||"radio"===i||"tel"===i||"text"===i||"time"===i||"date"===i||"number"===i},p=function WP$FormValidation$s_putInputCache(i){var e,n;e=i.closest(a),t&&(n=t.get(e[0])),(n=n||[]).push(i[0]),t.set(e[0],n)},m=function $WPFromValidation$s_shouldAppendAnnouncement(t,i){return(t||i)&&78!==$$WP.ApplicationContext},c=function $WPFormValidation$s_generateUniqueId(){var t;do{t="parent-form-gen-id_"+n,n++}while(!$afe.select("#"+t));return t},g=function WP$FormValidation$ValidationGroup(t){"object"===$.type(t)&&this._parseRawGroup(t)};g.prototype={allRequired:!1,disableButtonsWhenEmpty:!1,evaluateNestedGroups:!1,evaluateParentGroups:!1,name:null,_parseRawGroup:function WP$FormValidation$ValidationGroup$_parseRawGroup(t){var i;for(i in t)i in g.prototype?this[i]=t[i]:$$WP.Debug.logError("'"+i+"' is not a recognized option in the data-validation-group attribute")},toJSON:function WP$FormValidation$ValidationGroup$toJSON(){var t,i;for(i in t={},this)this[i]!==g.prototype[i]&&(t[i]=this[i]);return JSON.stringify(t)}};var v=function WP$FormValidation$ValidationSettings(t){"object"===$.type(t)&&this._parseRawSettings(t),this.stringsNamespace=$$WP.Strings.getNamespace(this.stringsNamespace||"core.formvalidation")};v.prototype={required:!1,keepSpaces:!1,nullValue:"",maxLength:null,minLength:null,showCharacterCounter:!1,isUSZipCode:!1,isEmail:!1,isCurrency:!1,isNumber:!1,isNumericString:!1,precision:0,min:null,max:null,isDate:!1,isTime:!1,minDate:null,maxDate:null,atLeastOneChecked:!1,mustMatchField:null,isDOB:!1,format:!1,noInvalidCharacters:!0,stringsNamespace:null,_invalidValues:null,_invalidValuesErrorStringName:null,_invalidValuesCustomError:null,_parseRawSettings:function WP$FormValidation$ValidationSettings$_parseRawSettings(t){var i;for(i in t)i in v.prototype?this[i]=t[i]:$$WP.Debug.logError("'"+i+"' is not a recognized option in the data-validation-settings attribute");null!==this.stringsNamespace&&0!==this.stringsNamespace.toLowerCase().indexOf("core.formvalidation")&&$$WP.Debug.logError("Custom namespaces for form validation messages should be sub-namespaces of Core.FormValidation. '"+this.stringsNamespace+"' is not valid."),this.isDate&&(null!==this.minDate&&(this.minDate=new Date(this.minDate)),null!==this.maxDate&&(this.maxDate=new Date(this.maxDate)))},toJSON:function WP$FormValidation$ValidationSettings$toJSON(){var t,i;for(i in t={},this)this[i]!==v.prototype[i]&&(t[i]=this[i]);return void 0!==t.minDate&&(t.minDate=t.minDate.toISOString().substring(0,10)),void 0!==t.maxDate&&(t.maxDate=t.maxDate.toISOString().substring(0,10)),"core.formvalidation"!==t.stringsNamespace.Name?t.stringsNamespace=t.stringsNamespace.Name:delete t.stringsNamespace,JSON.stringify(t)}},v.WholeNumber=new v({isNumber:!0,min:0,precision:0}),v.NaturalNumber=new v({isNumber:!0,min:1,precision:0}),v.Integer=new v({isNumber:!0,precision:0}),v.Required=new v({required:!0}),v.AtLeastOneChecked=new v({atLeastOneChecked:!0}),v.noInvalidCharacters=new v,v.None=new v({noInvalidCharacters:!1});var f=function WP$FormValidation$ValidationProblem(t,i,e,a){this.priority=t,this.stringName=i,void 0===e&&(e=!1),this.onlyDisplayIssueOnLeavingInput=e,this.customErrorMessage=a,f.priority2instance[t]=this};f.prototype={priority:null,stringName:null,onlyDisplayIssueOnLeavingInput:!0,customErrorMessage:null},f.priority2instance={},f.empty=new f(1,"InputRequired"),f.invalidCharacters=new f(2,"InputInvalidCharacters",!1),f.tooLong=new f(3,"InputTooLong",!1),f.tooShort=new f(4,"InputTooShort"),f.noneChecked=new f(5,"NoneChecked"),f.notEmail=new f(6,"InputNotEmail",!0),f.notDirectAddress=new f(7,"InputNotDirectAddress"),f.notCurrency=new f(8,"InputNotCurrency"),f.currencyTooLow=new f(9,"InputTooLow"),f.currencyTooHigh=new f(10,"InputTooHigh"),f.notNumber=new f(11,"InputNotNumber"),f.notWholeNumber=new f(12,"InputNotWholeNumber"),f.numberTooLow=new f(13,"InputTooLow"),f.numberTooHigh=new f(14,"InputTooHigh"),f.notFormattedDate=new f(15,"InputNotFormattedDate",!0),f.notDateInvalidMonth=new f(16,"InputNotDateInvalidMonth",!0),f.notDateInvalidDay=new f(17,"InputNotDateInvalidDay",!0),f.notDateInvalidYear=new f(18,"InputNotDateInvalidYear",!0),f.dateTooEarly=new f(19,"InputTooEarly",!0),f.dateTooLate=new f(20,"InputTooLate",!0),f.notTime=new f(21,"InputNotTime",!0),f.invalidCaptcha=new f(22,"InvalidCaptcha"),f.notZIP=new f(23,"InputNotZIP"),f.invalid=new f(97,"InputInvalid"),f.invalidRetype=new f(98,"InvalidRetype"),f.groupInvalid=new f(99,"IncompleteGroup");var I=function WP$FormValidation$InputValidator(t,i,e,n,s,r){var l,o;if(this.$input=t,this.input=t.get(0),this.$fieldset=t.closest("fieldset"),this.validationSettings=i,this.asLeavingInput=e,this.updateAppearance=n,this.removeErrorsOnly=r,this.checkStructure=s,void 0===this.validationSettings&&(l=t.safeAttr("data-validation-settings"),this.validationSettings=void 0===l?new v:new v(JSON.parse(l))),this.inputName=t.safeAttr("data-name")||t.safeAttr("name"),this.$form=t.closest(a),this.$messageDisplay=this.$form.find('[data-message-display-for="'+this.inputName+'"]'),this.$messageDisplayAnnouncement=this.$form.find('[data-message-announcement-for="'+this.inputName+'"]'),this.nodeName=this.input.nodeName.toLowerCase(),this._checkProperStructure()){if(this.$messageDisplayAnnouncement.length>0?this.$input.addToAttr("aria-describedby",this.inputName+"_announcement"):this.$input.addToAttr("aria-describedby",this.inputName+"_message"),m(this.validationSettings.isDate,this.validationSettings.isTime)){var d=$$WP.I18N.__appendFormatterAriaAnnouncement(this.$input,!0);this.$input.addToAttr("aria-describedby",d)}0===this.$messageDisplayAnnouncement.length&&(this.validationSettings.maxLength||this.validationSettings.showCharacterCounter)&&(this.$messageDisplay.removeAttr("aria-live"),this.$messageDisplay.safeAttr("aria-hidden",!0),this.$messageDisplay.parent().safeAppend($$WP.SimpleTemplates.Div({id:this.inputName+"_announcement",class:"clearlabel","aria-live":"polite","data-message-announcement-for":this.inputName})),this.$input.removeAttr("aria-describedby"),this.$input.addToAttr("aria-describedby",this.inputName+"_announcement")),void 0===(o=this.$form.safeAttr("data-validation-group"))?this.validationGroup=new g:(this.validationGroup=new g(JSON.parse(o)),this.$groupMessageDisplay=this.$form.find("[data-message-display-for='"+this.validationGroup.name+"']"),this.$groupMessageDisplay.length>0&&!this.$groupMessageDisplay[0].hasAttribute("aria-live")&&this.$groupMessageDisplay.safeAttr("aria-live","polite")),this.inputValue=t.val(),this.inputType=u(this.$input),this.isLiteralInput=h(this.$input),"checkbox"===this.inputType?this.inputValue=!0===this.input.checked&&t.is(":visible"):"radio"===this.inputType?this.inputValue=this.$form.find('input[name="'+this.inputName+'"]:checked').val():"captcha"===this.inputType&&(this.inputValue=t.find("*[id*=g-recaptcha-response]").first().val()),this.$form.is("[data-validation-group]")?(this.initiallyValid=!this.$input.is("[data-invalid]")&&!this.$form.is("[data-invalid]:not([data-invalid-no-error])"),this.initiallyValid||t.safeAttr("data-invalid","true").safeAttr("aria-invalid","true")):this.initiallyValid=!this.$input.is("[data-invalid]"),(this.validationSettings.required||this.validationSettings.atLeastOneChecked)&&("radio"===this.inputType&&this.$fieldset.length>0?(this.$fieldset.safeAttr("role","radiogroup"),this.$fieldset.safeAttr("aria-required","true")):t.safeAttr("aria-required","true"))}};I.prototype={$input:null,input:null,$form:null,validationSettings:null,validationGroup:null,asLeavingInput:!0,updateAppearance:null,removeErrorsOnly:!1,checkStructure:null,$messageDisplay:null,$messageDisplayAnnouncement:null,$groupMessageDisplay:null,nodeName:null,inputName:null,inputType:null,inputValue:null,initiallyValid:null,isLiteralInput:null,_domHasProperStructure:null,_highestPriorityProblem:null,valid:null,standardizedInputValue:null,validateInput:function WP$FormValidation$InputValidator$validateInput(){var t,i,a,n,s,r,l;if(!this.checkStructure||this._domHasProperStructure){this._highestPriorityProblem=null,"select"===this.inputType?this._validateSelectInput():"checkbox"===this.inputType?this._validateCheckboxInput():"radio"===this.inputType?this._validateRadioInput():"text"===this.inputType?this._validateTextInput():"date"===this.inputType?this._validateDateInput():"time"===this.inputType?this._validateTimeInput():"selectable"===this.inputType?this._validateSelectableElement():"captcha"===this.inputType?this._validateCaptcha():"number"===this.inputType?this._validateNumberInput():"tel"===this.inputType?this._validatePhoneInput():this._validateOtherInput(),this.valid=null===this._highestPriorityProblem;var o=this.validationSettings.mustMatchField;if(this.valid&&null!==o&&""!==o){var d=this.$input.prevAll('input[name="'+o+'"], input[data-name="'+o+'"]').first();d.length>0?(this._validateRetype(d),this.valid=null===this._highestPriorityProblem):this.$matchField=this.$input.nextAll('input[name="'+o+'"], input[data-name="'+o+'"]').first()}if(this.valid?(this._findInputsWithSameName().removeAttr("data-invalid").removeAttr("aria-invalid"),"checkbox"===this.inputType&&this.validationSettings.atLeastOneChecked&&this._findInputsWithSameName().removeAttr("aria-required")):(this._findInputsWithSameName().safeAttr("data-invalid","true"),"checkbox"===this.inputType&&this.validationSettings.atLeastOneChecked&&this._findInputsWithSameName().safeAttr("aria-required",!0),this.asLeavingInput?this._findInputsWithSameName().safeAttr("aria-invalid","true"):this._findInputsWithSameName().removeAttr("aria-invalid")),this.$form.is("[data-validation-group]")){if(this.validationGroup.allRequired){for(t=this.$form.find(e).filter(":visible"),a=[],s=0;s<t.length;s++)n=(i=$afe.jq(t.get(s))).safeAttr("data-name")||i.safeAttr("name"),$.inArray(n,a)<0&&a.push(n);for(r=a.length,l=0,s=0;s<a.length;s++)i=this.$form.find(":input[name='"+a[s]+"'], [data-name='"+a[s]+"']"),this._checkIfHasValue(i)?r-=1:i.is("[optional-in-group]")||(l+=1);this._checkIfGroupInvalid(l>0&&r!==a.length||r===a.length&&this.validationGroup.disableButtonsWhenEmpty&&t.length>0,r===a.length||0===l)}else this._checkIfGroupInvalid(!1,!0);this.validationGroup.evaluateNestedGroups&&this._evaluateNestedGroups(),this.validationGroup.evaluateParentGroups&&this._evaluateParentGroups()}this._updateValidationDisplay()}},_validateSelectInput:function WP$FormValidation$InputValidator$_validateSelectInput(){var t=null;if(this.$input.prop("multiple")){var i=null===this.inputValue||Array.isArray(this.inputValue)&&0===this.inputValue.length||Array.isArray(this.inputValue)&&1===this.inputValue.length&&this.inputValue[0]===this.validationSettings.nullValue;this._checkIfInvalid(this.validationSettings.required&&i,f.empty),this._checkIfInvalid(this.validationSettings.atLeastOneChecked&&i,f.noneChecked)}else this._checkIfInvalid(this.validationSettings.required&&this.inputValue===this.validationSettings.nullValue,f.empty);null===this._highestPriorityProblem&&this.validationSettings._invalidValues&&this.inputValue!==this.validationSettings.nullValue&&(t=this.validationSettings._invalidValuesErrorStringName?new f(98,this.validationSettings._invalidValuesErrorStringName):f.invalid,this._checkIfInvalid(-1!==this.validationSettings._invalidValues.indexOf(this.inputValue),t))},_validateCheckboxInput:function WP$FormValidation$InputValidator$_validateCheckboxInput(){var t;this._checkIfInvalid(this.validationSettings.required&&!this.inputValue,f.empty),this.validationSettings.atLeastOneChecked&&!this.inputValue&&(t=this.$form.find('input[type="checkbox"][name="'+this.inputName+'"]:checked:visible'),this._checkIfInvalid(0===t.length,f.noneChecked))},_validateNumberInput:function WP$FormValidation$InputValidator$_validateNumberInput(){var t,i,e,a,n,s,r;t=this.inputValue.length,i=this.inputValue.trim(),this.standardizedInputValue=i,this._checkIfInvalid(null===this._highestPriorityProblem&&this.validationSettings.required&&0===t,f.empty),this._checkIfInvalid(null===this._highestPriorityProblem&&null!==this.validationSettings.maxLength&&t>this.validationSettings.maxLength,f.tooLong),this._checkIfInvalid(null===this._highestPriorityProblem&&""!==this.inputValue&&this.validationSettings.isUSZipCode&&!i.match(I.USZipCodeRegEx),f.notZIP),null===this._highestPriorityProblem&&this.validationSettings.isCurrency&&i.length>0&&(e=$$WP.I18N.parseCurrency(i),a=!isNaN(e),this._checkIfInvalid(null===this._highestPriorityProblem&&!a,f.notCurrency),a&&this.asLeavingInput&&null===this._highestPriorityProblem&&(this.standardizedInputValue=$$WP.I18N.formatNumber(e,$$WP.CurrentLocale.CurrencyDecimalPlaces,!0)),this._checkIfInvalid(null===this._highestPriorityProblem&&null!==this.validationSettings.min&&e<this.validationSettings.min,f.currencyTooLow),this._checkIfInvalid(null===this._highestPriorityProblem&&null!==this.validationSettings.max&&e>this.validationSettings.max,f.currencyTooHigh)),null===this._highestPriorityProblem&&this.validationSettings.isNumber&&i.length>0&&(n=$$WP.I18N.parseNumber(i),s=!isNaN(n),this._checkIfInvalid(null===this._highestPriorityProblem&&!s,f.notNumber),this._checkIfInvalid(null===this._highestPriorityProblem&&0===this.validationSettings.precision&&n%1!=0,f.notWholeNumber),s&&this.asLeavingInput&&null===this._highestPriorityProblem&&(this.standardizedInputValue=$$WP.I18N.formatNumber(n,this.validationSettings.precision)),this._checkIfInvalid(null===this._highestPriorityProblem&&null!==this.validationSettings.min&&n<this.validationSettings.min,f.numberTooLow),this._checkIfInvalid(null===this._highestPriorityProblem&&null!==this.validationSettings.max&&n>this.validationSettings.max,f.numberTooHigh)),null===this._highestPriorityProblem&&this.validationSettings._invalidValues&&i.length>0&&(r=this.validationSettings._invalidValuesErrorStringName?new f(98,this.validationSettings._invalidValuesErrorStringName):f.invalid,this._checkIfInvalid(-1!==this.validationSettings._invalidValues.indexOf(i),r))},_validateRadioInput:function WP$FormValidation$InputValidator$_validateRadioInput(){this._checkIfInvalid(this.validationSettings.required&&void 0===this.inputValue,f.empty),this.validationSettings.atLeastOneChecked&&!this.inputValue&&($checkedRadioButtons=this.$form.find('input[type="radio"][name="'+this.inputName+'"]:checked:visible'),this._checkIfInvalid(0===$checkedRadioButtons.length,f.noneChecked)),null===this._highestPriorityProblem&&this.validationSettings._invalidValues&&(this.validationSettings._invalidValuesErrorStringName?customValidationProblem=new f(98,this.validationSettings._invalidValuesErrorStringName):"string"==typeof this.validationSettings._invalidValuesCustomError&&""!==this.validationSettings._invalidValuesCustomError?customValidationProblem=new f(98,void 0,!0,this.validationSettings._invalidValuesCustomError):customValidationProblem=f.invalid,this._checkIfInvalid(!0,customValidationProblem))},_validateTextInput:function WP$FormValidation$InputValidator$_validateTextInput(){var t,i,e,a,n,s,r,l;t=this.inputValue.length,i=this.inputValue.trim(),this.standardizedInputValue=this.validationSettings.keepSpaces?this.inputValue:i,this._checkIfInvalid(null===this._highestPriorityProblem&&this.validationSettings.required&&0===t,f.empty),this._checkIfInvalidCharacters(i),this._checkIfInvalid(null===this._highestPriorityProblem&&null!==this.validationSettings.maxLength&&t>this.validationSettings.maxLength,f.tooLong),this._checkIfInvalid(null===this._highestPriorityProblem&&null!==this.validationSettings.minLength&&t<this.validationSettings.minLength,f.tooShort),this._checkIfInvalid(null===this._highestPriorityProblem&&""!==this.inputValue&&this.validationSettings.isUSZipCode&&!i.match(I.USZipCodeRegEx),f.notZIP),this.validationSettings.isEmail&&(this.standardizedInputValue=A(i),i=this.standardizedInputValue),l="direct"==this.$input.data("addresstype")?f.notDirectAddress:f.notEmail,this._checkIfInvalid(null===this._highestPriorityProblem&&""!==this.inputValue&&this.validationSettings.isEmail&&!i.match(I.emailRegEx),l),null===this._highestPriorityProblem&&this.validationSettings.isCurrency&&i.length>0&&(e=$$WP.I18N.parseCurrency(i),a=!isNaN(e),this._checkIfInvalid(null===this._highestPriorityProblem&&!a,f.notCurrency),a&&this.asLeavingInput&&null===this._highestPriorityProblem&&(this.standardizedInputValue=$$WP.I18N.formatNumber(e,$$WP.CurrentLocale.CurrencyDecimalPlaces,!0)),this._checkIfInvalid(null===this._highestPriorityProblem&&null!==this.validationSettings.min&&e<this.validationSettings.min,f.currencyTooLow),this._checkIfInvalid(null===this._highestPriorityProblem&&null!==this.validationSettings.max&&e>this.validationSettings.max,f.currencyTooHigh)),null===this._highestPriorityProblem&&this.validationSettings.isNumber&&i.length>0&&(n=$$WP.I18N.parseNumber(i),this._checkIfValidNumber(n)),null===this._highestPriorityProblem&&this.validationSettings.isNumericString&&i.length>0&&this._checkIfNumericString(i),m(this.validationSettings.isDate,this.validationSettings.isTime)&&this.validationSettings.isDate&&i.length>=0&&($$WP.I18N.attachLiveDateFormatter(this.$input,this.validationSettings.isDOB),null===this._highestPriorityProblem&&this._checkIfValidDate(i,this.validationSettings.required)),null===this._highestPriorityProblem&&this.validationSettings.isTime&&i.length>0&&(s=$$WP.I18N.parseTime(i),this._checkIfValidTime(s)),null===this._highestPriorityProblem&&this.validationSettings._invalidValues&&i.length>0&&(r=this.validationSettings._invalidValuesErrorStringName?new f(98,this.validationSettings._invalidValuesErrorStringName):"string"==typeof this.validationSettings._invalidValuesCustomError&&""!==this.validationSettings._invalidValuesCustomError?new f(98,void 0,!0,this.validationSettings._invalidValuesCustomError):f.invalid,this._checkIfInvalid(-1!==this.validationSettings._invalidValues.indexOf(i),r))},_validatePhoneInput:function WP$FormValidation$InputValidator$_validatePhoneInput(){var t,i,e;for(t=this.inputValue.trim();"#"===t.substring(0,1);)t=t.substring(1);this.standardizedInputValue=t,e=new RegExp("[-. ()]","g"),t=t.replace(e,""),this._checkIfInvalid(null===this._highestPriorityProblem&&(""!==t||!0===this.validationSettings.required)&&!$$WPUtil.isValidPhoneNumber(t),f.invalid),null===this._highestPriorityProblem&&this.validationSettings._invalidValues&&t.length>0&&(i=this.validationSettings._invalidValuesErrorStringName?new f(98,this.validationSettings._invalidValuesErrorStringName):f.invalid,this._checkIfInvalid(-1!==this.validationSettings._invalidValues.indexOf(t),i))},_validateOtherInput:function WP$FormValidation$InputValidator$_validateOtherInput(){var t,i;t=this.inputValue.trim(),this._checkIfInvalidCharacters(t),null===this._highestPriorityProblem&&this.validationSettings._invalidValues&&t.length>0&&(i=this.validationSettings._invalidValuesErrorStringName?new f(98,this.validationSettings._invalidValuesErrorStringName):f.invalid,this._checkIfInvalid(-1!==this.validationSettings._invalidValues.indexOf(t),i))},_checkIfInvalidCharacters:function WP$FormValidation$InputValidator$_checkIfInvalidCharacters(t){this._checkIfInvalid(null===this._highestPriorityProblem&&this.validationSettings.noInvalidCharacters&&!$$WPUtil.IsSupportedChars(t),f.invalidCharacters)},_checkIfValidNumber:function WP$FormValidation$InputValidator$_checkIfValidNumber(t){var i;i=!isNaN(t),this._checkIfInvalid(null===this._highestPriorityProblem&&!i,f.notNumber),this._checkIfInvalid(null===this._highestPriorityProblem&&0===this.validationSettings.precision&&t%1!=0,f.notWholeNumber),i&&this.asLeavingInput&&null===this._highestPriorityProblem&&(this.standardizedInputValue=$$WP.I18N.formatNumber(t,this.validationSettings.precision)),this._checkIfInvalid(null===this._highestPriorityProblem&&null!==this.validationSettings.min&&t<this.validationSettings.min,f.numberTooLow),this._checkIfInvalid(null===this._highestPriorityProblem&&null!==this.validationSettings.max&&t>this.validationSettings.max,f.numberTooHigh)},_checkIfNumericString:function(t){this._checkIfInvalid(null===this._highestPriorityProblem&&null==t.match(I.numberRegEx),f.notNumber)},_validateDateInput:function WP$FormValidation$InputValidator$_validateDateInput(){var t,i;this.input!==document.activeElement&&(this._checkIfInvalid(null===this._highestPriorityProblem&&this.validationSettings.required&&""===this.inputValue,f.empty),this._checkIfValidDate(this.inputValue,this.validationSettings.required),t=this.inputValue.trim(),null===this._highestPriorityProblem&&this.validationSettings._invalidValues&&t.length>0&&(i=this.validationSettings._invalidValuesErrorStringName?new f(98,this.validationSettings._invalidValuesErrorStringName):f.invalid,this._checkIfInvalid(-1!==this.validationSettings._invalidValues.indexOf(t),i)))},_checkIfValidDate:function WP$FormValidation$InputValidator$_checkIfValidDate(t,i){var e;if(""!==t||i){var a=new $$WP.I18N.Date(t,this.inputType,this.validationSettings.isDOB,this.validationSettings.format);null===a.DateObject||a.isValid()||(this._checkIfInvalid(!a.DayOfMonth.isValid(),f.notDateInvalidDay),this._checkIfInvalid(!a.Month.isValid(),f.notDateInvalidMonth),this._checkIfInvalid(!a.Year.isValid(),f.notDateInvalidYear)),this._checkIfInvalid(null===a.DateObject,f.notFormattedDate),null!==a.DateObject&&(this.asLeavingInput&&"text"===this.inputType&&(a.isSpilledOver()||!a.Year.isValid()?this.standardizedInputValue=t:this.standardizedInputValue=$$WP.I18N.formatPatientGivenDate(a.DateObject)),e=a.DateObject.getTime(),this._checkIfInvalid(null===this._highestPriorityProblem&&null!==this.validationSettings.minDate&&e<this.validationSettings.minDate.getTime(),f.dateTooEarly),this._checkIfInvalid(null===this._highestPriorityProblem&&null!==this.validationSettings.maxDate&&e>this.validationSettings.maxDate.getTime()+1,f.dateTooLate))}},_validateTimeInput:function WP$FormValidation$InputValidator$_validateTimeInput(){var t;this.input!==document.activeElement&&(""!==this.inputValue?(t=$$WP.I18N.parse24HrTime(this.inputValue),this._checkIfValidTime(t)):this._checkIfInvalid(null===this._highestPriorityProblem&&this.validationSettings.required,f.empty))},_checkIfValidTime:function WP$FormValidation$InputValidator$_checkIfValidTime(t){this._checkIfInvalid(null===t,f.notTime),null!==t&&this.asLeavingInput&&"text"===this.inputType&&(this.standardizedInputValue=$$WP.I18N.formatPatientGivenTime(t))},_validateSelectableElement:function WP$FormValidation$InputValidator$_validateSelectableElement(){var t;this.validationSettings.atLeastOneChecked&&!this.inputValue&&(t=this.$form.find("[data-name='"+this.inputName+"'].selected"),this._checkIfInvalid(0===t.length,f.noneChecked))},_validateCaptcha:function WP$FormValidation$InputValidator$_validateCaptcha(){var t=this.inputValue.trim();this._checkIfInvalid(this.validationSettings.required&&0===t.length,f.invalidCaptcha)},_validateRetype:function WP$FormValidation$InputValidator$_validateRetype(t){this._checkIfInvalid(this.inputValue!==t.val(),f.invalidRetype)},_evaluateNestedGroups:function WP$FormValidation$InputValidator$_evaluateNestedGroups(t){return t||(t=this.$form),t.find("[data-validation-group][data-invalid]").length>0&&(t.safeAttr("data-invalid","true"),!0)},_evaluateParentGroups:function WP$FormValidation$InputValidator$_evaluateParentGroups(){var t,i,e,n;if(0!==(t=this.$form.parents(a)).length)for(i=0;i<t.length;i++)e=$afe.jq(t[i]),new g(JSON.parse(e.safeAttr("data-validation-group")||"{}")).evaluateNestedGroups&&(this._evaluateNestedGroups(e)||(n=this._findDirectChildInputs(e,"[data-invalid]"),this._hasVisibleElement(n)?e.safeAttr("data-invalid","true"):e.removeAttr("data-invalid")))},_findDirectChildInputs:function WP$FormValidation$InputValidator$_findDirectChildInputs(i,e){var n;return(n=function $WPFormValidation$s_getInputsFromCache(i,e){var a,n;return t&&(a=t.get(i[0])),a&&(n=$afe.jq(a),e&&(n=n.filter(e))),n}(i,e))||(n=$afe.select(".section.questionsContainer").length>0?i.find("[parent-form='"+i[0].id+"']").filter(e):(n=i.find(e)).filter((function WP$FormValidation$checkIfFormIsValid$invalidInputsFilter(){return $afe.jq(this).closest(a).is(i)}))),n},_hasVisibleElement:function WP$FormValidation$InputValidator$_hasVisibleElement(t){var i;for(i=0;i<t.length;i++)if($afe.jq(t.get(i)).is(":visible"))return!0},_getInvalidCharacters:function WP$FormValidation$InputValidator$_getInvalidCharacters(t){for(var i,e=!1,a=0;a<t.length;a++)$$WPUtil.IsSupportedChars(t[a])||(e?i=i.concat(", ",t[a]):(i=t[a],e=!0));return i},_updateValidationDisplay:function WP$FormValidation$InputValidator$_updateValidationDisplay(){var t,i,e,a,n,s;if(this.updateAppearance){if(t=(this.inputValue||"")+"",a=this.validationSettings.maxLength||0,n=this.validationSettings.minLength||0,s=t.length,messageInputType=D(this.inputType,this.$input),e={"@MYCHART@CHARACTERLIMIT@":{Value:s<n?n:a,EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@CHARACTERSUSED@":{Value:s,EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@CHARACTERSREMAINING@":{Value:a-s,EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@MINIMUM@":{Value:$$WP.I18N.formatNumber(this.validationSettings.min||0,this.validationSettings.precision),EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@MAXIMUM@":{Value:$$WP.I18N.formatNumber(this.validationSettings.max||0,this.validationSettings.precision),EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@DATEFORMAT@":{Value:this._getDateFormatForDisplay(),EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@MINDATE@":{Value:$$WP.I18N.formatPatientGivenDate(this.validationSettings.minDate),EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@MAXDATE@":{Value:$$WP.I18N.formatPatientGivenDate(this.validationSettings.maxDate),EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@TIMEFORMAT@":{Value:this._getTimeFormatForDisplay(),EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@INPUTTYPE@":{Value:$$WP.Strings.get("Type_"+messageInputType,"Core.FormValidation"),EncodingType:$$WP.Strings.EncodingTypes.None},"@MYCHART@INVALIDCHARACTERS@":{Value:this._getInvalidCharacters(t),EncodingType:$$WP.Strings.EncodingTypes.None}},this.validationSettings.stringsNamespace.addMnemonics(e),this.validationSettings.isDate&&!this.validationSettings.minDate&&(this.validationSettings.minDate="1841-01-01"),this.valid||this._highestPriorityProblem.onlyDisplayIssueOnLeavingInput&&!this.asLeavingInput)this.$input.removeClass("invalid"),this.$messageDisplay.empty(),this.$messageDisplayAnnouncement.empty(),this.$messageDisplay.removeAttr("data-invalid-reason");else if(!this.removeErrorsOnly&&!this.valid&&(this.$input.addClass("invalid"),Number(this.$messageDisplay.safeAttr("data-invalid-reason"))!==this._highestPriorityProblem&&this.asLeavingInput||!this._highestPriorityProblem.onlyDisplayIssueOnLeavingInput||this.$input.hasClass("togglebutton"))){"string"==typeof(i=this._highestPriorityProblem.customErrorMessage)&&""!==i||(i=this.validationSettings.stringsNamespace.getString(this._highestPriorityProblem.stringName));var r=this.validationSettings.maxLength&&this.validationSettings.maxLength<s;if(null!==r&&r)this.$messageDisplay.empty().safeAppend($$WP.SimpleTemplates.ValidationMessage(i)),this.$input.on("keyup",function(){clearTimeout(l),l=setTimeout(function(){this.$messageDisplayAnnouncement.length>0&&(this.$messageDisplayAnnouncement[0].innerHTML=this.$messageDisplay[0].innerHTML,setTimeout(function(){$afe.select("#"+this.$messageDisplayAnnouncement[0].id).empty()}.bind(this),200))}.bind(this),1500)}.bind(this)),this.$input.on("keydown",(function(){clearTimeout(l)}));else this.$messageDisplay.empty().safeAppend($$WP.SimpleTemplates.ValidationMessage(i)),0!==this.$messageDisplayAnnouncement.length&&(this.$messageDisplayAnnouncement[0].innerHTML=this.$messageDisplay[0].innerHTML);this.$messageDisplay.safeAttr("data-invalid-reason",this._highestPriorityProblem)}var l;if(this.valid&&this.validationSettings.showCharacterCounter&&!this.asLeavingInput&&this.input===document.activeElement)$$WP.Strings.setDisplayText(this.$messageDisplay,"CharacterCounter",this.validationSettings.stringsNamespace),this.$input.on("keyup",function(){clearTimeout(l),l=setTimeout(function(){!this.$input.hasClass("invalid")&&this.$messageDisplayAnnouncement.length>0&&(this.$messageDisplayAnnouncement[0].innerHTML=this.$messageDisplay[0].innerHTML,setTimeout(function(){$afe.select("#"+this.$messageDisplayAnnouncement[0].id).empty()}.bind(this),200))}.bind(this),1500)}.bind(this)),this.$input.on("keydown",(function(){clearTimeout(l)}));null!==this.standardizedInputValue&&this.asLeavingInput&&(this.$input.val(this.standardizedInputValue),this.$input.hasClass("slidervalue")&&(""===this.standardizedInputValue&&this.standardizedInputValue!==t||""!==this.standardizedInputValue&&$$WP.I18N.parseNumber(this.standardizedInputValue)!==$$WP.I18N.parseNumber(t))&&this.$input.trigger("updateslider")),m(this.validationSettings.isDate,this.validationSettings.isTime)&&(this.standardizedInputValue!==this.inputValue?$$WP.I18N.__appendFormatterAriaAnnouncement(this.$input,void 0,this.standardizedInputValue,this.validationSettings.isDOB,this.validationSettings.isTime):this.validationSettings.format||this.asLeavingInput||$$WP.I18N.__clearFormatterAriaAnnouncement(this.$input)),this.$form.is("[data-validation-group]")&&(this.$form.is("[data-invalid]:not([data-invalid-no-error])")?(i=this.validationSettings.stringsNamespace.getString(f.groupInvalid.stringName),this.$groupMessageDisplay.empty(),this.$groupMessageDisplay.safeAppend($$WP.SimpleTemplates.ValidationMessage(i)),this.$groupMessageDisplay.safeAttr("data-invalid-reason",f.groupInvalid)):this.$groupMessageDisplay.empty(),this.valid=this.valid&&!this.$form.is("[data-invalid]")),this.validationSettings.stringsNamespace.clearMnemonics()}},_checkIfInvalid:function WP$FormValidation$InputValidator$_checkIfInvalid(t,i){t&&(null===this._highestPriorityProblem||this._highestPriorityProblem.priority>i.priority)&&(this._highestPriorityProblem=i)},_checkIfGroupInvalid:function WP$FormValidation$InputValidator$_checkIfGroupInvalid(t,i){var e,a=this.$form;t?(a.safeAttr("data-invalid","true"),i?a.safeAttr("data-invalid-no-error","true"):a.removeAttr("data-invalid-no-error")):(e=this._findDirectChildInputs(a,"input[data-invalid], select[data-invalid], textarea[data-invalid], .selectable [data-invalid]"),this._hasVisibleElement(e)?(a.safeAttr("data-invalid","true"),i&&a.safeAttr("data-invalid-no-error","true")):a.removeAttr("data-invalid").removeAttr("data-invalid-no-error"))},_checkIfHasValue:function WP$FormValidation$InputValidator$_checkIfHasValue(t){var i=u(t.first());return"select"===i?t.val()!==JSON.parse(t.safeAttr("data-validation-settings")).nullValue:"checkbox"===i||"radio"===i?t.is(":checked"):"text"===i||"date"===i||"time"===i||"number"===i||"tel"===i||"email"===i?t.val().length>0:"selectable"===i?t.hasClass("selected"):"captcha"===i?t.find("#g-recaptcha-response").val().length>0:void $$WP.Debug.logError(this.input+" does not have one of the allowed input types. Please fix, or update FormValidation.js to accomodate the new type.")},_getDateFormatForDisplay:function WP$FormValidation$InputValidator$_getDateFormatForDisplay(){return $$WP.I18N.DateFormat.toLowerCase().replace(/d+/g,this.validationSettings.stringsNamespace.getString("DD")).replace(/m+/g,this.validationSettings.stringsNamespace.getString("MM")).replace(/y+/g,this.validationSettings.stringsNamespace.getString("YYYY"))},_getTimeFormatForDisplay:function WP$FormValidation$InputValidator$_getTimeFormatForDisplay(){return $$WP.I18N.TimeFormat.toLowerCase().replace(/h+/g,this.validationSettings.stringsNamespace.getString("HH")).replace(/m+/g,this.validationSettings.stringsNamespace.getString("MI")).replace(/t+/g,this.validationSettings.stringsNamespace.getString("TT"))},_checkProperStructure:function WP$FormValidation$InputValidator$_checkProperStructure(){var t,i,e,a;return!(this.checkStructure&&!this._domHasProperStructure)||(t=!0,void 0===this.inputName&&($$WP.Debug.logError(this.input+" needs to specify the 'name' or 'data-name' attribute"),t=!1),0===this.$messageDisplay.length&&($$WP.Debug.logError(this.input+" needs to have a message display element specified using the data-message-display-for attribute."),t=!1),0===this.$form.length&&($$WP.Debug.logError(this.input+" needs to be in a <form> or validation-group to make use of the form validation framework."),t=!1),this.validationSettings.required&&void 0!==this.inputName&&h(this.$input)&&0===this.$form.find('label[for="'+this.$input.safeAttr("id")+'"].required').length&&(i=this.$input.closest("fieldset").find("legend.required"),a=this.$form.closest("div").find("div.required"),0===i.length&&0===a.length&&(e=this.$input.closest('[role="radiogroup"]'),0===this.$form.find('[id="'+e.safeAttr("aria-labelledby")+'"].required').length&&($$WP.Debug.logError(this.input+" is required, but no associated <label>, <legend>, or <div> element has the 'required' CSS class"),t=!1))),this.validationSettings.isNumber&&!this.input.hasAttribute("maxlength")&&this.$input.safeAttr("maxlength",15),this._domHasProperStructure=t,t)},_findInputsWithSameName:function WP$FormValidation$InputValidator$_findInputsWithSameName(){var t=$();return"checkbox"===this.inputType?t=this.$form.find('input[type="checkbox"][name="'+this.inputName+'"], input[type="checkbox"][data-name="'+this.inputName+'"]'):"selectable"===this.inputType?t=this.$form.find('[name="'+this.inputName+'"], [data-name="'+this.inputName+'"]'):"select"===this.inputType?t=this.$form.find('select[name="'+this.inputName+'"], select[data-name="'+this.inputName+'"]'):"radio"===this.inputType&&(t=this.$form.find('input[type="radio"][name="'+this.inputName+'"], input[type="radio"][data-name="'+this.inputName+'"]')),t.add(this.$input)}},I.USZipCodeRegEx=/^(\d{5}(-?\d{4})?)$/,I.emailRegEx=/^[A-Za-z0-9\xC0-\xFFƒŠŒŽšœžŸ._$!#&'*/=?^`{|}~%+-]{1,64}@(?=.{3,253}$)([A-Za-z0-9\xC0-\xFFƒŠŒŽšœžŸ-]+\.)+[A-Za-z\xC0-\xFFƒŠŒŽšœžŸ]+$/,I.numberRegEx=/^\d+$/;var P=function WP$FormValidation$initializeDOMSubtree(i,n,s){var r,o,d,u,h,m,g,v,$=!1;for(t=new Map,r=i.find(e),o=0;o<r.length;o++){if(d=r.get(o),m=(u=$afe.jq(d)).safeAttr("name"),v=u.safeAttr("type"),s){if(m===g){if("radio"===v||$)continue}else $=!1;"checkbox"===v&&u.is(":visible")&&($=!0)}"text"===d.type&&!0===JSON.parse(u.safeAttr("data-validation-settings")).isDate&&u.attr("placeholder")!==$$WP.I18N.getDateFormatForDisplay()&&u.safeAttr("placeholder",$$WP.I18N.getDateFormatForDisplay()),p(u),h=void 0!==u.safeAttr("data-initially-invalid"),l(r.get(o),!1,n||h,!0,!0),g=m}r.length>0&&t.forEach((function(t,i){if(s)for(o=0;o<t.length;o++)""===i.id&&(i.id=c()),$afe.jq(t[o]).safeAttr("parent-form",i.id);y($afe.jq(i),!0)})),i.is(a)&&y(i,!0),t.clear()},y=function WP$FormValidation$checkIfFormIsValid(t,i){var e,n,s,r,l;if(0===t.length)return $$WP.Debug.logError("Inputs need to be in a <form> or validation-group to make use of the form validation framework"),!1;if(e=$afe.select(".section.questionsContainer").length>0?t.find("[data-invalid]:not([data-invalid-ignore])[parent-form='"+t.safeAttr("id")+"']").filter(":visible"):(e=t.find("[data-invalid]:not([data-invalid-ignore])").filter(":visible")).filter((function WP$FormValidation$checkIfFormIsValid$invalidInputsFilter(){return $afe.jq(this).parent().closest(a).is(t)})),s=t.is("[data-validation-group][data-invalid]"),i){0===(n=N(t)).length?$$WP.Debug.logError("Buttons to save or continue the workflow need to be marked with the data-disable-if-invalid property to prevent submission of invalid inputs."):0===n.filter((function WP$FormValidation$checkIfFormIsValid$buttonsFilter(){return $afe.jq(this).closest(a).is(t)})).length&&(s||(r=!y(t.parents(a),!1))),$$WP.Strings.setDefaultNamespace("core.formvalidation");var o="",d="";if(e.length>0||s||r){n.addClass("disabled"),n.prop("disabled",!0);for(var u=0;u<n.length;u++){(h=$afe.jq(n[u])).hasClass("disabled")||h.safeAttr("data-old-aria-label",h.safeAttr("aria-label")),d=h.safeAttr("value")||h.text(),$$WP.Strings.addMnemonic("@MYCHART@BUTTONLABEL@",d,""),o=$$WP.Strings.getForTemplate("DisabledButtonToolTip").toString(),h.safeAttr("title")&&h.safeAttr("title")!==h.safeAttr("value")||h.safeAttr("title",o),h.safeAttr("aria-label",o),$$WP.Strings.removeMnemonic("@MYCHART@BUTTONLABEL@")}}else{n.removeClass("disabled"),n.prop("disabled",!1);for(u=0;u<n.length;u++){var h;d=(h=$afe.jq(n[u])).safeAttr("value")||h.text(),$$WP.Strings.addMnemonic("@MYCHART@BUTTONLABEL@",d,""),o=$$WP.Strings.getForTemplate("DisabledButtonToolTip").toString(),h.safeAttr("title")&&h.safeAttr("title")!==o||(h.safeAttr("value")?h.safeAttr("title",h.safeAttr("value")):h.removeAttr("title")),h.safeAttr("aria-label")&&h.safeAttr("aria-label")!==o||(h.safeAttr("data-old-aria-label")?(h.safeAttr("aria-label",h.safeAttr("data-old-aria-label")),h.removeAttr("data-old-aria-label")):h.safeAttr("title")?h.safeAttr("aria-label",h.safeAttr("title")):h.removeAttr("aria-label")),$$WP.Strings.removeMnemonic("@MYCHART@BUTTONLABEL@")}}$$WP.Strings.clearDefaultNamespace()}return void 0!==(l=t.safeAttr("data-validation-group"))&&JSON.parse(l).evaluateParentGroups&&y(t.parents(a),!0),0===e.length&&!s},V=function WP$FormValidation$_updateButtonText(t,i){"button"===t[0].tagName.toLowerCase()?t.text(i):t.safeAttr("value",i)},_=function WP$FormValidation$_updateButtonDataOldAriaLabel(t,i,e){var a=t.safeAttr("data-old-aria-label");void 0!==a&&""!==a&&null!==a&&(void 0!==i&&""!==i&&null!==i?t.safeAttr("data-old-aria-label",i):!0===clearAria?t.removeAttr("data-old-aria-label"):t.safeAttr("data-old-aria-label",e))},S=function WP$FormValidation$_updateButtonTitle(t,i,e,a){!0===i?t.removeAttr("title"):void 0!==e&&""!==e&&null!==e?t.safeAttr("title",e):t.safeAttr("title",a)},b=function WP$FormValidation$_updateButtonAriaLabel(t,i,e,a){!0===i?t.removeAttr("aria-label"):void 0!==e&&""!==e&&null!==e?t.safeAttr("aria-label",e):t.safeAttr("aria-label",a)},N=function WP$FormValidation$getButtonsToModify(t){var i;return 0===t.length?t:0===(i=(i=t.find("[data-disable-if-invalid]")).filter((function WP$FormValidation$checkIfFormIsValid$buttonsFilter(){return $afe.jq(this).closest(a).is(t)}))).length?N(t.parents(a)):i},A=function WP$FormValidation$removeSmartApostrophes(t){return t=(t=t.replace("‘","'")).replace("’","'")},T=function WP$FormValidation$isTextInputType(t){return-1!==["text","password","email"].indexOf(t)||void 0===t},D=function WP$FormValidation$getMessageInputType(t,i){var e,a;return a=t,"password"==(e=i.attr("type"))?a="password":"email"==e&&(a="direct"==i.data("addresstype")?"directAddress":"email"),a},W=function WP$FormValidation$Handlebars$generateMessageDisplayForAttribute(t){return' data-message-display-for="'+t+'"'};i.initializeDOMSubtree=P,i.checkIfFormIsValid=y,i.updateButtonAfterValidation=function WP$FormValidation$updateButtonAfterValidation(t,i,e,a,n,s){var r=t.safeAttr("data-disable-if-invalid");if(void 0!==r&&!1!==r)if(void 0!==i&&""!==i&&null!==i){V(t,i),_(t,a,i),$$WP.Strings.setDefaultNamespace("core.formvalidation"),$$WP.Strings.addMnemonic("@MYCHART@BUTTONLABEL@",i,"");var l=$$WP.Strings.getForTemplate("DisabledButtonToolTip").toString();$$WP.Strings.removeMnemonic("@MYCHART@BUTTONLABEL@"),$$WP.Strings.clearDefaultNamespace(),t.safeAttr("aria-label")!==l&&(S(t,n,e,i),b(t,s,a,i))}else console.error("updateButtonAfterValidation should always expect a button value.");else console.error("updateButtonAfterValidation should only be called on button which has data-disable-if-invalid attribute.")},i.resetButtonToDefaultTooltip=function WP$FormValidation$resetButtonToDefaultEnabled(t){t&&0!==t.length&&(S(t,!0),b(t,!0),t.removeAttr("value"))},i.addValidationError=function WP$FormValidation$addValidationError(t,i,e){var a,n;if(0===t.length)return $$WP.Debug.logError("Cannot add error without input"),!1;(n=void 0===(a=t.safeAttr("data-validation-settings"))?new v:new v(JSON.parse(a)))._invalidValues=n._invalidValues||[],n._invalidValues.push(t.val()),n._invalidValuesErrorStringName=i,n._invalidValuesCustomError=e,t.safeAttr("data-validation-settings",n.toJSON()),l(t,!0,!0)},i.removeInvalidValue=function WP$FormValidation$removeInvalidValue(t,i){var e,a,n;if(0===t.length)return $$WP.Debug.logError("Cannot remove error without input"),!1;(a=void 0===(e=t.safeAttr("data-validation-settings"))?new v:new v(JSON.parse(e)))._invalidValues=a._invalidValues||[],(n=a._invalidValues.indexOf(i))>=0&&a._invalidValues.splice(n,1),0===a._invalidValues.length&&(a._invalidValuesErrorStringName=null,a._invalidValuesCustomError=null),t.safeAttr("data-validation-settings",a.toJSON()),l(t,!0,!0)},i.resetValidationErrorForAnInput=function WP$FormValidation$resetValidationError(t,i){l(t,!0,i)},i.ValidationSettings=v,i.ValidationProblem=f,i.ValidationGroup=g,i.InputValidator=I,i.Handlebars={validationSettingsAttribute:function WP$FormValidation$Handlebars$generateValidationSettingsAttribute(t,i){return" data-validation-settings="+t.toJSON()+" "},messageDisplay:function WP$FormValidation$Handlebars$generateMessageDisplay(t,i){var e;return e=' id="'+t+'_message" ',' aria-live="polite" ',"string"!=typeof i&&(i=""),-1===i.indexOf('class="')&&(i+=' class="messagedisplay" '),new Handlebars.SafeString("<div"+e+' aria-live="polite" '+W(t)+i+"></div>")},messageDisplayForAttribute:W,disableIfInvalidAttribute:function WP$FormValidation$Handlebars$generateDisableIfInvalidAttribute(){return" data-disable-if-invalid "},validationGroupAttribute:function WP$FormValidation$Handlebars$generateValidationGroupAttribute(t){return" data-validation-group="+t.toJSON()},validationRequiredAttribute:function WP$FormValidation$Handlebars$generateValidationRequiredAttribute(){return" data-validation-settings="+v.Required.toJSON()},showRequiredInstructions:function WP$FormValidation$Handlebars$generateRequiredInstructions(){var t=$$WP.Strings.getForTemplate("RequiredLegend","Core.FormValidation");return new Handlebars.SafeString('<p class="requiredInstructions" aria-hidden="true">'+t+"</p>")}},i.ResetReCaptcha=function WP$FormValidation$resetReCaptcha(){l($afe.select(".mychart-captcha"),!1,!0,!1)},$$WP.FormValidation=i,$afe.onDocumentReady((function WP$FormValidation$s_initializeFramework(){var t=$afe.select("body");t.on("focusout input change",e,s),t.on("validationUpdated",e,r),t.on("click",".selectable [data-validation-settings]",s),t.on("click",'form input[type="submit"]',o),t.on("submit","form",d),P(t)}))}();