function registerUIUtilitiesHelpers(){$$WP.Utilities.UI&&(Handlebars.registerHelper("ifMobile",(function(e){return $$WP.Utilities.UI.IsMobile?e.fn(this):e.inverse(this)})),Handlebars.registerHelper("ifMobileOrMobileBrowser",(function(e){return $$WP.Utilities.UI.IsMobile||("echeckin"===$$WP.Utilities.queryString("src")||$afe.select("html").hasClass("respquestionnaire"))&&WP.DOM.Browser.isMobile?e.fn(this):e.inverse(this)})),Handlebars.registerHelper("ifNotMobileOrMobileBrowser",(function(e){return $$WP.Utilities.UI.IsMobile||("echeckin"===$$WP.Utilities.queryString("src")||$afe.select("html").hasClass("respquestionnaire"))&&WP.DOM.Browser.isMobile?e.inverse(this):e.fn(this)})),Handlebars.registerHelper("ifNotMobile",(function(e){return $$WP.Utilities.UI.IsMobile?e.inverse(this):e.fn(this)})),Handlebars.registerHelper("ifWelcome",(function(e){return 78===$$WP.ApplicationContext?e.fn(this):e.inverse(this)})),Handlebars.registerHelper("ifWelcomeNotMobile",(function(e){return 78!==$$WP.ApplicationContext||$$WP.Utilities.UI.IsMobile?e.inverse(this):e.fn(this)})),Handlebars.registerHelper("ifWelcomeOrMobile",(function(e){return 78===$$WP.ApplicationContext||$$WP.Utilities.UI.IsMobile||WP.DOM.Browser.isMobile?e.fn(this):e.inverse(this)})),Handlebars.registerHelper("ifNotWelcomeOrMobile",(function(e){return 78===$$WP.ApplicationContext||$$WP.Utilities.UI.IsMobile||WP.DOM.Browser.isMobile?e.inverse(this):e.fn(this)})),Handlebars.registerHelper("ifPreLogin",(function(e){return $$WP.Utilities.UI.IsLoggedIn?e.inverse(this):e.fn(this)})),Handlebars.registerHelper("ifiOS",(function(e){return WP.DOM.Browser.isIPhone||WP.DOM.Browser.isIPad||WP.DOM.Browser.isIPod||78===$$WP.ApplicationContext&&$$WP.Utilities.UI.IsIos()?e.fn(this):e.inverse(this)})),Handlebars.registerHelper("proxyColorClass",(function(e){return $$WP.Utilities.UI.ProxyColorClass})),Handlebars.registerHelper("ifWorkflowRestricted",(function(e){return $$WP.Utilities.UI.IsWorkflowRestricted?e.fn(this):e.inverse(this)})),Handlebars.registerHelper("ifCapturedWorkflow",(function(e){return $$WP.Utilities.UI.IsCapturedWorkflow?e.fn(this):e.inverse(this)})),Handlebars.registerHelper("ifNotPrelogin",(function(e){return $$WP.Utilities.UI.IsMidLogin||$$WP.Utilities.UI.IsLoggedIn?e.fn(this):e.inverse(this)})),Handlebars.registerHelper("ifMidLogin",(function(e){return $$WP.Utilities.UI.IsMidLogin?e.fn(this):e.inverse(this)})),Handlebars.registerHelper("ifPreloginOrGuest",(function(e){return $$WP.Utilities.UI.IsMidLogin||$$WP.Utilities.UI.IsWorkflowRestricted||!$$WP.Utilities.UI.IsLoggedIn?e.fn(this):e.inverse(this)})),Handlebars.registerHelper("ifFromMyChartCentral",(function(e){return $$WP.Utilities.queryString("mccLocation")||sessionStorage.getItem("mccLocation")?e.fn(this):e.inverse(this)})),Handlebars.registerHelper("getContinueToOrgText",(function(e){return $$WP.Settings.OrganizationName?($$WP.Strings.addMnemonic("@MYCHART@MYORGNAME@",$$WP.Settings.OrganizationName),string=$$WP.Strings.getForTemplate("ContinueToOrg"),$$WP.Strings.removeMnemonic("@MYCHART@MYORGNAME@")):string=$$WP.Strings.getForTemplate("ContinueToHome"),string})))}function registerI18NHelpers(){$$WP.I18N&&(Handlebars.registerHelper("verticalDateWithYear",(function(e,r,n){var t=new Date(n,r-1,e),i=$$WP.I18N.getOrderedDatePieces(!1);return new Handlebars.SafeString($$WP.I18N.Handlebars.verticalDate(t,i))})),Handlebars.registerHelper("verticalDateWithDayName",(function(e,r,n){var t=new Date(n,r-1,e),i=$$WP.I18N.getOrderedDatePieces(!0);return"d"===i[0]?i.unshift("dow"):i.push("dow"),new Handlebars.SafeString($$WP.I18N.Handlebars.verticalDate(t,i))})),Handlebars.registerHelper("verticalDateWithoutDay",(function(e,r,n){var t=new Date(n,r-1,e),i=$$WP.I18N.getOrderedDatePieces(!1,!1,!0);return new Handlebars.SafeString($$WP.I18N.Handlebars.verticalDate(t,i))})))}function registerStringsHelpers(){$$WP.Strings&&(Handlebars.registerHelper("setStringNamespace",$$WP.Strings.setDefaultNamespace),Handlebars.registerHelper("clearStringNamespace",$$WP.Strings.clearDefaultNamespace),Handlebars.registerHelper("getStringResource",$$WP.Strings.getForTemplate),Handlebars.registerHelper("getDisplayStringForAttribute",(function(e,r){return attributeValue='"'+Handlebars.Utils.escapeExpression($$WP.Strings.get(r))+'"',new Handlebars.SafeString(e+"="+attributeValue)})),Handlebars.registerHelper("getDisplayString",(function(e,r,n){if("string"==typeof n){if(n)return $$WP.Strings.getForTemplate(e+"_"+n,r)}else if("number"==typeof n)return $$WP.Strings.getForTemplate(e+"_"+n.toString(),r);return $$WP.Strings.getForTemplate(e,r)})),Handlebars.registerHelper("getDisplayStringWithMnemonics",(function(e,r){var n,t,i;for(t in n="function"==typeof r?r():r)$$WP.Strings.addMnemonic("@MYCHART@"+t.toUpperCase()+"@",n[t].Value,n[t].IsLink,n[t].Namespace,n[t].EncodingType);for(t in i=$$WP.Strings.getForTemplate(e),n)$$WP.Strings.removeMnemonic("@MYCHART@"+t.toUpperCase()+"@",n[t].Namespace);return i})),Handlebars.registerHelper("addStringResourceMnemonic",$$WP.Strings.addMnemonic),Handlebars.registerHelper("addLinkMnemonic",(function(e,r,n,t,i){var a='<a data-id="redirect" href="'+(n=$$WP.Strings.getNamespace().replaceMnemonics(n))+'" data-redirect="'+n+'" data-organization="'+t;!0===i&&(a+='" target="_blank'),$$WP.Strings.addMnemonic(e,a+'">'+$$WP.Strings.get(r)+"</a>",!1,null,$$WP.Strings.EncodingTypes.None)})),Handlebars.registerHelper("setOrganization",$$WP.Strings.setOrganization),Handlebars.registerHelper("clearOrganization",$$WP.Strings.clearOrganization),Handlebars.registerHelper("removeStringResourceMnemonic",$$WP.Strings.removeMnemonic),Handlebars.registerHelper("appendNewWindowNotification",(function(e,r){return $$WP.Strings.appendNewWindowNotification($$WP.Strings.get(e),r)})))}function registerInfoBubbleHelpers(){$$WP.UI.InfoBubble&&(Handlebars.registerHelper("infoBubble",(function(e,r,n,t,i){return Handlebars.helpers.addTemplate("UI.InfoBubble",new $$WP.UI.InfoBubble({BubbleTitle:e,BubbleText:r,DisableHtmlEncoding:"boolean"==typeof n&&!0===n,Image:"images/info.png",BubbleLabelledBy:t,BubbleLabel:i}))})),Handlebars.registerHelper("customInfoBubble",(function(e,r,n,t,i,a,s){return Handlebars.helpers.addTemplate("UI.InfoBubble",new $$WP.UI.InfoBubble({BubbleTitle:r,BubbleText:n,DisableHtmlEncoding:"boolean"==typeof t&&!0===t,Image:e,UseSvgImage:!!i,BubbleLabelledBy:a,BubbleLabel:s}))})),Handlebars.registerHelper("simpleInfoBubble",(function(e,r,n,t){return Handlebars.helpers.addTemplate("UI.InfoBubble",$$WP.UI.InfoBubble.SimpleInfoBubble(e,"boolean"==typeof r&&!0===r,n,t))})),Handlebars.registerHelper("textInfoBubble",(function(e,r,n,t){return Handlebars.helpers.addTemplate("UI.InfoBubble",new $$WP.UI.InfoBubble({AnchorText:e,BubbleTitle:r,BubbleText:n,DisableHtmlEncoding:"boolean"==typeof t&&!0===t}))})),Handlebars.registerHelper("simpleTextInfoBubble",(function(e,r,n){return Handlebars.helpers.addTemplate("UI.InfoBubble",$$WP.UI.InfoBubble.SimpleTextInfoBubble(e,r,"boolean"==typeof n&&!0===n))})))}function registerBannerHelpers(){Handlebars.registerHelper("coreBanner",(function(e){return Handlebars.helpers.addTemplate("Core.Banner",e)})),Handlebars.registerHelper("informationalBanner",(function(e,r,n,t){return Handlebars.helpers.addTemplate("Core.Banner",{BannerType:"informationalType",HeaderText:e,DetailText:r,IconOverride:"string"==typeof n?n:null,FontSize:t})})),Handlebars.registerHelper("successBanner",(function(e,r,n,t){return Handlebars.helpers.addTemplate("Core.Banner",{BannerType:"successType",HeaderText:e,DetailText:r,IconOverride:"string"==typeof n?n:null,FontSize:t})})),Handlebars.registerHelper("warningBanner",(function(e,r,n,t){return Handlebars.helpers.addTemplate("Core.Banner",{BannerType:"warningType",HeaderText:e,DetailText:r,IconOverride:"string"==typeof n?n:null,FontSize:t})})),Handlebars.registerHelper("criticalBanner",(function(e,r,n,t){return Handlebars.helpers.addTemplate("Core.Banner",{BannerType:"criticalType",HeaderText:e,DetailText:r,IconOverride:"string"==typeof n?n:null,FontSize:t})}))}$$WPUtil.guaranteeExistence($$WP,"Handlebars"),$$WPUtil.guaranteeExistence($$WP,"Templates"),$$WP.Handlebars._addHelpersHasBeenCalled=!1,$$WP.Handlebars.addHelpers=function addHelpers(){if(!$$WP.Handlebars._addHelpersHasBeenCalled){$$WP.Handlebars._addHelpersHasBeenCalled=!0,$$WP.Utilities&&($$WP.Handlebars.addComponent=function addComponent(e){var r="componentcontainer_"+$$WPUtil.generateGUID(),f=function(){var n=document.getElementById(r);$$WP.Utilities.addComponent._Counter[r]++,n?(delete $$WPUtil.Handlebars.addComponent._Counter[r],$afe.jq(n).safeAppend(e.$container)):$$WP.Utilities.addComponent._Counter[r]<10&&window.setTimeout(f,1)};return $$WP.Utilities.addComponent._Counter[r]=0,window.setTimeout(f,1),'<div id="'+r+'"></div>'},$$WP.Handlebars.addComponent._Counter={},Handlebars.registerHelper("addComponent",$$WP.Handlebars.addComponent),Handlebars.registerHelper("ifNotNullOrEmpty",(function(e,r){return $$WPUtil.IsNullOrEmpty(e)?r.inverse(this):r.fn(this)})),registerUIUtilitiesHelpers()),registerStringsHelpers();try{makeLink&&(Handlebars.registerHelper("makeLink",makeLink),Handlebars.registerHelper("makeStaticLink",makeStaticLink),Handlebars.registerHelper("makeStaticImageLink",makeStaticImageLink),Handlebars.registerHelper("showFile",(function(e){return makeLink("showfile.asp?key="+e)})))}catch(e){}try{isDataTile&&(Handlebars.registerHelper("ifDataTiles",(function(e){return isDataTile()?e.fn(this):e.inverse(this)})),Handlebars.registerHelper("ifNotDataTiles",(function(e){return isDataTile()?e.inverse(this):e.fn(this)})))}catch(e){}$$WP.CommunityUtilities&&Handlebars.registerHelper("canShowExternalLoadingIndicator",(function(e){return $$WP.CommunityUtilities.hasCommunityLinks()?e.fn(this):e.inverse(this)})),$$WP.FormValidation&&(Handlebars.registerHelper("validationSettingsAttribute",$$WP.FormValidation.Handlebars.validationSettingsAttribute),Handlebars.registerHelper("messageDisplay",$$WP.FormValidation.Handlebars.messageDisplay),Handlebars.registerHelper("messageDisplayForAttribute",$$WP.FormValidation.Handlebars.messageDisplayForAttribute),Handlebars.registerHelper("disableIfInvalidAttribute",$$WP.FormValidation.Handlebars.disableIfInvalidAttribute),Handlebars.registerHelper("validationGroupAttribute",$$WP.FormValidation.Handlebars.validationGroupAttribute),Handlebars.registerHelper("validationRequiredAttribute",$$WP.FormValidation.Handlebars.validationRequiredAttribute),Handlebars.registerHelper("showRequiredInstructions",$$WP.FormValidation.Handlebars.showRequiredInstructions)),$$WP.Currency&&Handlebars.registerHelper("numberAsCurrency",(function(e,r){var n;return n="function"==typeof e?e():e,$$WP.Currency.Helpers.numberToCurrency(n,r)})),registerI18NHelpers(),$$WP.UI&&($$WP.UI.Command&&Handlebars.registerHelper("command",(function(e,r,n,t,i){var a=new $$WP.UI.CommandOptions("string"==typeof t?JSON.parse(t):t);a.MiscContent=(a.MiscContent||"")+(i&&i.fn?new Handlebars.SafeString(i.fn(this)):"");var s=new $$WP.UI.Command({Priority:e,Tone:r,Caption:n,CmdOptions:a});return Handlebars.helpers.addTemplate("UI.Command",s)})),$$WP.UI.Dropdown&&Handlebars.registerHelper("dropdown",(function(e,r,n,t,i,a,s){var l=$$WP.UI.DropdownOption.convertRawDropdownOptions(i,a,s);return Handlebars.helpers.addTemplate("UI.Dropdown",new $$WP.UI.Dr32opdown({IdName:e,Label:r,PlaceholderText:n,ValidationSettings:t,Options:l}))})),$$WP.UI.Dropdown&&Handlebars.registerHelper("dropdown",(function(e,r,n,t,i,a,s){var l=$$WP.UI.DropdownOption.convertRawDropdownOptions(i,a,s);return Handlebars.helpers.addTemplate("UI.Dropdown",new $$WP.UI.Dropdown({IdName:e,Label:r,PlaceholderText:n,ValidationSettings:t,Options:l}))})),registerInfoBubbleHelpers()),registerBannerHelpers(),Handlebars.registerHelper("ajaxSpinner",(function(e,r,n){if(78!=$$WP.ApplicationContext)return Handlebars.helpers.addTemplate("UI.AjaxSpinner",{inline:e,loadingMessage:r,role:n?"status":"alert"})})),$$WP.Svg&&Handlebars.registerHelper("referenceSvg",(function(e){if(null===e||""===e)return null;var r,n=document.createElement("use");return r=0===e.indexOf("~/")?makeLink(e.substring(2)):0===e.indexOf("http")?e:makeStaticImageLink(e),n.setAttribute("xlink:href",r),WP.DOM.Browser.isIE?($$WP.Svg.Helpers.loadSingleSvgIcon(n),new Handlebars.SafeString(n.innerHTML)):new Handlebars.SafeString(n.outerHTML)})),Handlebars.registerHelper("URLEncode",encodeURI),Handlebars.registerHelper("encodeURIComponent",encodeURIComponent),Handlebars.registerHelper("ifEquals",(function(e,r,n){return e!==r?n.inverse(this):n.fn(this)})),Handlebars.registerHelper("ifNotEquals",(function(e,r,n){return e===r?n.inverse(this):n.fn(this)})),Handlebars.registerHelper("addTemplate",(function(e,r,n,t){var i,a=e.split("."),s=a.length,l=$$WP.Templates;for(i=0;i<s;i++)l=l[a[i]];if("function"!=typeof l)throw"addTemplate could not find $$WP.Templates."+e;n&&t&&(r.AdditionalData=n);return new Handlebars.SafeString(l(r,{allowProtoPropertiesByDefault:!0,allowProtoMethodsByDefault:!0}))})),Handlebars.registerHelper("ifLt",(function(e,r,n){return e<r?n.fn(this):n.inverse(this)})),Handlebars.registerHelper("ifGt",(function(e,r,n){return e>r?n.fn(this):n.inverse(this)})),Handlebars.registerHelper("isLastInArray",(function(e,r,n){return e+1===r?n.fn(this):n.inverse(this)})),Handlebars.registerHelper("GetProxySubjectAriaLabel",(function(e,r,n,t,i){var a="",s="ProxySwitch.ProxySwitch.ProxySelector";return a=a+e+" ",r+1===n&&(a=t||i?a+$$WP.Strings.getForTemplate("lastPersonInListWithMoreOptions",s)+" ":a+$$WP.Strings.getForTemplate("lastPersonInList",s)+" "),a})),Handlebars.registerHelper("isMiddleInArray",(function(e,r,n){return e+1===Math.ceil(r/2)?n.fn(this):n.inverse(this)})),Handlebars.registerHelper("each-reverse",(function(e,r){var n,t="";if(e&&e.length>0)for(n=e.length-1;n>=0;n--)r.data.index=n,t+=r.fn(e[n]);else t=r.inverse(this);return t})),Handlebars.registerHelper("raw",(function(e){return new Handlebars.SafeString(e)})),Handlebars.registerHelper("ifEven",(function(e,r){return e%2==0?r.fn(this):r.inverse(this)})),Handlebars.registerHelper("ifAny",(function(){var e,r=arguments.length-1;for(e=0;e<r;e++)if(arguments[e])return arguments[r].fn(this);return arguments[r].inverse(this)})),Handlebars.registerHelper("ifAll",(function(){var e,r=arguments.length-1;for(e=0;e<r;e++)if(!arguments[e])return arguments[r].inverse(this);return arguments[r].fn(this)})),Handlebars.registerHelper("ifNone",(function(){var e,r=arguments.length-1;for(e=0;e<r;e++)if(arguments[e])return arguments[r].inverse(this);return arguments[r].fn(this)})),Handlebars.registerHelper("ifNand",(function(){var e,r=arguments.length-1;for(e=0;e<r;e++)if(!arguments[e])return arguments[r].fn(this);return arguments[r].inverse(this)})),Handlebars.registerHelper("addition",(function(e,r){return(e=Number(e)||0)+(r=Number(r)||0)})),Handlebars.registerHelper("concat",(function(e,r){return(e=String(e)||"")+(r=String(r)||"")})),Handlebars.registerHelper("join",(function(e,r){return e&&e.join?e.join(r):null})),Handlebars.registerHelper("ifIn",(function(e,r,n){return"[object Array]"===Object.prototype.toString.call(r)&&r.indexOf(e)>-1?n.fn(this):n.inverse(this)})),Handlebars.registerHelper("breakLines",(function(e){return e=(e=Handlebars.Utils.escapeExpression(e)).replace(/(\r\n|\n|\r)/gm,"<br>"),new Handlebars.SafeString(e)})),Handlebars.registerHelper("repeat",(function(e,r){var n,t="",i={};for(n=1;n<=e;n++)i.index=n,t+=r.fn(this,{data:i});return t})),Handlebars.registerHelper("ifArray",(function(e,r){return Array.isArray(e)?r.fn(this):r.inverse(this)})),Handlebars.registerHelper("highlightString",(function(e,r){var n,t,i,a=document.createElement("span");if(r.length>0)for(a.appendChild(document.createTextNode(e.substring(0,r[0].start))),i=0;i<r.length;i++)(n=document.createElement("mark")).innerText=e.substring(r[i].start,r[i].end),a.appendChild(n),t=i<r.length-1?r[i+1].start:e.length,a.appendChild(document.createTextNode(e.substring(r[i].end,t)));return new Handlebars.SafeString(a.innerHTML)})),Handlebars.registerHelper("assistiveTextWrapper",(function(e,r){return Handlebars.helpers.addTemplate("UI.AssistiveTextWrapper",{AssistiveLabel:e,VisibleContent:r.fn(this)})})),Handlebars.registerHelper("replaceSpaces",(function(e){return e.split(" ").join("-")}))}};