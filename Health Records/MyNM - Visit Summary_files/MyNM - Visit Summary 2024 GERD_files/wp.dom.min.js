/*! Copyright (c) Epic Systems Corporation 2012-2017 */
"ELEMENT_NODE"in document||(document.ELEMENT_NODE=1,document.ATTRIBUTE_NODE=2,document.TEXT_NODE=3,document.CDATA_SECTION_NODE=4,document.ENTITY_REFERENCE_NODE=5,document.ENTITY_NODE=6,document.PROCESSING_INSTRUCTION_NODE=7,document.COMMENT_NODE=8,document.DOCUMENT_NODE=9,document.DOCUMENT_TYPE_NODE=10,document.DOCUMENT_FRAGMENT_NODE=11,document.NOTATION_NODE=12),"undefined"==typeof WP&&(WP={}),void 0===WP.DOM&&(WP.DOM={}),void 0===WP.DOM.Add&&(WP.DOM.Add={}),void 0===WP.DOM.Search&&(WP.DOM.Search={}),void 0===WP.DOM.Browser&&(WP.DOM.Browser={}),"undefined"==typeof $$WP&&($$WP={}),WP.DOM.Browser._getAndroidVersion=function(){var e,r=-1;return WP.DOM.Browser.isAndroid&&null!=(e=new RegExp(/Android [\d+\.]{3,5}/).exec(navigator.userAgent))&&(r=e[0].replace("Android ","")),r},WP.DOM.Browser._getIEVersion=function(){var e=-1;return"Microsoft Internet Explorer"==navigator.appName&&null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)&&(e=parseFloat(RegExp.$1)),e},WP.DOM.Browser._getIEDocumentMode=function(){return-1===WP.DOM.Browser.IEVersion?-1:"object"!=typeof arguments.caller?9:8},WP.DOM.Browser.showUnsupportedBrowserBanner=function(){if("true"!==sessionStorage.HideUnsupportedBrowserBanner){var e=$$WP.Strings.get("UnsupportedBrowserErrorMessageWithLink","global");title=$$WP.Strings.get("UnsupportedBrowserErrorMessageDismissTitle","global"),"true"===sessionStorage.IEHyperspaceLaunch&&(e=$$WP.Strings.get("UnsupportedBrowserAdminErrorMessage","global"));var r,t="",o=document.createElement("use"),n=makeStaticImageLink("library.svg#_flat_x");o.setAttribute("xlink:href",n),$$WP.Svg.Helpers.loadSingleSvgIcon(o);var s=o.innerHTML;t+='<div class="unsupportedBrowserBanner" id="unsupported_banner" role="presentation">',t+="<strong>"+e,t+='</a>&nbsp;<a href="#" class="closeBanner" id="close_banner" tabindex="0" data-function="dismiss" title="'+title+'">',t+='<svg class="closeButton" aria-hidden="true" focusable="false">'+s+"</svg>",t+="</a ></strong > ",t+="</div>",(r=dangerou$.parseHtml(t)).on("click",'[data-function="dismiss"]',(function(e){sessionStorage.setItem("HideUnsupportedBrowserBanner","true"),e.preventDefault(),e.stopPropagation(),$$WP.Debug.RemoveBanner(r)})),isEmbedded()&&r.find("#browser_link").attr("href",makeLink("Home/UnsupportedBrowser?isEmbedded=1")),$$WP.Debug.AddBanner(r),setTimeout((function(){document.activeElement.blur()}),100),"true"===sessionStorage.IEHasLoggedSoftStop||-1!==window.location.href.toLowerCase().indexOf("action=logout")||!0===$$WP.LocalOrAdmin||isShareEverywhere()||"true"===sessionStorage.IEHyperspaceLaunch||"true"===sessionStorage.PicelAuth||!0===$$WP.IsShareEverywhere||!0===$$WP.IsH2GDataTile||(-1===window.location.href.toLowerCase().indexOf(".asp")?WP.DOM.Browser.logUnsupportedBrowserStopShown(!1):getCSRFTokenAsQS((function(e){$$WPUtil.IsNullOrEmpty(e)||WP.DOM.Browser.logUnsupportedBrowserStopShown(!1)})))}},WP.DOM.Browser.checkClearCache=function(){var e=null,r=$$WPUtil.isLocalStorageAvailable()&&void 0!==window.localStorage;r&&(e=localStorage.getItem("clearCacheVersBit")),(!r||null===e||"undefined"===e||e<10.3)&&$.ajax({url:makeLink("Home/ClearBrowserCache"),type:"POST",data:$$WPUtil.postify({ClearCacheVersBit:e}),cache:!1,dataType:"json"}),r&&(null===e||"undefined"===e||e<10.3)&&localStorage.setItem("clearCacheVersBit",10.3)},WP.DOM.Browser.checkBrowserSupported=function(){(-1!==window.location.href.toLowerCase().indexOf("hyperspacelaunch=true")||-1!==window.location.href.toLowerCase().indexOf("home/error?code=9")||$$WP.HyperspaceSignup||$$WP.HyperspaceAdmin)&&"true"!==sessionStorage.HideUnsupportedBrowserBanner&&sessionStorage.setItem("IEHyperspaceLaunch","true"),-1!==window.location.href.toLowerCase().indexOf("action=logout")&&"true"===sessionStorage.IEHyperspaceLaunch&&WP.Comm.postLogoutOperations(),-1!==window.location.href.toLowerCase().indexOf("linkauth")&&-1!==window.location.href.toLowerCase().indexOf("postloginurl")&&sessionStorage.setItem("PicelAuth","true");var e=$afe.select("body").hasClass("isInside");WP.DOM.Browser.isIE&&0===$afe.select(".unsupportedbrowser").length&&!$$WP.HyperspaceQuestionnaire?!0===$$WP.LocalOrAdmin||isShareEverywhere()||!0===$$WP.IEHardStopDisabled||"true"===sessionStorage.IEHyperspaceLaunch||"true"===sessionStorage.PicelAuth||!0===$$WP.IsShareEverywhere||!0===$$WP.IsH2GDataTile?WP.DOM.Browser.showUnsupportedBrowserBanner():e&&!isDataTile()?window.location=makeLink("Home/Logout"):isEmbedded()?window.location=makeLink("Home/UnsupportedBrowser?isEmbedded=1"):window.location=makeLink("Home/UnsupportedBrowser"):0===$afe.select(".unsupportedbrowser").length||WP.DOM.Browser.isIE?0!==$afe.select(".unsupportedbrowser").length&&setTimeout((function(){$afe.select("h1").focus()}),100):($$WP&&$$WP.Utilities&&!$$WP.Utilities.isValidBrowser()?($afe.select("#error_details").text(""),$afe.select("#error_details").safeAppend(dangerou$.parseHtml($$WP.Strings.get("NonIEBrowserUnsupportedMessage","Home.Browser"))),$afe.select("h1").text($$WP.Strings.get("NonIEBrowserUnsupportedTitle","Home.Browser")),$afe.select(".browser_list").remove(),$afe.select("#error_reason").remove()):($afe.select("#error_details").text(""),$afe.select("#error_details").safeAppend(dangerou$.parseHtml($$WP.Strings.get("BrowserSupportedMessage","Home.Browser"))),$afe.select("h1").text($$WP.Strings.get("BrowserSupportedTitle","Home.Browser")),$afe.select(".browser_list").remove(),$afe.select("#error_reason").remove()),setTimeout((function(){$afe.select("h1").focus()}),100))},WP.DOM.Browser.logUnsupportedBrowserStopShown=function(e){$.ajax({url:makeLink("Home/LogUnsupportedBrowserStopShown"),type:"POST",data:$$WPUtil.postify({isHardStop:e}),cache:!1,dataType:"json"});var r=e?"IEHasLoggedHardStop":"IEHasLoggedSoftStop";sessionStorage.setItem(r,"true")},WP.DOM.Browser.isSafari=null!==navigator.userAgent.toLowerCase().match(/safari/)&&null===navigator.userAgent.toLowerCase().match(/chrome/),WP.DOM.Browser.isOmniweb=null!=navigator.userAgent.toLowerCase().match(/omniweb/),WP.DOM.Browser.isOpera=null!=navigator.userAgent.toLowerCase().match(/opera/),WP.DOM.Browser.userAgent=navigator.userAgent,WP.DOM.Browser.isIE=null!=navigator.appVersion.match(/MSIE/)||!!navigator.userAgent.match(/Trident.*rv\:11\./),WP.DOM.Browser.isLegacyEdge=!!navigator.userAgent.match(/Edge\/([1-4]\d\.)/i),WP.DOM.Browser.isChromiumEdge=!!navigator.userAgent.match(/Edg\//i),WP.DOM.Browser.IEVersion=WP.DOM.Browser._getIEVersion(),WP.DOM.Browser.IEDocMode=WP.DOM.Browser._getIEDocumentMode(),WP.DOM.Browser.isNewIE=WP.DOM.Browser.isIE&&WP.DOM.Browser.IEVersion>=8,WP.DOM.Browser.isOldIE=WP.DOM.Browser.isIE&&!WP.DOM.Browser.isNewIE,WP.DOM.Browser.isFirefox=null!=WP.DOM.Browser.userAgent.match(/firefox/i),WP.DOM.Browser.isOldFirefox=WP.DOM.Browser.isFirefox&&(null!=WP.DOM.Browser.userAgent.match(/firefox\/2./i)||null!=WP.DOM.Browser.userAgent.match(/firefox\/1./i)),WP.DOM.Browser.isNewFirefox=WP.DOM.Browser.isFirefox&&!WP.DOM.Browser.isOldFirefox,WP.DOM.Browser.isWebKit=null!=navigator.appVersion.match(/WebKit/),WP.DOM.Browser.isChrome=null!=navigator.appVersion.match(/Chrome/),WP.DOM.Browser.orientation=window.orientation,WP.DOM.Browser.isAndroid=navigator.userAgent.match(/Android/i),WP.DOM.Browser.isWebOS=navigator.userAgent.match(/webOS/i),WP.DOM.Browser.isIPhone=navigator.userAgent.match(/iPhone/i),WP.DOM.Browser.isIPad=navigator.userAgent.match(/iPad/i)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,WP.DOM.Browser.isIPod=navigator.userAgent.match(/iPod/i),WP.DOM.Browser.isBlackBerry=navigator.userAgent.match(/BlackBerry/i),WP.DOM.Browser.isWindowsPhone=navigator.userAgent.match(/Windows Phone/i),WP.DOM.Browser.isMobile=WP.DOM.Browser.isAndroid||WP.DOM.Browser.isWebOS||WP.DOM.Browser.isIPhone||WP.DOM.Browser.isIPad||WP.DOM.Browser.isIPod||WP.DOM.Browser.isBlackBerry||WP.DOM.Browser.isWindowsPhone||navigator.userAgent.toLowerCase().match(/mobile/i),void 0===WP.DOM.Create&&(WP.DOM.Create={}),WP.DOM.Create.tag=function(e,r,t,o,n){var s=document.createElement(e||"div");return s?(r&&(s.className=r),t&&(s.id=t),o&&(s.title=o),n&&dangerou$.setHtml(s,n),s):null},WP.DOM.Create.anchoredNode=function(e,r,t){var o=document.createElement("a");return o.href="#",(r=r||!1)?dangerou$.setHtml(o,e):o.appendChild(document.createTextNode(HTMLUnencode(e))),t&&(o.title=t),WP.Events.addListener(o,"click",(function(){return!1})),o},void 0===WP.DOM.Read&&(WP.DOM.Read={}),WP.DOM.Read.getStyle=function(e,r){var t,o,n=r.split("-"),s=n[0];if("string"==typeof e&&(e=document.getElementById(e)),e&&"#text"!==e.nodeName&&"#comment"!==e.nodeName){for(t=1;t<n.length;t++)s+=n[t].charAt(0).toUpperCase()+n[t].slice(1);if(e.currentStyle)o=e.currentStyle[s];else if(window.getComputedStyle)try{o=document.defaultView.getComputedStyle(e,null).getPropertyValue(r)}catch(e){o=""}return o}},WP.DOM.Read.getBorderWidth=function(e){var r={};return r.left=parseInt(WP.DOM.Read.getStyle(e,"border-left-width"),10),r.top=parseInt(WP.DOM.Read.getStyle(e,"border-top-width"),10),r.right=parseInt(WP.DOM.Read.getStyle(e,"border-right-width"),10),r.bottom=parseInt(WP.DOM.Read.getStyle(e,"border-bottom-width"),10),r},WP.DOM.Read.getAbsolutePosition=function(e){if("string"==typeof e&&(e=document.getElementById(e)),e){var r,t,o,n,s,i,a,d,l={x:0,y:0};if(null!==e)if(e.getBoundingClientRect)r=document.documentElement,t=e.getBoundingClientRect(),o=window.pageXOffset,n=window.pageYOffset,o||(o=r.scrollLeft),n||(n=r.scrollTop),l.x=t.left+o,l.y=t.top+n;else for(l.x=e.offsetLeft,l.y=e.offsetTop,s=e.parentNode,i=e.offsetParent,a=null;null!=i;){if(l.x+=i.offsetLeft,l.y+=i.offsetTop,d=i.tagName.toLowerCase(),(WP.DOM.Browser.isOldIE&&"table"!=d||(WP.DOM.Browser.isNewFirefox||WP.DOM.Browser.isChrome)&&"td"==d)&&(a=WP.DOM.Browser.getBorderWidth(i),l.x+=a.left,l.y+=a.top),i!=document.body&&i!=document.documentElement&&(l.x-=i.scrollLeft,l.y-=i.scrollTop),!WP.DOM.Browser.isIE||WP.DOM.Browser.isNewIE)for(;i!=s&&null!==s;)l.x-=s.scrollLeft,l.y-=s.scrollTop,(WP.DOM.Browser.isOldFirefox||WP.DOM.Browser.isWebKit)&&(a=WP.DOM.Browser.getBorderWidth(s),l.x+=a.left,l.y+=a.top),s=s.parentNode;s=i.parentNode,i=i.offsetParent}return l.x=parseInt(l.x,10),l.y=parseInt(l.y,10),l}},void 0===WP.DOM.Search&&(WP.DOM.Search={}),WP.DOM.Search.getPrevious=function(e){var r,t;for(t=function(e){if(!e)return null;if(e.previousSibling){for(r=e.previousSibling;r.lastChild;)r=r.lastChild;return r}return e.parentNode},r=t(e);"#text"===r.nodeName||"#comment"===r.nodeName;)r=t(r);return r},WP.DOM.Search.getNext=function(e){var r,t;for(t=function(e){if(e&&e.firstChild)return e.firstChild;for(var r=e;null!==r;){if(r.nextSibling)return r.nextSibling;r=r.parentNode}return r},r=t(e);"#text"===r.nodeName||"#comment"===r.nodeName;)r=t(r);return r},WP.DOM.Search.getPreviousFiltered=function(e,r){return void 0===e&&((e={})[document.ELEMENT_NODE]=1,e[document.ATTRIBUTE_NODE]=1),WP.Utils.iterateFindNext(WP.DOM.Search.getPrevious,(function(r){return r&&e[r.nodeType]}),r)},WP.DOM.Search.getNextFiltered=function(e,r){return void 0===e&&((e={})[document.ELEMENT_NODE]=1,e[document.ATTRIBUTE_NODE]=1),WP.Utils.iterateFindNext(WP.DOM.Search.getNext,(function(r){return r&&e[r.nodeType]}),r)},WP.DOM.Search.getFocused=function(e,r){var t=!0===r?parent.document:document;try{return t.querySelector&&t.querySelector(":focus")||t.activeElement||e}catch(r){return e}},void 0===WP.DOM.Test&&(WP.DOM.Test={}),WP.DOM.Test.beingRendered=function(e){return e.nodeType===document.DOCUMENT_NODE||"none"!=WP.DOM.Read.getStyle(e,"display")&&(!/colgroup|col|thead|tbody|tfoot|tr|td|th/.test(e.tagName)||"collapse"==WP.DOM.Read.getStyle(e,"visibility"))&&WP.DOM.Test.beingRendered(e.parentNode)},WP.DOM.Test.canFocus=function(e){if(!WP.DOM.Test.beingRendered(e)||"#text"===e.nodeName||"#comment"===e.nodeName)return!1;var r=parseInt(e.getAttribute("tabindex"));return isNaN(r)?!!(/^button|input|object|select|textarea$/i.test(e.nodeName)||e.href&&/^a|area$/i.test(e.nodeName))&&(!e.disabled&&!e.readOnly&&"hidden"!==e.type):r>=0},WP.DOM.Test.canFocusViaNavigation=function(e){return WP.DOM.Test.canFocus(e)&&(e.tabIndex||0)>=0},WP.DOM.Search.getPreviousFocusable=function(e){return WP.Utils.iterateFindNext(WP.DOM.Search.getPrevious,WP.DOM.Test.canFocus,e)},WP.DOM.Search.getNextFocusable=function(e){return WP.Utils.iterateFindNext(WP.DOM.Search.getNext,WP.DOM.Test.canFocus,e)},WP.DOM.Add.addCSSRules=function(e,r){var t;if("insertRule"in e)for(var o=/([\s\S]*?)\{([\s\S]*?)\}/g;t=o.exec(r);)e.insertRule(t[0],e.cssRules.length);else"cssText"in e&&(e.cssText+=r)},WP.DOM.Search.findStyleSheet=function(e){for(var r=document.styleSheets,t=0;t<r.length;t++)if(r[t].href.lastIndexOf(e)==r[t].href.length-e.length)return r[t];return null},WP.DOM.Add.addStyleSheet=function(){var e,r=document.getElementsByTagName("head")[0],t=document.createElement("style");for(r.appendChild(t),e=0;e<document.styleSheets.length;e++)if((document.styleSheets[e].ownerNode||document.styleSheets[e].owningElement)===t)return document.styleSheets[e]},WP.DOM.Add.addCSSRule=function(e,r){"insertRule"in e?e.insertRule(r,e.cssRules.length):"cssText"in e&&(e.cssText+=r)},WP.DOM.Search.getLastFocusable=function(e){for(;e.lastChild;)e=e.lastChild;return WP.DOM.Test.canFocus(e)?e:WP.DOM.Search.getPreviousFocusable(e)};