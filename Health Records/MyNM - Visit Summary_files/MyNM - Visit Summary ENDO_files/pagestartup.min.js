/*! Copyright (c) Epic Systems Corporation 2014-2019 */
$$WP.PageStartup=$$WP.PageStartup||{},function PageStartup$cloneAjax(){if($$WP._ajaxReal)$$WP.Debug.logError("$.ajax has already been copied. Did this file get included twice?");else{var getCSRFInfo=function(){return($$WP&&$$WP._CSRFTokenName&&$$WP._CSRFToken?{tokenName:$$WP._CSRFTokenName,tokenValue:$$WP._CSRFToken}:null)||(null!=(e=getTokenFromDiv("#__CSRFContainer")).tokenName&&null!=e.tokenValue&&($$WP._CSRFTokenName=e.tokenName,$$WP._CSRFToken=e.tokenValue),e);var e},getWidgetToken=function(){return($$WP&&$$WP._WidgetTokenName&&$$WP._WidgetToken?{tokenName:$$WP._WidgetTokenName,tokenValue:$$WP._WidgetToken}:null)||(null!=(e=getTokenFromDiv("#__WidgetTokenContainer")).tokenName&&null!=e.tokenValue&&($$WP._WidgetTokenName=e.tokenName,$$WP._WidgetToken=e.tokenValue),e);var e},getTokenFromDiv=function(e){var t,a,n={};return(t=$afe.select(e))&&t.length>0&&(a=t.find("input").first())&&a.length>0&&(n={tokenName:a.safeAttr("name"),tokenValue:a.val()}),n};$.ajaxPrefilter((function PageStartup$ajaxPrefilter(e,t,a){e.crossDomain&&(e.contents.script=!1),a.originalOptions=t})),$$WP._ajaxReal=$.ajax||jQuery.ajax,$.ajax=function PageStartup$ajax(e,t){var a;return"object"==typeof e?e=(t=e).url:t=t||{},t.type=t.type||"GET","GET"!==t.type.toUpperCase()&&(t.headers=t.headers||{},a=getCSRFInfo(),t.headers[a.tokenName]=a.tokenValue),$$WP.WidgetMode&&(t.headers=t.headers||{},t.headers.__WidgetHeader=getWidgetToken().tokenValue,t.headers["api-key"]=$$WP.WidgetApiKey,$$WP.WidgetLanguage&&(t.headers.lang=$$WP.WidgetLanguage)),t.captchaResponse&&(t.headers["X-Captcha-Response"]=t.captchaResponse),e=$$WP.Utilities.addUrlParameter(e,"noCache",Math.random()),t.url=e,function PageStartup$wrapAjaxCallbacks(e){var t,a;e.success&&(e.hasOwnSuccessHandler=!0,t=e.context?e.success.bind(e.context):e.success.bind(e)),e.error&&(e.hasOwnErrorHandler=!0,a=e.context?e.error.bind(e.context):e.error.bind(e));var n=!1;e.success=function PageStartup$wrapAjaxCallbacks$successWrapper(e,a,i){try{n||$$WP&&$$WP.Performance&&$$WP.Performance.Tracker&&"function"==typeof $$WP.Performance.Tracker._logHttpRequest&&($$WP.Performance.Tracker._logHttpRequestFromAjax(i),n=!0)}finally{t&&t(e,a,i)}},e.error=function PageStartup$wrapAjaxCallbacks$errorWrapper(e,t,i){try{n||$$WP&&$$WP.Performance&&$$WP.Performance.Tracker&&"function"==typeof $$WP.Performance.Tracker._logHttpRequest&&($$WP.Performance.Tracker._logHttpRequestFromAjax(e),n=!0)}finally{a&&a(e,t,i)}}}(t),$$WP._ajaxReal(e,t)},$$WP.IsPendingAJAXRequests=!1,$$WP.PendingAJAXCallBack=null,$afe.jq(document).ajaxStart((function PageStartup$ajaxStart(){$$WP.IsPendingAJAXRequests=!0})),$afe.jq(document).ajaxStop((function PageStartup$ajaxStop(){$$WP.IsPendingAJAXRequests=!1,null!==$$WP.PendingAJAXCallBack&&"function"==typeof $$WP.PendingAJAXCallBack&&($$WP.PendingAJAXCallBack(),$$WP.PendingAJAXCallBack=null)}))}}(),function PageStartup$cloneShowHide(e){var t;$$WP._showReal&&$$WP._hideReal?$$WP.Debug.logError("$.show and $.hide have already been copied. Did this file get included twice?"):($$WP._showReal=e.fn.show,$$WP._hideReal=e.fn.hide,t=function PageStartup$supplementCompleteFunction(e){var t,a,n,i=function PageStartup$callbackShowHide(){t()},o=function PageStartup$callbackShowHide(){};if(0!==e.length){for(a=0;a<e.length;a++)"object"==typeof(t=e[a])?("function"==typeof t.complete?e[a].complete=i:e[a].complete=o,n=!0):"function"==typeof t&&(e[a]=i,n=!0);n||Array.prototype.push.call(e,o)}},e.fn.show=function PageStartup$show(){var e;return setTimeout((function(){$$WP.Debug.UpdateTopMarginForBanners()}),100),this.length>0&&(this.hasClass("hidden")?$$WP.Debug.logError("$.show() called on a hidden element. It still won't be shown - it's hidden. If you want it to ever appear, use the jqHidden class instead of hidden."):this.hasClass("jqHidden")||$$WP.Debug.log("$.show() called on an element without the jqHidden class. You should set this class rather than an inline display style.",!0)),arguments.length>0?(t(arguments),e=$$WP._showReal.apply(this,arguments)):(e=$$WP._showReal.apply(this),this.hasClass("cardlist")&&this.trigger("cardLoad")),e},e.fn.hide=function PageStartup$hide(){var e;return this.length>0&&(this.hasClass("hidden")?$$WP.Debug.logError("$.hide() called on a hidden element. This was a pointless function call."):this.hasClass("jqHidden")||$$WP.Debug.log("$.hide() called on an element without the jqHidden class. You should set this class rather than an inline display style.",!0)),arguments.length>0?(t(arguments),e=$$WP._hideReal.apply(this,arguments)):e=$$WP._hideReal.apply(this),e})}(jQuery),$afe.onDocumentReady((function PageStartup$onDomReady(){$$WP.WidgetMode&&(setInterval($$WPUtil.RefreshHeader,9e5),setupIframeResizer()),!0!==$$WP.IsEpicAjaxErrorHandlerDisabled&&$afe.jq(document).ajaxError($$WPUtil.defaultAjaxErrorHandler),function PS$setupFDILinkHandling(){WP.FdiUtils&&($afe.select("body").on("click","a[data-fdi-option]",WP.FdiUtils.handleFDILink),$afe.select("body").on("click",'a[href="#Extensibility_ReportLink"]',WP.FdiUtils.handleFDILink))}(),function PageStartup$setupInputListeners(){var e,t,a,n,i,o,r,s,l,u;i=/<([A-Za-z\/])/gm,l=/&#/gm,u=[9,16,17,18,20,27,33,34,35,36,37,38,39,40,44,112,113,114,115,116,117,118,119,120,121,122,123,144,145],n=function PageStartup$sanitizeXmlAndHtml(e){return e.replace(i,"< $1").replace(l,"& #")},e=function PageStartup$includes(e){var t=!1;return u.forEach((function(a){e!==a||(t=!0)})),t},t=function PageStartup$sanitizeInput(t){var a,i,o;t&&t.which&&e(t.which)||(a=this.value,i=n(a),o=$$WPUtil.RemoveUnsupportedChars(i),a.length!==o.length&&(this.value=o,o!==i&&($$WP.Utilities.UI.IsMobile||WP.DOM.Browser.isMobile?alert($$WP.Strings.get("UnsupportedCharsPopupMessage","Global")):$$WPUtil.quickPopup(new $$WPComp.MessageComponent({TitleText:$$WP.Strings.get("UnsupportedCharsPopupTitle","Global"),ToolbarButtons:[{Text:$$WP.Strings.get("UnsupportedCharsPopupConfirmButton","Global")}],Message:$$WP.Strings.get("UnsupportedCharsPopupMessage","Global"),IsClosable:!0}),{Size:$$WP.Containers.Popup.SizeEnum.Small,positioningFunction:$$WPContain.Positions.InsideCentered}))))},a=function PageStartup$formValidationSanitizeInput(t){var a,i;t&&t.which&&e(t.which)||(a=this.value)!==(i=n(a))&&(this.value=i)},r='input:not([data-jq-ignore="true"]):not([data-permissive="true"]):not([type]):not([data-validation-settings]), input:not([data-jq-ignore="true"]):not([data-permissive="true"])[type="text"]:not([data-validation-settings]), textarea:not([data-jq-ignore="true"]):not([data-permissive="true"]):not([data-validation-settings])',s='input:not([data-jq-ignore="true"]):not([data-permissive="true"]):not([type])[data-validation-settings], input:not([data-jq-ignore="true"]):not([data-permissive="true"])[type="text"][data-validation-settings], textarea:not([data-jq-ignore="true"]):not([data-permissive="true"])[data-validation-settings]',(o=$afe.select("body")).on("keyup change",r,t),o.on("keyup change",s,a),o.on("paste",r,(function(){setTimeout($.proxy(t,this),300)})),o.on("paste",s,(function(){setTimeout($.proxy(a,this),300)})),o.on("click","a",(function WP$GlobalAnchorListener(e){var t,a,n,i,o,r;a=(t=$afe.jq(e.currentTarget).closest("a")).safeAttr("data-redirect")||t.safeAttr("href"),!(o=t.safeAttr("target"))&&t.safeAttr("data-jq-ignore")||(t.hasClass("disabled")||"#"===a?e.preventDefault():t.get(0).hasAttribute("onclick")||"string"!=typeof a||0===a.length||"#"===a[0]||t.get(0).hasAttribute("target")&&"_blank"!==o&&"_self"!==o||(n="_blank"===t.safeAttr("target")||e.ctrlKey,i=t.safeAttr("data-organization"),r="true"===t.safeAttr("data-external"),$$WPUtil.TryRedirect(a,null,i,n,r),e.preventDefault()))})),window.location!==window.parent.location&&o.on("focus","a[href]:not([tabindex='-1']), area[href]:not([tabindex='-1']), input:not([tabindex='-1']), select:not([tabindex='-1']), textarea:not([tabindex='-1']), button:not([tabindex='-1']), [tabindex]:not([tabindex='-1'])",(function WP$GlobalClickListenerGetIFrameStorageAccess(e){var t=-1!==document.location.pathname.toLowerCase().indexOf("authentication/login/loginwidget"),a=!0;try{a=window.top.location.hostname.toLowerCase()!==window.location.hostname.toLowerCase()}catch(e){a=!0}t&&a&&"function"==typeof document.requestStorageAccess&&WP.DOM.Browser.isFirefox&&$$WPUtil.canWriteCookies()&&document.requestStorageAccess().then((function(){"1"!=getCookie("LoginWidget",!0)&&(setCookie("LoginWidget","1",!0),document.getElementById("loginForm")||window.location.reload())}),(function(){"1"!=getCookie("LoginWidget",!0)&&(setCookie("LoginWidget","0",!0),o.trigger("failedStorageRequest"))})),$$WPUtil.canWriteCookies()||$$WPUtil.canWriteCookiesAsync().then((function(e){e?o.trigger("successfulStorageRequest"):o.trigger("failedStorageRequest")}))}))}(),function PageStartup$DrivingDirections(){var e=function WP$PageStartup$DrivingDirections$s_clickedDrivingDirections(e){var t=$afe.jq(e.currentTarget).safeAttr("data-driving-directions");openWindow(makeLink("Education/DrivingDirections?destination="+encodeURIComponent(t)),null,"",null,!0),e.preventDefault()};!function WP$PageStartup$DrivingDirections$s_initializeFramework(){$afe.select("body").on("click","[data-driving-directions]",e)}()}(),function PS$setActivity(){$afe.select("body").on("input keyup keypress change scroll click dblclick select wheel cut paste touchstart touchend touchmove touchcancel",$$WP.Utilities.SetActivity)}(),function PageStartup$overrideOpenWindow(){var e;$$WP._windowOpenReal=$.proxy(window.open,window),e=function Page$Startup$overrideOpenWindow$windowOpenOverride(e,t,a,n){return openWindow(e,t,a,null,!1,n)},window.open=e}(),function PageStartup$overrideJQueryExtend(){jQuery.extend=jQuery.fn.extend=function(){var e,t,a,n,i,o,r=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof r&&(u=r,r=arguments[s]||{},s++),"object"==typeof r||jQuery.isFunction(r)||(r={}),s===l&&(r=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)a=r[t],r!==(n=e[t])&&"__proto__"!==t&&(u&&n&&(jQuery.isPlainObject(n)||(i=jQuery.isArray(n)))?(i?(i=!1,o=a&&jQuery.isArray(a)?a:[]):o=a&&jQuery.isPlainObject(a)?a:{},r[t]=jQuery.extend(u,o,n)):void 0!==n&&(r[t]=n));return r}}()}));