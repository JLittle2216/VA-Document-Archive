$$WPComp.SafeToRedirectComponent=function WPPop$SafeToRedirectPopup(e){if($$WPComp.applySettings(e,this),"function"!=typeof this.callback)throw"A callback function is required for SafetoRedirectPopup";if(this.CallbackContext=this.CallbackContext||this,this.Components$Component({}),!WP.Events.showBeforeUnloadMessage())return WP.Events.beforeUnloadHold=!0,this.callback.apply(this.CallbackContext,[!0]),this._alreadyExecutedCallback=!0,void this.dispose();this.addEventListener("click",this.clickSafeToRedirect)},$$WPComp.SafeToRedirectComponent.prototype={IsClosable:!0,ToolbarButtons:[new $$WPComp.ComplexObjects.Button($$WP.Strings.get("StayButtonText","Core.SafeToRedirectPopup"),null,"","stay"),new $$WPComp.ComplexObjects.Button($$WP.Strings.get("LeaveButtonText","Core.SafeToRedirectPopup"),null,"inlinedelete","leave")],TitleText:$$WP.Strings.get("SafeToRedirectTitle","Core.SafeToRedirectPopup"),Html:$$WP.Strings.get("Message","Core.SafeToRedirectPopup"),clickSafeToRedirect:function WPPop$SafeToRedirectPopup$_click(e){if(e.dataId)return WP.Events.beforeUnloadHold=e.dataId===$$WPComp.TOOLBARIDENTIFIER+"leave",this._alreadyExecutedCallback=!0,this.callback.apply(this.CallbackContext,[WP.Events.beforeUnloadHold]),this.dispose(!0),!1},show:function(){this._alreadyExecutedCallback?this.dispose(!0):(this.Components$Component$show(),WP.Events.SafeToUnloadWarningDisplayed=!0)},dispose:function(e){this._isDisposed||(this._alreadyExecutedCallback||(this._alreadyExecutedCallback=!0,this.callback.apply(this.CallbackContext,[!1])),this.Components$Component$dispose(e),WP.Events.SafeToUnloadWarningDisplayed=!1)}},$$WPComp.SafeToRedirectComponent.canceledRedirect=function WPPop$SafeToRedirectPopup$canceledRedirect(){delete WP.Events.beforeUnloadHold},$$WPComp.SafeToRedirectComponent.extend("Components.Component");